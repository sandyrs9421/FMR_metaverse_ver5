"use strict";const getGlobalThis=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==this)return this;throw new Error("Unable to locate global `this`")},globalObject=getGlobalThis();var loader;!function(v){let C=0;const T=[],E=[],R={baseUrl:""},A={};function c(v,T,E){let R=null,S={},O=null;"function"==typeof v?S=v:"string"==typeof v?(R=v,"function"==typeof T?S=T:T instanceof Array&&(O=T,S=E)):v instanceof Array&&(O=v,"function"==typeof T&&(S=T)),O=O||["require","exports","module"],null===R&&(R="unnamed-module-"+C++),R=g(R),O=(O||[]).map((v=>function(v,C){return v?b(C,v):C}(R,v))),A[R]||(A[R]={name:R,parent:null,dclamd:1,dependencies:O,handlers:[],exports:{},dependants:new Set}),A[R].dependencies=O,p(O,(function(v){const C=A[R];if(!C)throw new Error("Could not access registered module "+R);let T=C.exports;T="function"==typeof S?S.apply(globalObject,v)||T:S,C.exports=T,d(R)}),(v=>{if("function"!=typeof onerror)throw v;onerror(v)}),R)}function d(v){const C=A[v];if(!C)throw new Error("Could not access registered module "+v);C.dclamd=2;const T=C.handlers;if(T&&T.length)for(let C=0;C<T.length;C++)T[C](A[v])}function u(v,C,T){if(!A[v])return null;if(v===C||50===T)return[v];const E=A[v].dependencies;for(let R=0,A=E.length;R<A;R++){const A=u(E[R],C,T+1);if(null!==A)return A.push(v),A}return null}function a(v,C){const T=A[v];if(!T)return!1;const E={};for(const v in A)E[v]=!1;const R=[];for(R.push(T),E[v]=!0;R.length>0;){const v=R.shift().dependencies;if(v)for(let T=0,S=v.length;T<S;T++){const S=v[T];if(S===C)return!0;const O=A[S];O&&!E[S]&&(E[S]=!0,R.push(O))}}return!1}function p(v,C,T,R){const S=new Array(v.length).fill(null);let O=0,I=!1;if("string"==typeof v){if(A[v]){if(1===A[v].dclamd)throw new Error(`Trying to load ${v} from ${R}. The first module is still loading.`);return A[v]}throw new Error(v+" has not been defined. Please include it as a dependency in "+R+"'s define()")}const M=v.length;for(let V=0;V<M;V++)switch(v[V]){case"require":const h=function(v,C,T){return p(v,C,T,R)};h.toUrl=function(v){return b(v,R)},S[V]=h,O++;break;case"exports":if(!A[R])throw new Error("Parent module "+R+" not registered yet");S[V]=A[R].exports,O++;break;case"module":S[V]={id:R,uri:b(R)},O++;break;default:{const z=v[V],m=()=>{S[V]=A[z].exports,O++,O===M&&C&&(I=!0,C(S))};if(a(z,R)){const v=u(z,R,0);v&&(v.reverse(),v.push(z),E.push(v)),w(z,(()=>{}),T,R),m()}else w(z,m,T,R);break}}!I&&O===M&&C&&C(S)}function h(v,C){return function(){return dcl.callRpc(v,C.name,T.slice.call(arguments,0))}}function w(v,C,T,E){if(A[v])return A[v].dependants.add(E),void(1===A[v].dclamd?C&&A[v].handlers.push(C):C&&C(A[v]));if(A[v]={name:v,parent:E,dclamd:1,handlers:[C],dependencies:[],dependants:new Set([E]),exports:{}},0===v.indexOf("@")){const C=A[v].exports;if("function"!=typeof dcl.loadModule)throw new Error("Asynchronous modules will not work because loadModule function is not present");dcl.loadModule(v,C).then((T=>{for(const v in T.methods){const E=T.methods[v];C[E.name]=h(T.rpcHandle,E)}d(v)})).catch((v=>{T(v)}))}}function g(v){let C,T=v;for(C=/\/\.\//;C.test(T);)T=T.replace(C,"/");for(T=T.replace(/^\.\//g,""),C=/\/(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//;C.test(T);)T=T.replace(C,"/");return T=T.replace(/^(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//,""),T=T.replace(/^\//g,""),T}function b(v,C){switch(v){case"require":case"exports":case"module":return v}return C?function(v,C){let T=v;if(!T.startsWith("@")&&(T.startsWith("./")||T.startsWith("../"))){const v=C.split("/");v.pop(),T=g(v.join("/")+"/"+T)}return T}(v,C):g(v)}v.config=function(v){if("object"==typeof v)for(const C in v)v.hasOwnProperty(C)&&(R[C]=v[C])},v.define=c,function(v){v.amd={},v.modules=A}(c=v.define||(v.define={})),v.require=p,"undefined"!=typeof dcl&&dcl.onStart((()=>{const v=new Set,C=[];for(const T in A)A[T]&&(1===A[T].dclamd&&C.push(A[T]),A[T].dependencies.forEach((C=>{"require"!==C&&"exports"!==C&&"module"!==C&&(A[C]||v.add(C))})));const T=[];if(E.length&&T.push(`\n> Cyclic dependencies: ${E.map((v=>"\n  - "+v.join(" -> "))).join("")}`),v.size&&T.push(`\n> Undeclared/unknown modules: ${Array.from(v).map((v=>"\n  - "+v)).join("")}`),C.length&&T.push(`\n> These modules didn't load: ${C.map((v=>"\n  - "+v.name)).join("")}.\n`),T.length)throw new Error(T.join("\n"))})),p.toUrl=b}(loader||(loader={})),globalObject.define=loader.define,globalObject.dclamd=loader,function(v){var C=function(){function t(){}return t.AVATAR={getEntityRepresentation:function(v){return v.avatarEntity}},t.FIRST_PERSON_CAMERA={getEntityRepresentation:function(v){return v.firstPersonCameraEntity}},t}(),n=function(v,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(v[T]=C[T])})(v,C)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function i(v,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function i(){this.constructor=v}n(v,C),v.prototype=null===C?Object.create(C):(i.prototype=C.prototype,new i)}var o=function(){return(o=Object.assign||function(v){for(var C,T=1,E=arguments.length;T<E;T++)for(var R in C=arguments[T])Object.prototype.hasOwnProperty.call(C,R)&&(v[R]=C[R]);return v}).apply(this,arguments)};function r(v,C,T,E){var R,A=arguments.length,S=A<3?C:null===E?E=Object.getOwnPropertyDescriptor(C,T):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(v,C,T,E);else for(var O=v.length-1;O>=0;O--)(R=v[O])&&(S=(A<3?R(S):A>3?R(C,T,S):R(C,T))||S);return A>3&&S&&Object.defineProperty(C,T,S),S}function s(v,C){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,C)}function h(v){var C="function"==typeof Symbol&&Symbol.iterator,T=C&&v[C],E=0;if(T)return T.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(v,C){var T="function"==typeof Symbol&&v[Symbol.iterator];if(!T)return v;var E,R,A=T.call(v),S=[];try{for(;(void 0===C||C-- >0)&&!(E=A.next()).done;)S.push(E.value)}catch(v){R={error:v}}finally{try{E&&!E.done&&(T=A.return)&&T.call(A)}finally{if(R)throw R.error}}return S}function p(v,C){for(var T=0,E=C.length,R=v.length;T<E;T++,R++)v[R]=C[T];return v}var T=0;function c(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];"undefined"!=typeof dcl?dcl.log.apply(dcl,p([],l(v))):console.log.apply(console,p(["DEBUG:"],l(v)))}function y(v,C){"undefined"!=typeof dcl?dcl.error(v,C):console.error("ERROR:",v,C)}function f(v){if(T++,0===v.length)throw new Error("newId(type: string): type cannot be empty");return v+T.toString(36)}function m(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(v){var C=16*Math.random()|0;return("x"===v?C:3&C|8).toString(16)}))}var E=[];function _(v){if(!("__event_name__"in v)||"string"!=typeof v.__event_name__)throw new Error("The EventConstructor is not registered");return v.__event_name__}var R=function(){function t(){this.listeners={}}return t.prototype.addListener=function(v,C,T){if(!v||"function"!=typeof v)throw new Error("Invalid EventConstructor");var E=_(v),R=this.listeners[E];R||(R=this.listeners[E]=[]);for(var A=0;A<R.length;A++)if(R[A].listener===C)throw new Error("The provided listener is already registered");return R.push({listener:C,fn:T}),this},t.prototype.removeListener=function(v,C){if(!C||"function"!=typeof C)throw new Error("Invalid EventConstructor");var T=_(C),E=this.listeners[T];if(!E)return!1;for(var R=0;R<E.length;R++)if(E[R].listener===v)return E.splice(R,1),!0;return!1},t.prototype.fireEvent=function(v){var C=_(v.constructor),T=this.listeners[C];if(T)for(var E=0;E<T.length;E++)try{var R=T[E];R.fn.call(R.listener,v)}catch(v){y(v)}return this},t}();function x(){var v=f("EV");if(-1!==E.indexOf(v))throw new Error("The event name "+v+" is already taken");return E.push(v),function(C){return C.__event_name__=v,C}}var A,S=r([x(),s("design:paramtypes",[Object,String,Object])],(function(v,C,T){this.entity=v,this.componentName=C,this.component=T})),O=r([x(),s("design:paramtypes",[Object,String,Object])],(function(v,C,T){this.entity=v,this.componentName=C,this.classId=T})),I=r([x(),s("design:paramtypes",[Object,Object])],(function(v,C){this.entity=v,this.parent=C}));v.UIValueType=void 0,(A=v.UIValueType||(v.UIValueType={}))[A.PERCENT=0]="PERCENT",A[A.PIXELS=1]="PIXELS";var M=function(){function e(C){if(this.type=v.UIValueType.PIXELS,"string"==typeof C){var T=C;T.indexOf("px")>-1?this.type=v.UIValueType.PIXELS:T.indexOf("%")>-1&&(this.type=v.UIValueType.PERCENT),this.value=parseFloat(T)}else this.value=C}return e.prototype.toString=function(){var C=this.value.toString();return this.type===v.UIValueType.PERCENT?C+="%":C+="px",C},e}(),V="__name__symbol_",z="__classId__symbol_",B="__component__id_",k=r([x(),s("design:paramtypes",[String,String,Number])],(function(v,C,T){this.componentId=v,this.componentName=C,this.classId=T})),j=r([x(),s("design:paramtypes",[String])],(function(v){this.componentId=v})),H=r([x(),s("design:paramtypes",[String,Object])],(function(v,C){this.componentId=v,this.component=C}));function P(v,C){return function(T){if(T.isComponent)throw new TypeError("You cannot extend a component. Trying to extend "+T.originalClassName+" with: "+v);var E=T,o=function(){var T=Array.prototype.slice.call(arguments),R=new(E.bind.apply(E,p([void 0],l(T))));return Object.defineProperty(R,V,{enumerable:!1,writable:!1,configurable:!1,value:v}),void 0!==C&&Object.defineProperty(R,z,{enumerable:!1,writable:!1,configurable:!1,value:C}),R};return void 0!==C&&(o.__classId__symbol_=C),o.__name__symbol_=v,o.isComponent=!0,o.originalClassName=v,(o.prototype=T.prototype).constructor=T,o}}function N(v,C){return function(T){if(T.isComponent)throw new TypeError("You cannot extend a component. Trying to extend "+T.originalClassName+" with: "+v);if("number"!=typeof C||isNaN(C))throw new Error("classId: "+C+" is an invalid integer");var E=T,o=function(){if(!N.engine)throw new Error("You need to set a DisposableComponent.engine before creating disposable components");var T=Array.prototype.slice.call(arguments),R=new(E.bind.apply(E,p([void 0],l(T)))),A=f("C");return Object.defineProperty(R,V,{enumerable:!1,writable:!1,configurable:!1,value:v}),Object.defineProperty(R,B,{enumerable:!1,writable:!1,configurable:!1,value:A}),void 0!==C&&Object.defineProperty(R,z,{enumerable:!1,writable:!1,configurable:!1,value:C}),N.engine&&N.engine.registerComponent(R),R};return void 0!==C&&(o.__classId__symbol_=C),o.__name__symbol_=v,o.isComponent=!0,o.isDisposableComponent=!0,o.originalClassName=v,(o.prototype=T.prototype).constructor=T,o}}function F(v){if(!v)throw new TypeError(v+" is not a component.");if(v.__name__symbol_)return v.__name__symbol_;throw new TypeError(v+" is not a registered component.")}function L(v){if(!v)throw new TypeError(v+" is not a component.");if(v.__classId__symbol_)return v.__classId__symbol_;if(!v.__name__symbol_)throw new TypeError(v+" is not a registered component.");return null}function D(v){if(!v)throw new TypeError(v+" is not a component.");if(v.__component__id_)return v.__component__id_;throw new TypeError(v+" is not a registered disposable component.")}!function(v){v.engine=null}(N||(N={}));var Q=function(){function t(){this.dirty=!1,this.data={},this.subscriptions=[]}return t.component=function(v,C){if(delete v[C]){var T=C+"_"+Math.random();v[T]=void 0,Object.defineProperty(v,T,o(o({},Object.getOwnPropertyDescriptor(v,T)),{enumerable:!1})),Object.defineProperty(v,C.toString(),{get:function(){return this[T]},set:function(v){var E=this[T];if(this.data[C]=v?D(v):null,this[T]=v,v!==E){this.dirty=!0;for(var R=0;R<this.subscriptions.length;R++)this.subscriptions[R](C,v,E)}},enumerable:!0})}},t.field=function(v,C){delete v[C]&&Object.defineProperty(v,C.toString(),{get:function(){return this.data[C]},set:function(v){var T=this.data[C];if(this.data[C]=v,v!==T){this.dirty=!0;for(var E=0;E<this.subscriptions.length;E++)this.subscriptions[E](C,v,T)}},enumerable:!0})},t.uiValue=function(v,C){delete v[C]&&Object.defineProperty(v,C.toString(),{get:function(){return this.data[C].toString()},set:function(v){var T=this.data[C],E=new M(v);if(this.data[C]=E,E!==T){this.dirty=!0;for(var R=0;R<this.subscriptions.length;R++)this.subscriptions[R](C,E,T)}},enumerable:!0})},t.readonly=function(v,C){delete v[C]&&Object.defineProperty(v,C.toString(),{get:function(){if(C in this.data==0)throw new Error("The field "+C+" is uninitialized");return this.data[C]},set:function(v){if(C in this.data)throw new Error("The field "+C+" is readonly");this.data[C]=v,this.dirty=!0},enumerable:!0,configurable:!1})},t.prototype.onChange=function(v){return this.subscriptions.push(v),this},t.prototype.toJSON=function(){return this.data},t}();function U(v){return B in v}var q=function(){function t(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];if(this.entities=[],this.active=!1,this._requiresNames=[],!v)throw new Error("ComponentGroup: Could not load the requires list");if(!(v instanceof Array))throw new Error("ComponentGroup: requires list is not an Array");Object.defineProperty(this,"requires",{get:function(){return v.slice()}}),Object.defineProperty(this,"requiresNames",{get:function(){return this._requiresNames.slice()}});for(var n=function(C){var E=v[C],R=null;if(!E)throw new Error("ComponentGroup: the required component at location "+C+" is invalid");try{R=F(E)}catch(v){throw new Error("ComponentGroup: the required component at location "+C+" is not registered as a @Component. Remember to provide the class of the component, not the name")}if(T._requiresNames.some((function(v){return v===R})))throw new Error("ComponentGroup: the required component list has a repeated name "+R);T._requiresNames.push(R)},T=this,E=0;E<v.length;E++)n(E)}return t.prototype.hasEntity=function(v){return!!v.isAddedToEngine()&&-1!==this.entities.indexOf(v)},t.prototype.addEntity=function(v){if(!v.isAddedToEngine())throw new TypeError("ComponentGroup: Cannot add a entity that is not added to the engine");-1===this.entities.indexOf(v)&&this.entities.push(v)},t.prototype.removeEntity=function(v){var C=this.entities.indexOf(v);-1!==C&&this.entities.splice(C,1)},t.prototype.componentRemoved=function(v,C){-1!==this._requiresNames.indexOf(C)&&this.removeEntity(v)},t.prototype.meetsRequirements=function(v){for(var C=0;C<this._requiresNames.length;C++)if(!(this._requiresNames[C]in v.components))return!1;return!0},t}(),W=function(){function t(v){this.name=v,this.children={},this.eventManager=null,this.alive=!1,this.uuid=f("E"),this.components={},this.engine=null,this._parent=null}return t.prototype.addComponentOrReplace=function(v){if("function"==typeof v)throw new Error("You passed a function or class as a component, an instance of component is expected");if("object"!=typeof v)throw new Error("You passed a "+typeof v+", an instance of component is expected");var C=F(v);if(this.components[C]){if(this.components[C]===v)return v;this.removeComponent(this.components[C],!1)}return this.addComponent(v)},t.prototype.hasComponent=function(v){var C=typeof v;if("string"!==C&&"object"!==C&&"function"!==C)throw new Error("Entity#has(component): component is not a class, name or instance");if(null===v)return!1;var T="string"===C?v:F(v),E=this.components[T];return!!E&&("object"===C?E===v:"function"!==C||E instanceof v)},t.prototype.getComponent=function(v){var C=typeof v;if("string"!==C&&"function"!==C)throw new Error("Entity#get(component): component is not a class or name");var T="string"===C?v:F(v),E=this.components[T];if(!E)throw new Error('Can not get component "'+T+'" from entity "'+this.identifier+'"');if("function"===C){if(E instanceof v)return E;throw new Error('Can not get component "'+T+'" from entity "'+this.identifier+'" (by instance)')}return E},t.prototype.getComponentOrNull=function(v){var C=typeof v;if("string"!==C&&"function"!==C)throw new Error("Entity#getOrNull(component): component is not a class or name");var T="string"===C?v:F(v),E=this.components[T];return E?"function"===C?E instanceof v?E:null:E:null},t.prototype.getComponentOrCreate=function(v){if("function"!=typeof v)throw new Error("Entity#getOrCreate(component): component is not a class");var C=this.getComponentOrNull(v);return C||(F(C=new v),this.addComponentOrReplace(C)),C},t.prototype.addComponent=function(v){if("object"!=typeof v)throw new Error("Entity#add(component): You passed a function or class as a component, an instance of component is expected");var C=F(v),T=L(v);if(this.components[C])throw new Error('A component of type "'+C+'" is already present in entity "'+this.identifier+'"');this.components[C]=v,this.eventManager&&this.eventManager.fireEvent(new O(this,C,T));var E=v;return"function"==typeof E.addedToEntity&&E.addedToEntity(this),v},t.prototype.removeComponent=function(v,C){void 0===C&&(C=!0);var T=typeof v;if("string"!==T&&"function"!==T&&"object"!==T)throw new Error("Entity#remove(component): component is not a class, class or name");var E="string"===T?v:F(v),R=this.components[E];if(R){if("function"===T)return R instanceof v?(delete this.components[E],void(R&&(C&&this.eventManager&&this.eventManager.fireEvent(new S(this,E,R)),"function"==typeof R.removedFromEntity&&R.removedFromEntity(this)))):void c('Entity Warning: Trying to remove wrong (by constructor) component "'+E+'" from entity "'+this.identifier+'"');delete this.components[E],R&&(C&&this.eventManager&&this.eventManager.fireEvent(new S(this,E,R)),"function"==typeof R.removedFromEntity&&R.removedFromEntity(this))}else c('Entity Warning: Trying to remove inexisting component "'+E+'" from entity "'+this.identifier+'"')},t.prototype.isAddedToEngine=function(){return!(!this.engine||!(this.uuid in this.engine.entities)&&this.engine.rootEntity!==this)},t.prototype.setParent=function(v){var C;if(v&&"getEntityRepresentation"in v){if(!this.engine)throw new Error("In order to set an attachable as parent, you first need to add the entity to the engine.");C=v.getEntityRepresentation(this.engine)}else C=!v&&this.engine?this.engine.rootEntity:v;var T=this.getParent();if(C===this)throw new Error('Failed to set parent for entity "'+this.identifier+"\": An entity can't set itself as a its own parent");if(C===T)return this;var E=this.getCircularAncestor(C);if(E)throw new Error('Failed to set parent for entity "'+this.identifier+'": Circular parent references are not allowed (See entity "'+E+'")');return T&&delete T.children[this.uuid],null!==C&&"0"!==C.uuid&&(!C.isAddedToEngine()&&this.isAddedToEngine()&&this.engine.removeEntity(this),C.isAddedToEngine()&&!this.isAddedToEngine()&&C.engine.addEntity(this)),this._parent=C||null,this.registerAsChild(),this.eventManager&&this.engine&&this.eventManager.fireEvent(new I(this,C)),this},t.prototype.getParent=function(){return this._parent},Object.defineProperty(t.prototype,"identifier",{get:function(){return this.name||this.uuid},enumerable:!1,configurable:!0}),t.prototype.getCircularAncestor=function(v){for(var C=this.engine?this.engine.rootEntity:null,T=v;T&&T!==C;){var E=T.getParent();if(E===this)return T.uuid;T=E}return null},t.prototype.registerAsChild=function(){var v=this.getParent();this.uuid&&v&&(v.children[this.uuid]=this)},t}(),X=function(){function t(v){this.eventManager=new R,this.systems=[],this.entityLists={},this.addedSystems=[],this._entities={},this._disposableComponents={},this._componentGroups={},this.simpleSystems=[],this.eventManager.addListener(O,this,this.componentAddedHandler),this.eventManager.addListener(S,this,this.componentRemovedHandler),this.rootEntity=v,this.firstPersonCameraEntity=new W,this.firstPersonCameraEntity.uuid="FirstPersonCameraEntityReference",this.addEntity(this.firstPersonCameraEntity),this.avatarEntity=new W,this.avatarEntity.uuid="AvatarEntityReference",this.addEntity(this.avatarEntity)}return Object.defineProperty(t.prototype,"entities",{get:function(){return this._entities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disposableComponents",{get:function(){return this._disposableComponents},enumerable:!1,configurable:!0}),t.prototype.addEntity=function(v){var C=v.getParent();if(v.isAddedToEngine())return v;for(var T in v.eventManager=this.eventManager,v.engine=this,this._entities[v.uuid]=v,this.checkRequirementsAndAdd(v),C?C.isAddedToEngine()||C===this.rootEntity||c("Engine: warning, added an entity with a parent not present in the engine. Parent id: "+C.uuid):v.setParent(this.rootEntity),v.alive=!0,v.children){var E=v.children[T];E&&(E.isAddedToEngine()||this.addEntity(E))}return v},t.prototype.removeEntity=function(v){var C=v.uuid;if(v.isAddedToEngine()){for(var T in v.components){var E=this._componentGroups[T];if(E)for(var R in E)E[R].removeEntity(v);delete this.entityLists[T][C]}for(var A=0;A<this.simpleSystems.length;A++){var S=this.simpleSystems[A];S.onRemoveEntity&&S.onRemoveEntity(v)}for(var A in v.children){var O=v.children[A];O&&this.removeEntity(O)}return v.alive=!1,v.eventManager=null,delete this._entities[C],!0}for(var T in c("Engine: Trying to remove non existent entity from engine."),v.isAddedToEngine()?c("Engine: Entity id: "+C):c('Engine: Entity "'+v.uuid+'" has not been added to any engine yet.'),c("Engine: Entity's components:"),v.components)c(T);return!1},t.prototype.addSystem=function(v,C){if(void 0===C&&(C=0),-1!==this.addedSystems.indexOf(v))return c("Engine: Trying to add a system that is already added. Aborting"),v;if(this.systems.length>0)for(var T=0;T<this.systems.length;T++){var E=this.systems[T],R=T===this.systems.length-1;if(E.priority>C){this.addedSystems.push(v),this.systems.splice(T,0,{system:v,priority:C});break}if(R){this.addedSystems.push(v),this.systems.splice(T+1,0,{system:v,priority:C});break}}else this.addedSystems.push(v),this.systems.splice(1,0,{system:v,priority:C});return this.registerSystem(v),v},t.prototype.removeSystem=function(v){var C=this.addedSystems.indexOf(v);if(-1!==C){v.active=!1,v.deactivate&&v.deactivate(),this.addedSystems.splice(C,1);for(var T=0;T<this.systems.length;T++)this.systems[T].system===v&&this.systems.splice(T,1);return!0}return!1},t.prototype.update=function(v){for(var C in this.systems){var T=this.systems[C].system;if(T.active&&T.update)try{T.update(v)}catch(v){y(v)}}return this},t.prototype.getEntitiesWithComponent=function(v){var C="string"==typeof v?v:F(v);return C in this.entityLists?this.entityLists[C]:this.entityLists[C]={}},t.prototype.registerComponent=function(v){var C=D(v),T=F(v),E=L(v);this._disposableComponents[C]=v,null!==E&&(this.eventManager.fireEvent(new k(C,T,E)),this.eventManager.fireEvent(new H(C,v)))},t.prototype.disposeComponent=function(v){var C=D(v);return delete this._disposableComponents[C]&&(this.eventManager.fireEvent(new j(C)),v.onDispose&&v.onDispose(),!0)},t.prototype.updateComponent=function(v){this.eventManager.fireEvent(new H(D(v),v))},t.prototype.getComponentGroup=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];var T=void 0;if(v.length>0&&(I=this._componentGroups[F(v[0])]))for(var E=v.slice(),R=0;R<I.length;R++){var A=I[R];if(E.length===A.requires.length){for(var S=0;S<E.length&&-1!==A.requires.indexOf(E[S]);S++)S===E.length-1&&(T=A);if(T)break}}if(T)return T;(T=new(q.bind.apply(q,p([void 0],l(v))))).active=!0;var O=T.requiresNames;for(R=0;R<O.length;R++){var I,M=O[R];(I=this._componentGroups[M])||(this._componentGroups[M]=I=[]),-1===I.indexOf(T)&&I.push(T)}for(var V in this._entities)this.checkRequirements(this._entities[V],T);return T},t.prototype.removeComponentGroup=function(v){if(v.active){v.active=!1;for(var C=v.requiresNames,T=0;T<C.length;T++){var E=C[T],R=this._componentGroups[E];if(R){var A=R.indexOf(v);-1!==A&&R.splice(A,1)}}return!0}return!1},t.prototype.registerSystem=function(v){v.active=!0,v.activate&&v.activate(this),this.simpleSystems.push(v)},t.prototype.checkRequirementsAndAdd=function(v){if(v.isAddedToEngine()){for(var C in v.components){C in this.entityLists||(this.entityLists[C]={}),this.entityLists[C][v.uuid]=v;var T=this._componentGroups[C];if(T)for(var E in T)this.checkRequirements(v,T[E])}for(var R=0;R<this.simpleSystems.length;R++){var A=this.simpleSystems[R];A.onAddEntity&&A.onAddEntity(v)}}},t.prototype.checkRequirements=function(v,C){C.meetsRequirements(v)?C.hasEntity(v)||C.addEntity(v):C.hasEntity(v)&&C.removeEntity(v)},t.prototype.componentAddedHandler=function(v){var C,T=v.entity,E=v.componentName;if(T.isAddedToEngine()){this.entityLists[E]?this.entityLists[E][T.uuid]=T:this.entityLists[E]=((C={})[T.uuid]=T,C);var R=this._componentGroups[E];if(R)for(var A in R)this.checkRequirements(T,R[A])}},t.prototype.componentRemovedHandler=function(v){var C=v.entity,T=v.componentName;if(C.isAddedToEngine()){delete this.entityLists[T][C.uuid];var E=this._componentGroups[T];if(E)for(var R in E)this.checkRequirements(C,E[R])}},t}(),K=Promise.resolve().then.bind(Promise.resolve());function G(v){var C=K(v);return C.isComplete=!1,C.then((function(v){C.isComplete=!0,C.result=v,C.didFail=!1})).catch((function(v){C.isComplete=!0,C.error=v,C.didFail=!0,y("executeTask: FAILED "+v.toString(),v)})),C}var Z,J,$=function(){function t(v,C,T,E){void 0===C&&(C=!1),this.initalize(v,C,T,E)}return t.prototype.initalize=function(v,C,T,E){return void 0===C&&(C=!1),this.mask=v,this.skipNextObservers=C,this.target=T,this.currentTarget=E,this},t}(),Y=function(v,C,T){void 0===T&&(T=null),this.callback=v,this.mask=C,this.scope=T,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1},ee=function(){function t(){this._observers=null,this._observables=null}return t.Watch=function(v,C,T,E){var R,A;void 0===T&&(T=-1),void 0===E&&(E=null);var S=new t;S._observers=new Array,S._observables=v;try{for(var O=h(v),I=O.next();!I.done;I=O.next()){var M=I.value.add(C,T,!1,E);M&&S._observers.push(M)}}catch(v){R={error:v}}finally{try{I&&!I.done&&(A=O.return)&&A.call(O)}finally{if(R)throw R.error}}return S},t.prototype.dispose=function(){if(this._observers&&this._observables)for(var v=0;v<this._observers.length;v++)this._observables[v].remove(this._observers[v]);this._observers=null,this._observables=null},t}(),ne=function(){function t(v){this._observers=new Array,this._onObserverAdded=null,this._eventState=new $(0),v&&(this._onObserverAdded=v)}return t.prototype.add=function(v,C,T,E,R){if(void 0===C&&(C=-1),void 0===T&&(T=!1),void 0===E&&(E=null),void 0===R&&(R=!1),!v)return null;var A=new Y(v,C,E);return A.unregisterOnNextCall=R,T?this._observers.unshift(A):this._observers.push(A),this._onObserverAdded&&this._onObserverAdded(A),A},t.prototype.addOnce=function(v){return this.add(v,void 0,void 0,void 0,!0)},t.prototype.remove=function(v){return!!v&&-1!==this._observers.indexOf(v)&&(this._deferUnregister(v),!0)},t.prototype.removeCallback=function(v,C){for(var T=0;T<this._observers.length;T++)if(this._observers[T].callback===v&&(!C||C===this._observers[T].scope))return this._deferUnregister(this._observers[T]),!0;return!1},t.prototype.notifyObservers=function(v,C,T,E){var R,A;if(void 0===C&&(C=-1),!this._observers.length)return!0;var S=this._eventState;S.mask=C,S.target=T,S.currentTarget=E,S.skipNextObservers=!1,S.lastReturnValue=v;try{for(var O=h(this._observers),I=O.next();!I.done;I=O.next()){var M=I.value;if(!M._willBeUnregistered&&(M.mask&C&&(M.scope?S.lastReturnValue=M.callback.apply(M.scope,[v,S]):S.lastReturnValue=M.callback(v,S),M.unregisterOnNextCall&&this._deferUnregister(M)),S.skipNextObservers))return!1}}catch(v){R={error:v}}finally{try{I&&!I.done&&(A=O.return)&&A.call(O)}finally{if(R)throw R.error}}return!0},t.prototype.notifyObserversWithPromise=function(v,C,T,E){var R=this;void 0===C&&(C=-1);var A=Promise.resolve(v);if(!this._observers.length)return A;var S=this._eventState;return S.mask=C,S.target=T,S.currentTarget=E,S.skipNextObservers=!1,this._observers.forEach((function(T){S.skipNextObservers||T._willBeUnregistered||T.mask&C&&(A=T.scope?A.then((function(C){return S.lastReturnValue=C,T.callback.apply(T.scope,[v,S])})):A.then((function(C){return S.lastReturnValue=C,T.callback(v,S)})),T.unregisterOnNextCall&&R._deferUnregister(T))})),A.then((function(){return v}))},t.prototype.notifyObserver=function(v,C,T){void 0===T&&(T=-1);var E=this._eventState;E.mask=T,E.skipNextObservers=!1,v.callback(C,E)},t.prototype.hasObservers=function(){return this._observers.length>0},t.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},t.prototype.clone=function(){var v=new t;return v._observers=this._observers.slice(0),v},t.prototype.hasSpecificMask=function(v){var C,T;void 0===v&&(v=-1);try{for(var E=h(this._observers),R=E.next();!R.done;R=E.next()){var A=R.value;if(A.mask&v||A.mask===v)return!0}}catch(v){C={error:v}}finally{try{R&&!R.done&&(T=E.return)&&T.call(E)}finally{if(C)throw C.error}}return!1},t.prototype._deferUnregister=function(v){var C=this;v.unregisterOnNextCall=!1,v._willBeUnregistered=!0,G((function(){return function(v,C,T,E){return new(T||(T=Promise))((function(C,R){function s(v){try{d(E.next(v))}catch(v){R(v)}}function a(v){try{d(E.throw(v))}catch(v){R(v)}}function d(v){var E;v.done?C(v.value):(E=v.value,E instanceof T?E:new T((function(v){v(E)}))).then(s,a)}d((E=E.apply(v,[])).next())}))}(C,0,void 0,(function(){return function(v,C){var T,E,R,A,S={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return A={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function a(A){return function(O){return function(A){if(T)throw new TypeError("Generator is already executing.");for(;S;)try{if(T=1,E&&(R=2&A[0]?E.return:A[0]?E.throw||((R=E.return)&&R.call(E),0):E.next)&&!(R=R.call(E,A[1])).done)return R;switch(E=0,R&&(A=[2&A[0],R.value]),A[0]){case 0:case 1:R=A;break;case 4:return S.label++,{value:A[1],done:!1};case 5:S.label++,E=A[1],A=[0];continue;case 7:A=S.ops.pop(),S.trys.pop();continue;default:if(!((R=(R=S.trys).length>0&&R[R.length-1])||6!==A[0]&&2!==A[0])){S=0;continue}if(3===A[0]&&(!R||A[1]>R[0]&&A[1]<R[3])){S.label=A[1];break}if(6===A[0]&&S.label<R[1]){S.label=R[1],R=A;break}if(R&&S.label<R[2]){S.label=R[2],S.ops.push(A);break}R[2]&&S.ops.pop(),S.trys.pop();continue}A=C.call(v,S)}catch(v){A=[6,v],E=0}finally{T=R=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,O])}}}(this,(function(C){return[2,this._remove(v)]}))}))}))},t.prototype._remove=function(v){if(!v)return!1;var C=this._observers.indexOf(v);return-1!==C&&(this._observers.splice(C,1),!0)},t}(),oe=r([x(),s("design:paramtypes",[String,Object])],(function(v,C){this.uuid=v,this.payload=C})),ie=r([x(),s("design:paramtypes",[Object])],(function(v){this.payload=v})),ae=r([x(),s("design:paramtypes",[Object])],(function(v){this.payload=v}));function tt(v){return function(){J&&J.subscribe(v)}}var se=new ne(tt("cameraModeChanged")),ce=new ne(tt("idleStateChanged")),de=new ne(tt("onEnterScene")),le=de,ue=new ne(tt("onLeaveScene")),he=ue,ye=new ne(tt("sceneStart")),fe=new ne(tt("playerExpression")),me=new ne(tt("onPointerLock")),we=new ne(tt("videoEvent")),ve=new ne(tt("profileChanged")),be=new ne(tt("playerConnected")),Ce=new ne(tt("playerDisconnected")),Te=new ne(tt("onRealmChanged")),_e=new ne(tt("playerClicked"));function mt(v){(J=v)&&J.onEvent((function(v){switch(v.type){case"onEnterScene":return void de.notifyObservers(v.data);case"onLeaveScene":return void ue.notifyObservers(v.data);case"cameraModeChanged":return void se.notifyObservers(v.data);case"idleStateChanged":return void ce.notifyObservers(v.data);case"sceneStart":return void ye.notifyObservers(v.data);case"playerExpression":return void fe.notifyObservers(v.data);case"videoEvent":var C=v.data,T=N.engine.disposableComponents[C.componentId];return T&&T.update(C),void we.notifyObservers(C);case"profileChanged":return void ve.notifyObservers(v.data);case"onPointerLock":return void me.notifyObservers(v.data);case"playerConnected":return void be.notifyObservers(v.data);case"playerDisconnected":return void Ce.notifyObservers(v.data);case"onRealmChanged":return void Te.notifyObservers(v.data);case"playerClicked":return void _e.notifyObservers(v.data)}}))}var Ee=function(){function t(v){this.dcl=v,this.cachedComponents={}}return t.prototype.activate=function(v){var C=this;this.engine=v,v.eventManager.addListener(O,this,this.componentAdded),v.eventManager.addListener(S,this,this.componentRemoved),v.eventManager.addListener(k,this,this.disposableComponentCreated),v.eventManager.addListener(j,this,this.disposableComponentRemoved),v.eventManager.addListener(H,this,this.disposableComponentUpdated),v.eventManager.addListener(I,this,this.parentChanged);var T=v.rootEntity.uuid;this.dcl.addEntity(T),this.dcl.onUpdate((function(T){v.update(T),C.presentEntities()})),this.dcl.onEvent((function(C){var T=C.data;switch(C.type){case"uuidEvent":v.eventManager.fireEvent(new oe(T.uuid,T.payload));break;case"raycastResponse":("HitFirst"===T.queryType||"HitAll"===T.queryType)&&v.eventManager.fireEvent(new ie(T));break;case"actionButtonEvent":v.eventManager.fireEvent(new ae(T.payload))}}))},t.prototype.onAddEntity=function(v){if(v&&v.isAddedToEngine()){var C=v.uuid,T=v.getParent();for(var E in this.dcl.addEntity(C),T&&this.dcl.setParent(C,T.uuid),this.cachedComponents[C]={},v.components){var R=v.components[E],A=L(R);if(null!==A)if(U(R))this.dcl.attachEntityComponent(v.uuid,E,D(R));else{var S=JSON.stringify(R);this.dcl.updateEntityComponent(C,E,A,S),this.cachedComponents[C][E]=S}}}},t.prototype.onRemoveEntity=function(v){if(v.isAddedToEngine()){var C=v.uuid;this.dcl.removeEntity(C),delete this.cachedComponents[C]}},t.prototype.presentEntities=function(){for(var v in this.engine.entities){var C=this.engine.entities[v];for(var T in C.components){var E=L(S=C.components[T]);if(null!==E&&!U(S)){var R=this.getJsonIfDirty(C.uuid,T,S);R&&(this.dcl.updateEntityComponent(C.uuid,T,E,R),this.clearDirty(C.uuid,T,S,R))}}}for(var A in this.engine.disposableComponents){var S;(S=this.engine.disposableComponents[A])instanceof Q&&S.dirty&&(this.dcl.componentUpdated(A,JSON.stringify(S)),S.dirty=!1)}},t.prototype.componentAdded=function(v){if(v.entity.isAddedToEngine()){var C=v.entity.components[v.componentName];if(U(C))this.dcl.attachEntityComponent(v.entity.uuid,v.componentName,D(C));else if(null!==v.classId){var T=JSON.stringify(C);this.dcl.updateEntityComponent(v.entity.uuid,v.componentName,v.classId,T),this.cachedComponents[v.entity.uuid][v.componentName]=T}}},t.prototype.componentRemoved=function(v){v.entity.isAddedToEngine()&&(this.dcl.removeEntityComponent(v.entity.uuid,v.componentName),delete this.cachedComponents[v.entity.uuid][v.componentName])},t.prototype.disposableComponentCreated=function(v){this.dcl.componentCreated(v.componentId,v.componentName,v.classId)},t.prototype.disposableComponentRemoved=function(v){this.dcl.componentDisposed(v.componentId)},t.prototype.disposableComponentUpdated=function(v){this.dcl.componentUpdated(v.componentId,JSON.stringify(v.component))},t.prototype.parentChanged=function(v){this.dcl.setParent(v.entity.uuid,v.parent?v.parent.uuid:"0")},t.prototype.getJsonIfDirty=function(v,C,T){var E=JSON.stringify(T);return E!==this.cachedComponents[v][C]&&E},t.prototype.clearDirty=function(v,C,T,E){this.cachedComponents[v][C]=E},t}(),Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Se={},Oe={};!function(v){var C,T;Object.defineProperty(v,"__esModule",{value:!0}),v.RAD2DEG=v.DEG2RAD=v.Epsilon=v.ToLinearSpace=v.ToGammaSpace=v.Space=v.Orientation=void 0,(C=v.Orientation||(v.Orientation={}))[C.CW=0]="CW",C[C.CCW=1]="CCW",(T=v.Space||(v.Space={}))[T.LOCAL=0]="LOCAL",T[T.WORLD=1]="WORLD",T[T.BONE=2]="BONE",v.ToGammaSpace=1/2.2,v.ToLinearSpace=2.2,v.Epsilon=1e-6,v.DEG2RAD=Math.PI/180,v.RAD2DEG=360/(2*Math.PI)}(Oe);var Pe={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.buildArray=void 0,Ie.buildArray=function(v,C){const T=[];for(let E=0;E<v;++E)T.push(C());return T};var Ve={},Fe={},Le={},Ne={},Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.Scalar=void 0;class Et{static WithinEpsilon(v,C,T=1401298e-51){const E=v-C;return-T<=E&&E<=T}static ToHex(v){const C=v.toString(16);return v<=15?("0"+C).toUpperCase():C.toUpperCase()}static Sign(v){const C=+v;return 0===C||isNaN(C)?C:C>0?1:-1}static Clamp(v,C=0,T=1){return Math.min(T,Math.max(C,v))}static Log2(v){return Math.log(v)*Math.LOG2E}static Repeat(v,C){return v-Math.floor(v/C)*C}static Normalize(v,C,T){return(v-C)/(T-C)}static Denormalize(v,C,T){return v*(T-C)+C}static DeltaAngle(v,C){let T=Et.Repeat(C-v,360);return T>180&&(T-=360),T}static PingPong(v,C){const T=Et.Repeat(v,2*C);return C-Math.abs(T-C)}static SmoothStep(v,C,T){let E=Et.Clamp(T);return E=-2*E*E*E+3*E*E,C*E+v*(1-E)}static MoveTowards(v,C,T){let E=0;return E=Math.abs(C-v)<=T?C:v+Et.Sign(C-v)*T,E}static MoveTowardsAngle(v,C,T){const E=Et.DeltaAngle(v,C);let R=0;return R=-T<E&&E<T?C:Et.MoveTowards(v,v+E,T),R}static Lerp(v,C,T){return v+(C-v)*T}static LerpAngle(v,C,T){let E=Et.Repeat(C-v,360);return E>180&&(E-=360),v+E*Et.Clamp(T)}static InverseLerp(v,C,T){let E=0;return E=v!==C?Et.Clamp((T-v)/(C-v)):0,E}static Hermite(v,C,T,E,R){const A=R*R,S=R*A;return v*(2*S-3*A+1)+T*(-2*S+3*A)+C*(S-2*A+R)+E*(S-A)}static RandomRange(v,C){return v===C?v:Math.random()*(C-v)+v}static RangeToPercent(v,C,T){return(v-C)/(T-C)}static PercentToRange(v,C,T){return(T-C)*v+C}static NormalizeRadians(v){return v-Et.TwoPi*Math.floor((v+Math.PI)/Et.TwoPi)}}Be.Scalar=Et,Et.TwoPi=2*Math.PI,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.Vector4=void 0;const ke=Oe,Ue=Be,He=Ve;class Mt{constructor(v,C,T,E){this.x=v,this.y=C,this.z=T,this.w=E}static Add(v,C){return new Mt(v.x,v.y,v.z,v.w).addInPlace(C)}static FromArray(v,C=0){return new Mt(v[C],v[C+1],v[C+2],v[C+3])}static FromArrayToRef(v,C,T){T.x=v[C],T.y=v[C+1],T.z=v[C+2],T.w=v[C+3]}static FromFloatArrayToRef(v,C,T){Mt.FromArrayToRef(v,C,T)}static FromFloatsToRef(v,C,T,E,R){R.x=v,R.y=C,R.z=T,R.w=E}static Zero(){return new Mt(0,0,0,0)}static One(){return new Mt(1,1,1,1)}static Normalize(v){const C=Mt.Zero();return Mt.NormalizeToRef(v,C),C}static NormalizeToRef(v,C){C.copyFrom(v),C.normalize()}static Minimize(v,C){const T=new Mt(v.x,v.y,v.z,v.w);return T.minimizeInPlace(C),T}static Maximize(v,C){const T=new Mt(v.x,v.y,v.z,v.w);return T.maximizeInPlace(C),T}static Distance(v,C){return Math.sqrt(Mt.DistanceSquared(v,C))}static DistanceSquared(v,C){const T=v.x-C.x,E=v.y-C.y,R=v.z-C.z,A=v.w-C.w;return T*T+E*E+R*R+A*A}static Center(v,C){const T=Mt.Add(v,C);return T.scaleInPlace(.5),T}static TransformNormal(v,C){const T=Mt.Zero();return Mt.TransformNormalToRef(v,C,T),T}static TransformNormalToRef(v,C,T){const E=C.m,R=v.x*E[0]+v.y*E[4]+v.z*E[8],A=v.x*E[1]+v.y*E[5]+v.z*E[9],S=v.x*E[2]+v.y*E[6]+v.z*E[10];T.x=R,T.y=A,T.z=S,T.w=v.w}static TransformNormalFromFloatsToRef(v,C,T,E,R,A){const S=R.m;A.x=v*S[0]+C*S[4]+T*S[8],A.y=v*S[1]+C*S[5]+T*S[9],A.z=v*S[2]+C*S[6]+T*S[10],A.w=E}toString(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+" W:"+this.w+"}"}getClassName(){return"Vector4"}getHashCode(){let v=this.x||0;return v=397*v^(this.y||0),v=397*v^(this.z||0),v=397*v^(this.w||0),v}asArray(){const v=new Array;return this.toArray(v,0),v}toArray(v,C=0){return v[C]=this.x,v[C+1]=this.y,v[C+2]=this.z,v[C+3]=this.w,this}addInPlace(v){return this.x+=v.x,this.y+=v.y,this.z+=v.z,this.w+=v.w,this}add(v){return new Mt(this.x+v.x,this.y+v.y,this.z+v.z,this.w+v.w)}addToRef(v,C){return C.x=this.x+v.x,C.y=this.y+v.y,C.z=this.z+v.z,C.w=this.w+v.w,this}subtractInPlace(v){return this.x-=v.x,this.y-=v.y,this.z-=v.z,this.w-=v.w,this}subtract(v){return new Mt(this.x-v.x,this.y-v.y,this.z-v.z,this.w-v.w)}subtractToRef(v,C){return C.x=this.x-v.x,C.y=this.y-v.y,C.z=this.z-v.z,C.w=this.w-v.w,this}subtractFromFloats(v,C,T,E){return new Mt(this.x-v,this.y-C,this.z-T,this.w-E)}subtractFromFloatsToRef(v,C,T,E,R){return R.x=this.x-v,R.y=this.y-C,R.z=this.z-T,R.w=this.w-E,this}negate(){return new Mt(-this.x,-this.y,-this.z,-this.w)}scaleInPlace(v){return this.x*=v,this.y*=v,this.z*=v,this.w*=v,this}scale(v){return new Mt(this.x*v,this.y*v,this.z*v,this.w*v)}scaleToRef(v,C){return C.x=this.x*v,C.y=this.y*v,C.z=this.z*v,C.w=this.w*v,this}scaleAndAddToRef(v,C){return C.x+=this.x*v,C.y+=this.y*v,C.z+=this.z*v,C.w+=this.w*v,this}equals(v){return v&&this.x===v.x&&this.y===v.y&&this.z===v.z&&this.w===v.w}equalsWithEpsilon(v,C=ke.Epsilon){return v&&Ue.Scalar.WithinEpsilon(this.x,v.x,C)&&Ue.Scalar.WithinEpsilon(this.y,v.y,C)&&Ue.Scalar.WithinEpsilon(this.z,v.z,C)&&Ue.Scalar.WithinEpsilon(this.w,v.w,C)}equalsToFloats(v,C,T,E){return this.x===v&&this.y===C&&this.z===T&&this.w===E}multiplyInPlace(v){return this.x*=v.x,this.y*=v.y,this.z*=v.z,this.w*=v.w,this}multiply(v){return new Mt(this.x*v.x,this.y*v.y,this.z*v.z,this.w*v.w)}multiplyToRef(v,C){return C.x=this.x*v.x,C.y=this.y*v.y,C.z=this.z*v.z,C.w=this.w*v.w,this}multiplyByFloats(v,C,T,E){return new Mt(this.x*v,this.y*C,this.z*T,this.w*E)}divide(v){return new Mt(this.x/v.x,this.y/v.y,this.z/v.z,this.w/v.w)}divideToRef(v,C){return C.x=this.x/v.x,C.y=this.y/v.y,C.z=this.z/v.z,C.w=this.w/v.w,this}divideInPlace(v){return this.divideToRef(v,this)}minimizeInPlace(v){return v.x<this.x&&(this.x=v.x),v.y<this.y&&(this.y=v.y),v.z<this.z&&(this.z=v.z),v.w<this.w&&(this.w=v.w),this}maximizeInPlace(v){return v.x>this.x&&(this.x=v.x),v.y>this.y&&(this.y=v.y),v.z>this.z&&(this.z=v.z),v.w>this.w&&(this.w=v.w),this}floor(){return new Mt(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))}fract(){return new Mt(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z),this.w-Math.floor(this.w))}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}normalize(){const v=this.length();return 0===v?this:this.scaleInPlace(1/v)}toVector3(){return new He.Vector3(this.x,this.y,this.z)}clone(){return new Mt(this.x,this.y,this.z,this.w)}copyFrom(v){return this.x=v.x,this.y=v.y,this.z=v.z,this.w=v.w,this}copyFromFloats(v,C,T,E){return this.x=v,this.y=C,this.z=T,this.w=E,this}set(v,C,T,E){return this.copyFromFloats(v,C,T,E)}setAll(v){return this.x=this.y=this.z=this.w=v,this}}Ne.Vector4=Mt,Object.defineProperty(Le,"__esModule",{value:!0}),Le.Matrix=void 0;const Ge=Ve,Qe=Fe,qe=Pe,We=Ne;class Dt{constructor(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this._m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._updateIdentityStatus(!1)}get m(){return this._m}static get IdentityReadOnly(){return Dt._identityReadOnly}static FromArray(v,C=0){const T=new Dt;return Dt.FromArrayToRef(v,C,T),T}static FromArrayToRef(v,C,T){for(let E=0;E<16;E++)T._m[E]=v[E+C];T._markAsUpdated()}static FromFloatArrayToRefScaled(v,C,T,E){for(let R=0;R<16;R++)E._m[R]=v[R+C]*T;E._markAsUpdated()}static FromValuesToRef(v,C,T,E,R,A,S,O,I,M,V,z,B,k,j,H,Q){const q=Q._m;q[0]=v,q[1]=C,q[2]=T,q[3]=E,q[4]=R,q[5]=A,q[6]=S,q[7]=O,q[8]=I,q[9]=M,q[10]=V,q[11]=z,q[12]=B,q[13]=k,q[14]=j,q[15]=H,Q._markAsUpdated()}static FromValues(v,C,T,E,R,A,S,O,I,M,V,z,B,k,j,H){const Q=new Dt,q=Q._m;return q[0]=v,q[1]=C,q[2]=T,q[3]=E,q[4]=R,q[5]=A,q[6]=S,q[7]=O,q[8]=I,q[9]=M,q[10]=V,q[11]=z,q[12]=B,q[13]=k,q[14]=j,q[15]=H,Q._markAsUpdated(),Q}static Compose(v,C,T){const E=new Dt;return Dt.ComposeToRef(v,C,T,E),E}static ComposeToRef(v,C,T,E){Dt.ScalingToRef(v.x,v.y,v.z,qe.MathTmp.Matrix[1]),C.toRotationMatrix(qe.MathTmp.Matrix[0]),qe.MathTmp.Matrix[1].multiplyToRef(qe.MathTmp.Matrix[0],E),E.setTranslation(T)}static Identity(){const v=Dt.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return v._updateIdentityStatus(!0),v}static IdentityToRef(v){Dt.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,v),v._updateIdentityStatus(!0)}static Zero(){const v=Dt.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return v._updateIdentityStatus(!1),v}static RotationX(v){const C=new Dt;return Dt.RotationXToRef(v,C),C}static Invert(v){const C=new Dt;return v.invertToRef(C),C}static RotationXToRef(v,C){const T=Math.sin(v),E=Math.cos(v);Dt.FromValuesToRef(1,0,0,0,0,E,T,0,0,-T,E,0,0,0,0,1,C),C._updateIdentityStatus(1===E&&0===T)}static RotationY(v){const C=new Dt;return Dt.RotationYToRef(v,C),C}static RotationYToRef(v,C){const T=Math.sin(v),E=Math.cos(v);Dt.FromValuesToRef(E,0,-T,0,0,1,0,0,T,0,E,0,0,0,0,1,C),C._updateIdentityStatus(1===E&&0===T)}static RotationZ(v){const C=new Dt;return Dt.RotationZToRef(v,C),C}static RotationZToRef(v,C){const T=Math.sin(v),E=Math.cos(v);Dt.FromValuesToRef(E,T,0,0,-T,E,0,0,0,0,1,0,0,0,0,1,C),C._updateIdentityStatus(1===E&&0===T)}static RotationAxis(v,C){const T=new Dt;return Dt.RotationAxisToRef(v,C,T),T}static RotationAxisToRef(v,C,T){const E=Math.sin(-C),R=Math.cos(-C),A=1-R;v.normalize();const S=T._m;S[0]=v.x*v.x*A+R,S[1]=v.x*v.y*A-v.z*E,S[2]=v.x*v.z*A+v.y*E,S[3]=0,S[4]=v.y*v.x*A+v.z*E,S[5]=v.y*v.y*A+R,S[6]=v.y*v.z*A-v.x*E,S[7]=0,S[8]=v.z*v.x*A-v.y*E,S[9]=v.z*v.y*A+v.x*E,S[10]=v.z*v.z*A+R,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,T._markAsUpdated()}static RotationYawPitchRoll(v,C,T){const E=new Dt;return Dt.RotationYawPitchRollToRef(v,C,T,E),E}static RotationYawPitchRollToRef(v,C,T,E){Qe.Quaternion.RotationYawPitchRollToRef(v,C,T,qe.MathTmp.Quaternion[0]),qe.MathTmp.Quaternion[0].toRotationMatrix(E)}static Scaling(v,C,T){const E=new Dt;return Dt.ScalingToRef(v,C,T,E),E}static ScalingToRef(v,C,T,E){Dt.FromValuesToRef(v,0,0,0,0,C,0,0,0,0,T,0,0,0,0,1,E),E._updateIdentityStatus(1===v&&1===C&&1===T)}static Translation(v,C,T){const E=new Dt;return Dt.TranslationToRef(v,C,T,E),E}static TranslationToRef(v,C,T,E){Dt.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,v,C,T,1,E),E._updateIdentityStatus(0===v&&0===C&&0===T)}static Lerp(v,C,T){const E=new Dt;return Dt.LerpToRef(v,C,T,E),E}static LerpToRef(v,C,T,E){for(let R=0;R<16;R++)E._m[R]=v._m[R]*(1-T)+C._m[R]*T;E._markAsUpdated()}static DecomposeLerp(v,C,T){const E=new Dt;return Dt.DecomposeLerpToRef(v,C,T,E),E}static DecomposeLerpToRef(v,C,T,E){const R=qe.MathTmp.Vector3[0],A=qe.MathTmp.Quaternion[0],S=qe.MathTmp.Vector3[1];v.decompose(R,A,S);const O=qe.MathTmp.Vector3[2],I=qe.MathTmp.Quaternion[1],M=qe.MathTmp.Vector3[3];C.decompose(O,I,M);const V=qe.MathTmp.Vector3[4];Ge.Vector3.LerpToRef(R,O,T,V);const z=qe.MathTmp.Quaternion[2];Qe.Quaternion.SlerpToRef(A,I,T,z);const B=qe.MathTmp.Vector3[5];Ge.Vector3.LerpToRef(S,M,T,B),Dt.ComposeToRef(V,z,B,E)}static LookAtLH(v,C,T){const E=new Dt;return Dt.LookAtLHToRef(v,C,T,E),E}static LookAtLHToRef(v,C,T,E){const R=qe.MathTmp.Vector3[0],A=qe.MathTmp.Vector3[1],S=qe.MathTmp.Vector3[2];C.subtractToRef(v,S),S.normalize(),Ge.Vector3.CrossToRef(T,S,R);const O=R.lengthSquared();0===O?R.x=1:R.normalizeFromLength(Math.sqrt(O)),Ge.Vector3.CrossToRef(S,R,A),A.normalize();const I=-Ge.Vector3.Dot(R,v),M=-Ge.Vector3.Dot(A,v),V=-Ge.Vector3.Dot(S,v);Dt.FromValuesToRef(R.x,A.x,S.x,0,R.y,A.y,S.y,0,R.z,A.z,S.z,0,I,M,V,1,E)}static LookAtRH(v,C,T){const E=new Dt;return Dt.LookAtRHToRef(v,C,T,E),E}static LookAtRHToRef(v,C,T,E){const R=qe.MathTmp.Vector3[0],A=qe.MathTmp.Vector3[1],S=qe.MathTmp.Vector3[2];v.subtractToRef(C,S),S.normalize(),Ge.Vector3.CrossToRef(T,S,R);const O=R.lengthSquared();0===O?R.x=1:R.normalizeFromLength(Math.sqrt(O)),Ge.Vector3.CrossToRef(S,R,A),A.normalize();const I=-Ge.Vector3.Dot(R,v),M=-Ge.Vector3.Dot(A,v),V=-Ge.Vector3.Dot(S,v);Dt.FromValuesToRef(R.x,A.x,S.x,0,R.y,A.y,S.y,0,R.z,A.z,S.z,0,I,M,V,1,E)}static OrthoLH(v,C,T,E){const R=new Dt;return Dt.OrthoLHToRef(v,C,T,E,R),R}static OrthoLHToRef(v,C,T,E,R){const A=2/v,S=2/C,O=2/(E-T),I=-(E+T)/(E-T);Dt.FromValuesToRef(A,0,0,0,0,S,0,0,0,0,O,0,0,0,I,1,R),R._updateIdentityStatus(1===A&&1===S&&1===O&&0===I)}static OrthoOffCenterLH(v,C,T,E,R,A){const S=new Dt;return Dt.OrthoOffCenterLHToRef(v,C,T,E,R,A,S),S}static OrthoOffCenterLHToRef(v,C,T,E,R,A,S){const O=2/(C-v),I=2/(E-T),M=2/(A-R),V=-(A+R)/(A-R),z=(v+C)/(v-C),B=(E+T)/(T-E);Dt.FromValuesToRef(O,0,0,0,0,I,0,0,0,0,M,0,z,B,V,1,S),S._markAsUpdated()}static OrthoOffCenterRH(v,C,T,E,R,A){const S=new Dt;return Dt.OrthoOffCenterRHToRef(v,C,T,E,R,A,S),S}static OrthoOffCenterRHToRef(v,C,T,E,R,A,S){Dt.OrthoOffCenterLHToRef(v,C,T,E,R,A,S),S._m[10]*=-1}static PerspectiveLH(v,C,T,E){const R=new Dt,A=2*T/v,S=2*T/C,O=(E+T)/(E-T),I=-2*E*T/(E-T);return Dt.FromValuesToRef(A,0,0,0,0,S,0,0,0,0,O,1,0,0,I,0,R),R._updateIdentityStatus(!1),R}static PerspectiveFovLH(v,C,T,E){const R=new Dt;return Dt.PerspectiveFovLHToRef(v,C,T,E,R),R}static PerspectiveFovLHToRef(v,C,T,E,R,A=!0){const S=T,O=E,I=1/Math.tan(.5*v),M=A?I/C:I,V=A?I:I*C,z=(O+S)/(O-S),B=-2*O*S/(O-S);Dt.FromValuesToRef(M,0,0,0,0,V,0,0,0,0,z,1,0,0,B,0,R),R._updateIdentityStatus(!1)}static PerspectiveFovRH(v,C,T,E){const R=new Dt;return Dt.PerspectiveFovRHToRef(v,C,T,E,R),R}static PerspectiveFovRHToRef(v,C,T,E,R,A=!0){const S=T,O=E,I=1/Math.tan(.5*v),M=A?I/C:I,V=A?I:I*C,z=-(O+S)/(O-S),B=-2*O*S/(O-S);Dt.FromValuesToRef(M,0,0,0,0,V,0,0,0,0,z,-1,0,0,B,0,R),R._updateIdentityStatus(!1)}static PerspectiveFovWebVRToRef(v,C,T,E,R=!1){const A=R?-1:1,S=Math.tan(v.upDegrees*Math.PI/180),O=Math.tan(v.downDegrees*Math.PI/180),I=Math.tan(v.leftDegrees*Math.PI/180),M=Math.tan(v.rightDegrees*Math.PI/180),V=2/(I+M),z=2/(S+O),B=E._m;B[0]=V,B[1]=B[2]=B[3]=B[4]=0,B[5]=z,B[6]=B[7]=0,B[8]=(I-M)*V*.5,B[9]=-(S-O)*z*.5,B[10]=-T/(C-T),B[11]=1*A,B[12]=B[13]=B[15]=0,B[14]=-2*T*C/(T-C),E._markAsUpdated()}static GetAsMatrix2x2(v){return[v._m[0],v._m[1],v._m[4],v._m[5]]}static GetAsMatrix3x3(v){return[v._m[0],v._m[1],v._m[2],v._m[4],v._m[5],v._m[6],v._m[8],v._m[9],v._m[10]]}static Transpose(v){const C=new Dt;return Dt.TransposeToRef(v,C),C}static TransposeToRef(v,C){const T=C._m,E=v._m;T[0]=E[0],T[1]=E[4],T[2]=E[8],T[3]=E[12],T[4]=E[1],T[5]=E[5],T[6]=E[9],T[7]=E[13],T[8]=E[2],T[9]=E[6],T[10]=E[10],T[11]=E[14],T[12]=E[3],T[13]=E[7],T[14]=E[11],T[15]=E[15],C._updateIdentityStatus(v._isIdentity,v._isIdentityDirty)}static Reflection(v){const C=new Dt;return Dt.ReflectionToRef(v,C),C}static ReflectionToRef(v,C){v.normalize();const T=v.normal.x,E=v.normal.y,R=v.normal.z,A=-2*T,S=-2*E,O=-2*R;Dt.FromValuesToRef(A*T+1,S*T,O*T,0,A*E,S*E+1,O*E,0,A*R,S*R,O*R+1,0,A*v.d,S*v.d,O*v.d,1,C)}static FromXYZAxesToRef(v,C,T,E){Dt.FromValuesToRef(v.x,v.y,v.z,0,C.x,C.y,C.z,0,T.x,T.y,T.z,0,0,0,0,1,E)}static FromQuaternionToRef(v,C){const T=v.x*v.x,E=v.y*v.y,R=v.z*v.z,A=v.x*v.y,S=v.z*v.w,O=v.z*v.x,I=v.y*v.w,M=v.y*v.z,V=v.x*v.w;C._m[0]=1-2*(E+R),C._m[1]=2*(A+S),C._m[2]=2*(O-I),C._m[3]=0,C._m[4]=2*(A-S),C._m[5]=1-2*(R+T),C._m[6]=2*(M+V),C._m[7]=0,C._m[8]=2*(O+I),C._m[9]=2*(M-V),C._m[10]=1-2*(E+T),C._m[11]=0,C._m[12]=0,C._m[13]=0,C._m[14]=0,C._m[15]=1,C._markAsUpdated()}_markAsUpdated(){this.updateFlag=Dt._updateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0}isIdentity(){if(this._isIdentityDirty){this._isIdentityDirty=!1;const v=this._m;this._isIdentity=1===v[0]&&0===v[1]&&0===v[2]&&0===v[3]&&0===v[4]&&1===v[5]&&0===v[6]&&0===v[7]&&0===v[8]&&0===v[9]&&1===v[10]&&0===v[11]&&0===v[12]&&0===v[13]&&0===v[14]&&1===v[15]}return this._isIdentity}isIdentityAs3x2(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this._m[0]||1!==this._m[5]||1!==this._m[15]||0!==this._m[1]||0!==this._m[2]||0!==this._m[3]||0!==this._m[4]||0!==this._m[6]||0!==this._m[7]||0!==this._m[8]||0!==this._m[9]||0!==this._m[10]||0!==this._m[11]||0!==this._m[12]||0!==this._m[13]||0!==this._m[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2}determinant(){if(!0===this._isIdentity)return 1;const v=this._m,C=v[0],T=v[1],E=v[2],R=v[3],A=v[4],S=v[5],O=v[6],I=v[7],M=v[8],V=v[9],z=v[10],B=v[11],k=v[12],j=v[13],H=v[14],Q=v[15],q=z*Q-H*B,W=V*Q-j*B,X=V*H-j*z,K=M*Q-k*B,Z=M*H-z*k,J=M*j-k*V;return C*+(S*q-O*W+I*X)+T*-(A*q-O*K+I*Z)+E*+(A*W-S*K+I*J)+R*-(A*X-S*Z+O*J)}toArray(){return this._m}asArray(){return this._m}invert(){return this.invertToRef(this),this}reset(){return Dt.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this}add(v){const C=new Dt;return this.addToRef(v,C),C}addToRef(v,C){for(let T=0;T<16;T++)C._m[T]=this._m[T]+v._m[T];return C._markAsUpdated(),this}addToSelf(v){for(let C=0;C<16;C++)this._m[C]+=v._m[C];return this._markAsUpdated(),this}invertToRef(v){if(!0===this._isIdentity)return Dt.IdentityToRef(v),this;const C=this._m,T=C[0],E=C[1],R=C[2],A=C[3],S=C[4],O=C[5],I=C[6],M=C[7],V=C[8],z=C[9],B=C[10],k=C[11],j=C[12],H=C[13],Q=C[14],q=C[15],W=B*q-Q*k,X=z*q-H*k,K=z*Q-H*B,Z=V*q-j*k,J=V*Q-B*j,$=V*H-j*z,ee=+(O*W-I*X+M*K),ne=-(S*W-I*Z+M*J),oe=+(S*X-O*Z+M*$),ie=-(S*K-O*J+I*$),ae=T*ee+E*ne+R*oe+A*ie;if(0===ae)return v.copyFrom(this),this;const se=1/ae,ce=I*q-Q*M,de=O*q-H*M,le=O*Q-H*I,ue=S*q-j*M,he=S*Q-j*I,ye=S*H-j*O,fe=I*k-B*M,me=O*k-z*M,we=O*B-z*I,ve=S*k-V*M,be=S*B-V*I,Ce=S*z-V*O,Te=-(E*W-R*X+A*K),_e=+(T*W-R*Z+A*J),Ee=-(T*X-E*Z+A*$),Re=+(T*K-E*J+R*$),Se=+(E*ce-R*de+A*le),Oe=-(T*ce-R*ue+A*he),Pe=+(T*de-E*ue+A*ye),Ie=-(T*le-E*he+R*ye),Ve=-(E*fe-R*me+A*we),Fe=+(T*fe-R*ve+A*be),Le=-(T*me-E*ve+A*Ce),Ne=+(T*we-E*be+R*Ce);return Dt.FromValuesToRef(ee*se,Te*se,Se*se,Ve*se,ne*se,_e*se,Oe*se,Fe*se,oe*se,Ee*se,Pe*se,Le*se,ie*se,Re*se,Ie*se,Ne*se,v),this}addAtIndex(v,C){return this._m[v]+=C,this._markAsUpdated(),this}multiplyAtIndex(v,C){return this._m[v]*=C,this._markAsUpdated(),this}setTranslationFromFloats(v,C,T){return this._m[12]=v,this._m[13]=C,this._m[14]=T,this._markAsUpdated(),this}setTranslation(v){return this.setTranslationFromFloats(v.x,v.y,v.z)}getTranslation(){return new Ge.Vector3(this._m[12],this._m[13],this._m[14])}getTranslationToRef(v){return v.x=this._m[12],v.y=this._m[13],v.z=this._m[14],this}removeRotationAndScaling(){const v=this.m;return Dt.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,v[12],v[13],v[14],v[15],this),this._updateIdentityStatus(0===v[12]&&0===v[13]&&0===v[14]&&1===v[15]),this}multiply(v){const C=new Dt;return this.multiplyToRef(v,C),C}copyFrom(v){v.copyToArray(this._m);const C=v;return this._updateIdentityStatus(C._isIdentity,C._isIdentityDirty,C._isIdentity3x2,C._isIdentity3x2Dirty),this}copyToArray(v,C=0){for(let T=0;T<16;T++)v[C+T]=this._m[T];return this}multiplyToRef(v,C){return this._isIdentity?(C.copyFrom(v),this):v._isIdentity?(C.copyFrom(this),this):(this.multiplyToArray(v,C._m,0),C._markAsUpdated(),this)}multiplyToArray(v,C,T){const E=this._m,R=v.m,A=E[0],S=E[1],O=E[2],I=E[3],M=E[4],V=E[5],z=E[6],B=E[7],k=E[8],j=E[9],H=E[10],Q=E[11],q=E[12],W=E[13],X=E[14],K=E[15],Z=R[0],J=R[1],$=R[2],ee=R[3],ne=R[4],oe=R[5],ie=R[6],ae=R[7],se=R[8],ce=R[9],de=R[10],le=R[11],ue=R[12],he=R[13],ye=R[14],fe=R[15];return C[T]=A*Z+S*ne+O*se+I*ue,C[T+1]=A*J+S*oe+O*ce+I*he,C[T+2]=A*$+S*ie+O*de+I*ye,C[T+3]=A*ee+S*ae+O*le+I*fe,C[T+4]=M*Z+V*ne+z*se+B*ue,C[T+5]=M*J+V*oe+z*ce+B*he,C[T+6]=M*$+V*ie+z*de+B*ye,C[T+7]=M*ee+V*ae+z*le+B*fe,C[T+8]=k*Z+j*ne+H*se+Q*ue,C[T+9]=k*J+j*oe+H*ce+Q*he,C[T+10]=k*$+j*ie+H*de+Q*ye,C[T+11]=k*ee+j*ae+H*le+Q*fe,C[T+12]=q*Z+W*ne+X*se+K*ue,C[T+13]=q*J+W*oe+X*ce+K*he,C[T+14]=q*$+W*ie+X*de+K*ye,C[T+15]=q*ee+W*ae+X*le+K*fe,this}equals(v){const C=v;if(!C)return!1;if((this._isIdentity||C._isIdentity)&&!this._isIdentityDirty&&!C._isIdentityDirty)return this._isIdentity&&C._isIdentity;const T=this.m,E=C.m;return T[0]===E[0]&&T[1]===E[1]&&T[2]===E[2]&&T[3]===E[3]&&T[4]===E[4]&&T[5]===E[5]&&T[6]===E[6]&&T[7]===E[7]&&T[8]===E[8]&&T[9]===E[9]&&T[10]===E[10]&&T[11]===E[11]&&T[12]===E[12]&&T[13]===E[13]&&T[14]===E[14]&&T[15]===E[15]}clone(){const v=new Dt;return v.copyFrom(this),v}getClassName(){return"Matrix"}getHashCode(){let v=this._m[0]||0;for(let C=1;C<16;C++)v=397*v^(this._m[C]||0);return v}decompose(v,C,T){if(this._isIdentity)return T&&T.setAll(0),v&&v.setAll(1),C&&C.copyFromFloats(0,0,0,1),!0;const E=this._m;T&&T.copyFromFloats(E[12],E[13],E[14]);const R=v||qe.MathTmp.Vector3[0];if(R.x=Math.sqrt(E[0]*E[0]+E[1]*E[1]+E[2]*E[2]),R.y=Math.sqrt(E[4]*E[4]+E[5]*E[5]+E[6]*E[6]),R.z=Math.sqrt(E[8]*E[8]+E[9]*E[9]+E[10]*E[10]),this.determinant()<=0&&(R.y*=-1),0===R.x||0===R.y||0===R.z)return C&&C.copyFromFloats(0,0,0,1),!1;if(C){const v=1/R.x,T=1/R.y,A=1/R.z;Dt.FromValuesToRef(E[0]*v,E[1]*v,E[2]*v,0,E[4]*T,E[5]*T,E[6]*T,0,E[8]*A,E[9]*A,E[10]*A,0,0,0,0,1,qe.MathTmp.Matrix[0]),Qe.Quaternion.FromRotationMatrixToRef(qe.MathTmp.Matrix[0],C)}return!0}getRow(v){if(v<0||v>3)return null;const C=4*v;return new We.Vector4(this._m[C+0],this._m[C+1],this._m[C+2],this._m[C+3])}setRow(v,C){return this.setRowFromFloats(v,C.x,C.y,C.z,C.w)}transpose(){return Dt.Transpose(this)}transposeToRef(v){return Dt.TransposeToRef(this,v),this}setRowFromFloats(v,C,T,E,R){if(v<0||v>3)return this;const A=4*v;return this._m[A+0]=C,this._m[A+1]=T,this._m[A+2]=E,this._m[A+3]=R,this._markAsUpdated(),this}scale(v){const C=new Dt;return this.scaleToRef(v,C),C}scaleToRef(v,C){for(let T=0;T<16;T++)C._m[T]=this._m[T]*v;return C._markAsUpdated(),this}scaleAndAddToRef(v,C){for(let T=0;T<16;T++)C._m[T]+=this._m[T]*v;return C._markAsUpdated(),this}toNormalMatrix(v){const C=qe.MathTmp.Matrix[0];this.invertToRef(C),C.transposeToRef(v);const T=v._m;Dt.FromValuesToRef(T[0],T[1],T[2],0,T[4],T[5],T[6],0,T[8],T[9],T[10],0,0,0,0,1,v)}getRotationMatrix(){const v=new Dt;return this.getRotationMatrixToRef(v),v}getRotationMatrixToRef(v){const C=qe.MathTmp.Vector3[0];if(!this.decompose(C))return Dt.IdentityToRef(v),this;const T=this._m,E=1/C.x,R=1/C.y,A=1/C.z;return Dt.FromValuesToRef(T[0]*E,T[1]*E,T[2]*E,0,T[4]*R,T[5]*R,T[6]*R,0,T[8]*A,T[9]*A,T[10]*A,0,0,0,0,1,v),this}toggleModelMatrixHandInPlace(){const v=this._m;v[2]*=-1,v[6]*=-1,v[8]*=-1,v[9]*=-1,v[14]*=-1,this._markAsUpdated()}toggleProjectionMatrixHandInPlace(){const v=this._m;v[8]*=-1,v[9]*=-1,v[10]*=-1,v[11]*=-1,this._markAsUpdated()}_updateIdentityStatus(v,C=!1,T=!1,E=!0){this.updateFlag=Dt._updateFlagSeed++,this._isIdentity=v,this._isIdentity3x2=v||T,this._isIdentityDirty=!this._isIdentity&&C,this._isIdentity3x2Dirty=!this._isIdentity3x2&&E}}Le.Matrix=Dt,Dt._updateFlagSeed=0,Dt._identityReadOnly=Dt.Identity(),Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.Quaternion=void 0;const Xe=Le,Ye=Ve,Ze=Pe,Je=Oe,$e=Be;class jt{constructor(v=0,C=0,T=0,E=1){this.x=v,this.y=C,this.z=T,this.w=E}static FromRotationMatrix(v){const C=new jt;return jt.FromRotationMatrixToRef(v,C),C}static FromRotationMatrixToRef(v,C){const T=v.m,E=T[0],R=T[4],A=T[8],S=T[1],O=T[5],I=T[9],M=T[2],V=T[6],z=T[10],B=E+O+z;let k;B>0?(k=.5/Math.sqrt(B+1),C.w=.25/k,C.x=(V-I)*k,C.y=(A-M)*k,C.z=(S-R)*k):E>O&&E>z?(k=2*Math.sqrt(1+E-O-z),C.w=(V-I)/k,C.x=.25*k,C.y=(R+S)/k,C.z=(A+M)/k):O>z?(k=2*Math.sqrt(1+O-E-z),C.w=(A-M)/k,C.x=(R+S)/k,C.y=.25*k,C.z=(I+V)/k):(k=2*Math.sqrt(1+z-E-O),C.w=(S-R)/k,C.x=(A+M)/k,C.y=(I+V)/k,C.z=.25*k)}static Dot(v,C){return v.x*C.x+v.y*C.y+v.z*C.z+v.w*C.w}static AreClose(v,C){return jt.Dot(v,C)>=0}static Zero(){return new jt(0,0,0,0)}static Inverse(v){return new jt(-v.x,-v.y,-v.z,v.w)}static IsIdentity(v){return v&&0===v.x&&0===v.y&&0===v.z&&1===v.w}static RotationAxis(v,C){const T=C*Je.DEG2RAD;return jt.RotationAxisToRef(v,T,new jt)}static RotationAxisToRef(v,C,T){const E=C*Je.DEG2RAD,R=Math.sin(E/2);return v.normalize(),T.w=Math.cos(E/2),T.x=v.x*R,T.y=v.y*R,T.z=v.z*R,T}static FromArray(v,C=0){return new jt(v[C],v[C+1],v[C+2],v[C+3])}static FromEulerAnglesRef(v,C,T,E){return jt.RotationYawPitchRollToRef(C*Je.DEG2RAD,v*Je.DEG2RAD,T*Je.DEG2RAD,E)}static RotationYawPitchRoll(v,C,T){const E=new jt;return jt.RotationYawPitchRollToRef(v,C,T,E),E}static RotationYawPitchRollToRef(v,C,T,E){const R=.5*C,A=.5*v,S=.5*T,O=Math.cos(R),I=Math.cos(A),M=Math.cos(S),V=Math.sin(R),z=Math.sin(A),B=Math.sin(S);E.x=I*V*M+z*O*B,E.y=z*O*M-I*V*B,E.z=I*O*B-z*V*M,E.w=I*O*M+z*V*B}static RotationAlphaBetaGamma(v,C,T){const E=new jt;return jt.RotationAlphaBetaGammaToRef(v,C,T,E),E}static RotationAlphaBetaGammaToRef(v,C,T,E){const R=.5*(T+v),A=.5*(T-v),S=.5*C;E.x=Math.cos(A)*Math.sin(S),E.y=Math.sin(A)*Math.sin(S),E.z=Math.sin(R)*Math.cos(S),E.w=Math.cos(R)*Math.cos(S)}static RotationQuaternionFromAxis(v,C,T){const E=new jt(0,0,0,0);return jt.RotationQuaternionFromAxisToRef(v,C,T,E),E}static RotationQuaternionFromAxisToRef(v,C,T,E){const R=Ze.MathTmp.Matrix[0];Xe.Matrix.FromXYZAxesToRef(v.normalize(),C.normalize(),T.normalize(),R),jt.FromRotationMatrixToRef(R,E)}static Slerp(v,C,T){const E=jt.Identity;return jt.SlerpToRef(v,C,T,E),E}static SlerpToRef(v,C,T,E){let R,A,S=v.x*C.x+v.y*C.y+v.z*C.z+v.w*C.w,O=!1;if(S<0&&(O=!0,S=-S),S>.999999)A=1-T,R=O?-T:T;else{const v=Math.acos(S),C=1/Math.sin(v);A=Math.sin((1-T)*v)*C,R=O?-Math.sin(T*v)*C:Math.sin(T*v)*C}E.x=A*v.x+R*C.x,E.y=A*v.y+R*C.y,E.z=A*v.z+R*C.z,E.w=A*v.w+R*C.w}static Hermite(v,C,T,E,R){const A=R*R,S=R*A,O=2*S-3*A+1,I=-2*S+3*A,M=S-2*A+R,V=S-A,z=v.x*O+T.x*I+C.x*M+E.x*V,B=v.y*O+T.y*I+C.y*M+E.y*V,k=v.z*O+T.z*I+C.z*M+E.z*V,j=v.w*O+T.w*I+C.w*M+E.w*V;return new jt(z,B,k,j)}static get Identity(){return new jt(0,0,0,1)}static Angle(v,C){const T=jt.Dot(v,C);return 2*Math.acos(Math.min(Math.abs(T),1))*Je.RAD2DEG}static Euler(v,C,T){return jt.RotationYawPitchRoll(C*Je.DEG2RAD,v*Je.DEG2RAD,T*Je.DEG2RAD)}static LookRotation(v,C=Ze.MathTmp.staticUp){const T=Ye.Vector3.Normalize(v),E=Ye.Vector3.Normalize(Ye.Vector3.Cross(C,T)),R=Ye.Vector3.Cross(T,E),A=E.x,S=E.y,O=E.z,I=R.x,M=R.y,V=R.z,z=T.x,B=T.y,k=T.z,j=A+M+k,H=new jt;if(j>0){let v=Math.sqrt(j+1);return H.w=.5*v,v=.5/v,H.x=(V-B)*v,H.y=(z-O)*v,H.z=(S-I)*v,H}if(A>=M&&A>=k){const v=Math.sqrt(1+A-M-k),C=.5/v;return H.x=.5*v,H.y=(S+I)*C,H.z=(O+z)*C,H.w=(V-B)*C,H}if(M>k){const v=Math.sqrt(1+M-A-k),C=.5/v;return H.x=(I+S)*C,H.y=.5*v,H.z=(B+V)*C,H.w=(z-O)*C,H}const Q=Math.sqrt(1+k-A-M),q=.5/Q;return H.x=(z+O)*q,H.y=(B+V)*q,H.z=.5*Q,H.w=(S-I)*q,H}static RotateTowards(v,C,T){const E=jt.Angle(v,C);if(0===E)return C;const R=Math.min(1,T/E);return jt.Slerp(v,C,R)}static FromToRotation(v,C,T=Ze.MathTmp.staticUp){const E=v.normalize(),R=C.normalize(),A=Ye.Vector3.Cross(E,R),S=Math.sqrt(E.lengthSquared()*R.lengthSquared())+Ye.Vector3.Dot(E,R);return A.lengthSquared()<1e-4?Math.abs(S)<1e-4?new jt(T.x,T.y,T.z,0).normalized:jt.Identity:new jt(A.x,A.y,A.z,S).normalized}get normalized(){return this.normalize()}setFromToRotation(v,C,T=Ze.MathTmp.staticUp){const E=jt.FromToRotation(v,C,T);this.x=E.x,this.y=E.y,this.z=E.z,this.w=E.w}set eulerAngles(v){this.setEuler(v.x,v.y,v.z)}get eulerAngles(){const v=new Ye.Vector3,C=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w,T=this.x*this.w-this.y*this.z;return T>.4995*C?(v.x=Math.PI/2,v.y=2*Math.atan2(this.y,this.x),v.z=0):T<-.4995*C?(v.x=-Math.PI/2,v.y=-2*Math.atan2(this.y,this.x),v.z=0):(v.x=Math.asin(2*(this.w*this.x-this.y*this.z)),v.y=Math.atan2(2*this.w*this.y+2*this.z*this.x,1-2*(this.x*this.x+this.y*this.y)),v.z=Math.atan2(2*this.w*this.z+2*this.x*this.y,1-2*(this.z*this.z+this.x*this.x))),v.x*=Je.RAD2DEG,v.y*=Je.RAD2DEG,v.z*=Je.RAD2DEG,v.x=$e.Scalar.Repeat(v.x,360),v.y=$e.Scalar.Repeat(v.y,360),v.z=$e.Scalar.Repeat(v.z,360),v}toString(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`}get length(){return Math.sqrt(this.lengthSquared)}get lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}getClassName(){return"Quaternion"}getHashCode(){let v=this.x||0;return v=397*v^(this.y||0),v=397*v^(this.z||0),v=397*v^(this.w||0),v}asArray(){return[this.x,this.y,this.z,this.w]}equals(v){return v&&this.x===v.x&&this.y===v.y&&this.z===v.z&&this.w===v.w}clone(){return new jt(this.x,this.y,this.z,this.w)}copyFrom(v){return this.x=v.x,this.y=v.y,this.z=v.z,this.w=v.w,this}copyFromFloats(v,C,T,E){return this.x=v,this.y=C,this.z=T,this.w=E,this}set(v,C,T,E){return this.copyFromFloats(v,C,T,E)}setEuler(v,C,T){return jt.RotationYawPitchRollToRef(C*Je.DEG2RAD,v*Je.DEG2RAD,T*Je.DEG2RAD,this),this}add(v){return new jt(this.x+v.x,this.y+v.y,this.z+v.z,this.w+v.w)}addInPlace(v){return this.x+=v.x,this.y+=v.y,this.z+=v.z,this.w+=v.w,this}subtract(v){return new jt(this.x-v.x,this.y-v.y,this.z-v.z,this.w-v.w)}scale(v){return new jt(this.x*v,this.y*v,this.z*v,this.w*v)}scaleToRef(v,C){return C.x=this.x*v,C.y=this.y*v,C.z=this.z*v,C.w=this.w*v,this}scaleInPlace(v){return this.x*=v,this.y*=v,this.z*=v,this.w*=v,this}scaleAndAddToRef(v,C){return C.x+=this.x*v,C.y+=this.y*v,C.z+=this.z*v,C.w+=this.w*v,this}multiply(v){const C=new jt(0,0,0,1);return this.multiplyToRef(v,C),C}multiplyToRef(v,C){const T=this.x*v.w+this.y*v.z-this.z*v.y+this.w*v.x,E=-this.x*v.z+this.y*v.w+this.z*v.x+this.w*v.y,R=this.x*v.y-this.y*v.x+this.z*v.w+this.w*v.z,A=-this.x*v.x-this.y*v.y-this.z*v.z+this.w*v.w;return C.copyFromFloats(T,E,R,A),this}multiplyInPlace(v){return this.multiplyToRef(v,this),this}conjugateToRef(v){return v.copyFromFloats(-this.x,-this.y,-this.z,this.w),this}conjugateInPlace(){return this.x*=-1,this.y*=-1,this.z*=-1,this}conjugate(){return new jt(-this.x,-this.y,-this.z,this.w)}normalize(){const v=1/this.length;return this.x*=v,this.y*=v,this.z*=v,this.w*=v,this}angleAxis(v,C){if(0===C.lengthSquared())return jt.Identity;const T=jt.Identity;let E=v*Je.DEG2RAD;E*=.5;let R=C.normalize();return R=C.scaleInPlace(Math.sin(E)),T.x=R.x,T.y=R.y,T.z=R.z,T.w=Math.cos(E),T.normalize()}toRotationMatrix(v){return Xe.Matrix.FromQuaternionToRef(this,v),this}fromRotationMatrix(v){return jt.FromRotationMatrixToRef(v,this),this}}Fe.Quaternion=jt,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.Vector3=void 0;const et=Pe,nt=Oe,ot=Fe,rt=Be;class Xt{constructor(v=0,C=0,T=0){this.x=v,this.y=C,this.z=T}get isNonUniform(){const v=Math.abs(this.x),C=Math.abs(this.y);if(v!==C)return!0;const T=Math.abs(this.z);return v!==T||C!==T}static Add(v,C){return new Xt(v.x,v.y,v.z).addInPlace(C)}static GetClipFactor(v,C,T,E){const R=Xt.Dot(v,T)-E;return R/(R-(Xt.Dot(C,T)-E))}static GetAngleBetweenVectors(v,C,T){const E=v.normalizeToRef(et.MathTmp.Vector3[1]),R=C.normalizeToRef(et.MathTmp.Vector3[2]),A=Xt.Dot(E,R),S=et.MathTmp.Vector3[3];return Xt.CrossToRef(E,R,S),Xt.Dot(S,T)>0?Math.acos(A):-Math.acos(A)}static FromArray(v,C=0){return new Xt(v[C],v[C+1],v[C+2])}static FromFloatArray(v,C){return Xt.FromArray(v,C)}static FromArrayToRef(v,C,T){T.x=v[C],T.y=v[C+1],T.z=v[C+2]}static FromFloatArrayToRef(v,C,T){return Xt.FromArrayToRef(v,C,T)}static FromFloatsToRef(v,C,T,E){E.copyFromFloats(v,C,T)}static Zero(){return new Xt(0,0,0)}static One(){return new Xt(1,1,1)}static Up(){return new Xt(0,1,0)}static Down(){return new Xt(0,-1,0)}static Forward(){return new Xt(0,0,1)}static Backward(){return new Xt(0,0,-1)}static Right(){return new Xt(1,0,0)}static Left(){return new Xt(-1,0,0)}static TransformCoordinates(v,C){const T=Xt.Zero();return Xt.TransformCoordinatesToRef(v,C,T),T}static TransformCoordinatesToRef(v,C,T){return Xt.TransformCoordinatesFromFloatsToRef(v.x,v.y,v.z,C,T)}static TransformCoordinatesFromFloatsToRef(v,C,T,E,R){const A=E.m,S=v*A[0]+C*A[4]+T*A[8]+A[12],O=v*A[1]+C*A[5]+T*A[9]+A[13],I=v*A[2]+C*A[6]+T*A[10]+A[14],M=1/(v*A[3]+C*A[7]+T*A[11]+A[15]);R.x=S*M,R.y=O*M,R.z=I*M}static TransformNormal(v,C){const T=Xt.Zero();return Xt.TransformNormalToRef(v,C,T),T}static TransformNormalToRef(v,C,T){this.TransformNormalFromFloatsToRef(v.x,v.y,v.z,C,T)}static TransformNormalFromFloatsToRef(v,C,T,E,R){const A=E.m;R.x=v*A[0]+C*A[4]+T*A[8],R.y=v*A[1]+C*A[5]+T*A[9],R.z=v*A[2]+C*A[6]+T*A[10]}static CatmullRom(v,C,T,E,R){const A=R*R,S=R*A,O=.5*(2*C.x+(-v.x+T.x)*R+(2*v.x-5*C.x+4*T.x-E.x)*A+(-v.x+3*C.x-3*T.x+E.x)*S),I=.5*(2*C.y+(-v.y+T.y)*R+(2*v.y-5*C.y+4*T.y-E.y)*A+(-v.y+3*C.y-3*T.y+E.y)*S),M=.5*(2*C.z+(-v.z+T.z)*R+(2*v.z-5*C.z+4*T.z-E.z)*A+(-v.z+3*C.z-3*T.z+E.z)*S);return new Xt(O,I,M)}static Clamp(v,C,T){const E=new Xt;return Xt.ClampToRef(v,C,T,E),E}static ClampToRef(v,C,T,E){let R=v.x;R=R>T.x?T.x:R,R=R<C.x?C.x:R;let A=v.y;A=A>T.y?T.y:A,A=A<C.y?C.y:A;let S=v.z;S=S>T.z?T.z:S,S=S<C.z?C.z:S,E.copyFromFloats(R,A,S)}static Hermite(v,C,T,E,R){const A=R*R,S=R*A,O=2*S-3*A+1,I=-2*S+3*A,M=S-2*A+R,V=S-A,z=v.x*O+T.x*I+C.x*M+E.x*V,B=v.y*O+T.y*I+C.y*M+E.y*V,k=v.z*O+T.z*I+C.z*M+E.z*V;return new Xt(z,B,k)}static Lerp(v,C,T){const E=new Xt(0,0,0);return Xt.LerpToRef(v,C,T,E),E}static LerpToRef(v,C,T,E){E.x=v.x+(C.x-v.x)*T,E.y=v.y+(C.y-v.y)*T,E.z=v.z+(C.z-v.z)*T}static Dot(v,C){return v.x*C.x+v.y*C.y+v.z*C.z}static Cross(v,C){const T=Xt.Zero();return Xt.CrossToRef(v,C,T),T}static CrossToRef(v,C,T){const E=v.y*C.z-v.z*C.y,R=v.z*C.x-v.x*C.z,A=v.x*C.y-v.y*C.x;T.copyFromFloats(E,R,A)}static Normalize(v){const C=Xt.Zero();return Xt.NormalizeToRef(v,C),C}static NormalizeToRef(v,C){v.normalizeToRef(C)}static Minimize(v,C){const T=new Xt(v.x,v.y,v.z);return T.minimizeInPlace(C),T}static Maximize(v,C){const T=new Xt(v.x,v.y,v.z);return T.maximizeInPlace(C),T}static Distance(v,C){return Math.sqrt(Xt.DistanceSquared(v,C))}static DistanceSquared(v,C){const T=v.x-C.x,E=v.y-C.y,R=v.z-C.z;return T*T+E*E+R*R}static Center(v,C){const T=Xt.Add(v,C);return T.scaleInPlace(.5),T}static RotationFromAxis(v,C,T){const E=Xt.Zero();return Xt.RotationFromAxisToRef(v,C,T,E),E}static RotationFromAxisToRef(v,C,T,E){const R=et.MathTmp.Quaternion[0];ot.Quaternion.RotationQuaternionFromAxisToRef(v,C,T,R),E.copyFrom(R.eulerAngles)}toString(){return`(${this.x}, ${this.y}, ${this.z})`}getClassName(){return"Vector3"}getHashCode(){let v=this.x||0;return v=397*v^(this.y||0),v=397*v^(this.z||0),v}asArray(){const v=[];return this.toArray(v,0),v}toArray(v,C=0){return v[C]=this.x,v[C+1]=this.y,v[C+2]=this.z,this}toQuaternion(){return ot.Quaternion.Identity.setEuler(this.y,this.x,this.z)}addInPlace(v){return this.addInPlaceFromFloats(v.x,v.y,v.z)}addInPlaceFromFloats(v,C,T){return this.x+=v,this.y+=C,this.z+=T,this}add(v){return new Xt(this.x+v.x,this.y+v.y,this.z+v.z)}addToRef(v,C){return C.copyFromFloats(this.x+v.x,this.y+v.y,this.z+v.z)}subtractInPlace(v){return this.x-=v.x,this.y-=v.y,this.z-=v.z,this}subtract(v){return new Xt(this.x-v.x,this.y-v.y,this.z-v.z)}subtractToRef(v,C){return this.subtractFromFloatsToRef(v.x,v.y,v.z,C)}subtractFromFloats(v,C,T){return new Xt(this.x-v,this.y-C,this.z-T)}subtractFromFloatsToRef(v,C,T,E){return E.copyFromFloats(this.x-v,this.y-C,this.z-T)}applyMatrix4(v){this.applyMatrix4ToRef(v,this)}applyMatrix4ToRef(v,C){const{x:T,y:E,z:R}=this,{m:A}=v,S=1/(A[3]*T+A[7]*E+A[11]*R+A[15]);return C.x=(A[0]*T+A[4]*E+A[8]*R+A[12])*S,C.y=(A[1]*T+A[5]*E+A[9]*R+A[13])*S,C.z=(A[2]*T+A[6]*E+A[10]*R+A[14])*S,C}rotate(v){return this.rotateToRef(v,this)}rotateToRef(v,C){const{x:T,y:E,z:R}=this,{x:A,y:S,z:O,w:I}=v,M=I*T+S*R-O*E,V=I*E+O*T-A*R,z=I*R+A*E-S*T,B=-A*T-S*E-O*R;return C.x=M*I+B*-A+V*-O-z*-S,C.y=V*I+B*-S+z*-A-M*-O,C.z=z*I+B*-O+M*-S-V*-A,C}negate(){return new Xt(-this.x,-this.y,-this.z)}scaleInPlace(v){return this.x*=v,this.y*=v,this.z*=v,this}scale(v){return new Xt(this.x*v,this.y*v,this.z*v)}scaleToRef(v,C){return C.copyFromFloats(this.x*v,this.y*v,this.z*v)}scaleAndAddToRef(v,C){return C.addInPlaceFromFloats(this.x*v,this.y*v,this.z*v)}equals(v){return v&&this.x===v.x&&this.y===v.y&&this.z===v.z}equalsWithEpsilon(v,C=nt.Epsilon){return v&&rt.Scalar.WithinEpsilon(this.x,v.x,C)&&rt.Scalar.WithinEpsilon(this.y,v.y,C)&&rt.Scalar.WithinEpsilon(this.z,v.z,C)}equalsToFloats(v,C,T){return this.x===v&&this.y===C&&this.z===T}multiplyInPlace(v){return this.x*=v.x,this.y*=v.y,this.z*=v.z,this}multiply(v){return this.multiplyByFloats(v.x,v.y,v.z)}multiplyToRef(v,C){return C.copyFromFloats(this.x*v.x,this.y*v.y,this.z*v.z)}multiplyByFloats(v,C,T){return new Xt(this.x*v,this.y*C,this.z*T)}divide(v){return new Xt(this.x/v.x,this.y/v.y,this.z/v.z)}divideToRef(v,C){return C.copyFromFloats(this.x/v.x,this.y/v.y,this.z/v.z)}divideInPlace(v){return this.divideToRef(v,this)}minimizeInPlace(v){return this.minimizeInPlaceFromFloats(v.x,v.y,v.z)}maximizeInPlace(v){return this.maximizeInPlaceFromFloats(v.x,v.y,v.z)}minimizeInPlaceFromFloats(v,C,T){return v<this.x&&(this.x=v),C<this.y&&(this.y=C),T<this.z&&(this.z=T),this}maximizeInPlaceFromFloats(v,C,T){return v>this.x&&(this.x=v),C>this.y&&(this.y=C),T>this.z&&(this.z=T),this}floor(){return new Xt(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))}fract(){return new Xt(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z))}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(v){return 0===v||1===v?this:this.scaleInPlace(1/v)}normalizeToNew(){const v=new Xt(0,0,0);return this.normalizeToRef(v),v}normalizeToRef(v){const C=this.length();return 0===C||1===C?v.copyFromFloats(this.x,this.y,this.z):this.scaleToRef(1/C,v)}clone(){return new Xt(this.x,this.y,this.z)}copyFrom(v){return this.copyFromFloats(v.x,v.y,v.z)}copyFromFloats(v,C,T){return this.x=v,this.y=C,this.z=T,this}set(v,C,T){return this.copyFromFloats(v,C,T)}setAll(v){return this.x=this.y=this.z=v,this}}Ve.Vector3=Xt,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.MathTmp=void 0;const it=Ie,at=Ve,st=Fe,ct=Le;Pe.MathTmp={Vector3:(0,it.buildArray)(6,at.Vector3.Zero),Matrix:(0,it.buildArray)(2,ct.Matrix.Identity),Quaternion:(0,it.buildArray)(3,st.Quaternion.Zero),staticUp:at.Vector3.Up(),tmpMatrix:ct.Matrix.Zero()};var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.Angle=void 0;class te{constructor(v){this._radians=v,this._radians<0&&(this._radians+=2*Math.PI)}static BetweenTwoPoints(v,C){const T=C.subtract(v),E=Math.atan2(T.y,T.x);return new te(E)}static FromRadians(v){return new te(v)}static FromDegrees(v){return new te(v*Math.PI/180)}degrees(){return 180*this._radians/Math.PI}radians(){return this._radians}}dt.Angle=te;var lt={},pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.Vector2=void 0;const ut=Oe,ht=Be;class re{constructor(v=0,C=0){this.x=v,this.y=C}static Zero(){return new re(0,0)}static One(){return new re(1,1)}static Add(v,C){return new re(v.x,v.y).addInPlace(C)}static FromArray(v,C=0){return new re(v[C],v[C+1])}static FromArrayToRef(v,C,T){T.x=v[C],T.y=v[C+1]}static CatmullRom(v,C,T,E,R){const A=R*R,S=R*A,O=.5*(2*C.x+(-v.x+T.x)*R+(2*v.x-5*C.x+4*T.x-E.x)*A+(-v.x+3*C.x-3*T.x+E.x)*S),I=.5*(2*C.y+(-v.y+T.y)*R+(2*v.y-5*C.y+4*T.y-E.y)*A+(-v.y+3*C.y-3*T.y+E.y)*S);return new re(O,I)}static Clamp(v,C,T){let E=v.x;E=E>T.x?T.x:E,E=E<C.x?C.x:E;let R=v.y;return R=R>T.y?T.y:R,R=R<C.y?C.y:R,new re(E,R)}static Hermite(v,C,T,E,R){const A=R*R,S=R*A,O=2*S-3*A+1,I=-2*S+3*A,M=S-2*A+R,V=S-A,z=v.x*O+T.x*I+C.x*M+E.x*V,B=v.y*O+T.y*I+C.y*M+E.y*V;return new re(z,B)}static Lerp(v,C,T){const E=v.x+(C.x-v.x)*T,R=v.y+(C.y-v.y)*T;return new re(E,R)}static Dot(v,C){return v.x*C.x+v.y*C.y}static Normalize(v){const C=new re(v.x,v.y);return C.normalize(),C}static Minimize(v,C){const T=v.x<C.x?v.x:C.x,E=v.y<C.y?v.y:C.y;return new re(T,E)}static Maximize(v,C){const T=v.x>C.x?v.x:C.x,E=v.y>C.y?v.y:C.y;return new re(T,E)}static Transform(v,C){const T=re.Zero();return re.TransformToRef(v,C,T),T}static TransformToRef(v,C,T){const E=C.m,R=v.x*E[0]+v.y*E[4]+E[12],A=v.x*E[1]+v.y*E[5]+E[13];T.x=R,T.y=A}static PointInTriangle(v,C,T,E){const R=.5*(-T.y*E.x+C.y*(-T.x+E.x)+C.x*(T.y-E.y)+T.x*E.y),A=R<0?-1:1,S=(C.y*E.x-C.x*E.y+(E.y-C.y)*v.x+(C.x-E.x)*v.y)*A,O=(C.x*T.y-C.y*T.x+(C.y-T.y)*v.x+(T.x-C.x)*v.y)*A;return S>0&&O>0&&S+O<2*R*A}static Distance(v,C){return Math.sqrt(re.DistanceSquared(v,C))}static DistanceSquared(v,C){const T=v.x-C.x,E=v.y-C.y;return T*T+E*E}static Center(v,C){const T=re.Add(v,C);return T.scaleInPlace(.5),T}static DistanceOfPointFromSegment(v,C,T){const E=re.DistanceSquared(C,T);if(0===E)return re.Distance(v,C);const R=T.subtract(C),A=Math.max(0,Math.min(1,re.Dot(v.subtract(C),R)/E)),S=C.add(R.multiplyByFloats(A,A));return re.Distance(v,S)}toString(){return"{X: "+this.x+" Y:"+this.y+"}"}getClassName(){return"Vector2"}getHashCode(){let v=this.x||0;return v=397*v^(this.y||0),v}toArray(v,C=0){return v[C]=this.x,v[C+1]=this.y,this}asArray(){const v=new Array;return this.toArray(v,0),v}copyFrom(v){return this.x=v.x,this.y=v.y,this}copyFromFloats(v,C){return this.x=v,this.y=C,this}set(v,C){return this.copyFromFloats(v,C)}add(v){return new re(this.x+v.x,this.y+v.y)}addToRef(v,C){return C.x=this.x+v.x,C.y=this.y+v.y,this}addInPlace(v){return this.x+=v.x,this.y+=v.y,this}addVector3(v){return new re(this.x+v.x,this.y+v.y)}subtract(v){return new re(this.x-v.x,this.y-v.y)}subtractToRef(v,C){return C.x=this.x-v.x,C.y=this.y-v.y,this}subtractInPlace(v){return this.x-=v.x,this.y-=v.y,this}multiplyInPlace(v){return this.x*=v.x,this.y*=v.y,this}multiply(v){return new re(this.x*v.x,this.y*v.y)}multiplyToRef(v,C){return C.x=this.x*v.x,C.y=this.y*v.y,this}multiplyByFloats(v,C){return new re(this.x*v,this.y*C)}divide(v){return new re(this.x/v.x,this.y/v.y)}divideToRef(v,C){return C.x=this.x/v.x,C.y=this.y/v.y,this}divideInPlace(v){return this.divideToRef(v,this)}negate(){return new re(-this.x,-this.y)}scaleInPlace(v){return this.x*=v,this.y*=v,this}scale(v){const C=new re(0,0);return this.scaleToRef(v,C),C}scaleToRef(v,C){return C.x=this.x*v,C.y=this.y*v,this}scaleAndAddToRef(v,C){return C.x+=this.x*v,C.y+=this.y*v,this}equals(v){return v&&this.x===v.x&&this.y===v.y}equalsWithEpsilon(v,C=ut.Epsilon){return v&&ht.Scalar.WithinEpsilon(this.x,v.x,C)&&ht.Scalar.WithinEpsilon(this.y,v.y,C)}floor(){return new re(Math.floor(this.x),Math.floor(this.y))}fract(){return new re(this.x-Math.floor(this.x),this.y-Math.floor(this.y))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){const v=this.length();if(0===v)return this;const C=1/v;return this.x*=C,this.y*=C,this}clone(){return new re(this.x,this.y)}}pt.Vector2=re,Object.defineProperty(lt,"__esModule",{value:!0}),lt.Arc2=void 0;const yt=dt,ft=pt,gt=Oe;lt.Arc2=class{constructor(v,C,T){this.startPoint=v,this.midPoint=C,this.endPoint=T;const E=Math.pow(C.x,2)+Math.pow(C.y,2),R=(Math.pow(v.x,2)+Math.pow(v.y,2)-E)/2,A=(E-Math.pow(T.x,2)-Math.pow(T.y,2))/2,S=(v.x-C.x)*(C.y-T.y)-(C.x-T.x)*(v.y-C.y);this.centerPoint=new ft.Vector2((R*(C.y-T.y)-A*(v.y-C.y))/S,((v.x-C.x)*A-(C.x-T.x)*R)/S),this.radius=this.centerPoint.subtract(this.startPoint).length(),this.startAngle=yt.Angle.BetweenTwoPoints(this.centerPoint,this.startPoint);const O=this.startAngle.degrees();let I=yt.Angle.BetweenTwoPoints(this.centerPoint,this.midPoint).degrees(),M=yt.Angle.BetweenTwoPoints(this.centerPoint,this.endPoint).degrees();I-O>180&&(I-=360),I-O<-180&&(I+=360),M-I>180&&(M-=360),M-I<-180&&(M+=360),this.orientation=I-O<0?gt.Orientation.CW:gt.Orientation.CCW,this.angle=yt.Angle.FromDegrees(this.orientation===gt.Orientation.CW?O-M:M-O)}};var wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.Axis=void 0;const vt=Ve;class pe{}wt.Axis=pe,pe.X=new vt.Vector3(1,0,0),pe.Y=new vt.Vector3(0,1,0),pe.Z=new vt.Vector3(0,0,1);var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.BezierCurve=void 0,bt.BezierCurve=class{static Interpolate(v,C,T,E,R){const A=1-3*E+3*C,S=3*E-6*C,O=3*C;let I=v;for(let C=0;C<5;C++){const C=I*I;I-=1/(3*A*C+2*S*I+O)*(A*(C*I)+S*C+O*I-v),I=Math.min(1,Math.max(0,I))}return 3*Math.pow(1-I,2)*I*T+3*(1-I)*Math.pow(I,2)*R+Math.pow(I,3)}};var Ct={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.Color4=void 0;const _t=Be,xt=Oe;class ge{constructor(v=0,C=0,T=0,E=1){this.r=v,this.g=C,this.b=T,this.a=E}static FromHexString(v){if("#"!==v.substring(0,1)||9!==v.length)return new ge(0,0,0,0);const C=parseInt(v.substring(1,3),16),T=parseInt(v.substring(3,5),16),E=parseInt(v.substring(5,7),16),R=parseInt(v.substring(7,9),16);return ge.FromInts(C,T,E,R)}static Lerp(v,C,T){const E=new ge(0,0,0,0);return ge.LerpToRef(v,C,T,E),E}static LerpToRef(v,C,T,E){E.r=v.r+(C.r-v.r)*T,E.g=v.g+(C.g-v.g)*T,E.b=v.b+(C.b-v.b)*T,E.a=v.a+(C.a-v.a)*T}static Red(){return new ge(1,0,0,1)}static Green(){return new ge(0,1,0,1)}static Blue(){return new ge(0,0,1,1)}static Black(){return new ge(0,0,0,1)}static White(){return new ge(1,1,1,1)}static Purple(){return new ge(.5,0,.5,1)}static Magenta(){return new ge(1,0,1,1)}static Yellow(){return new ge(1,1,0,1)}static Gray(){return new ge(.5,.5,.5,1)}static Teal(){return new ge(0,1,1,1)}static Clear(){return new ge(0,0,0,0)}static FromColor3(v,C=1){return new ge(v.r,v.g,v.b,C)}static FromArray(v,C=0){return new ge(v[C],v[C+1],v[C+2],v[C+3])}static FromInts(v,C,T,E){return new ge(v/255,C/255,T/255,E/255)}static CheckColors4(v,C){if(v.length===3*C){const C=[];for(let T=0;T<v.length;T+=3){const E=T/3*4;C[E]=v[T],C[E+1]=v[T+1],C[E+2]=v[T+2],C[E+3]=1}return C}return v}addInPlace(v){return this.r+=v.r,this.g+=v.g,this.b+=v.b,this.a+=v.a,this}asArray(){const v=new Array;return this.toArray(v,0),v}toArray(v,C=0){return v[C]=this.r,v[C+1]=this.g,v[C+2]=this.b,v[C+3]=this.a,this}add(v){return new ge(this.r+v.r,this.g+v.g,this.b+v.b,this.a+v.a)}subtract(v){return new ge(this.r-v.r,this.g-v.g,this.b-v.b,this.a-v.a)}subtractToRef(v,C){return C.r=this.r-v.r,C.g=this.g-v.g,C.b=this.b-v.b,C.a=this.a-v.a,this}scale(v){return new ge(this.r*v,this.g*v,this.b*v,this.a*v)}scaleToRef(v,C){return C.r=this.r*v,C.g=this.g*v,C.b=this.b*v,C.a=this.a*v,this}scaleAndAddToRef(v,C){return C.r+=this.r*v,C.g+=this.g*v,C.b+=this.b*v,C.a+=this.a*v,this}clampToRef(v=0,C=1,T){return T.r=_t.Scalar.Clamp(this.r,v,C),T.g=_t.Scalar.Clamp(this.g,v,C),T.b=_t.Scalar.Clamp(this.b,v,C),T.a=_t.Scalar.Clamp(this.a,v,C),this}multiply(v){return new ge(this.r*v.r,this.g*v.g,this.b*v.b,this.a*v.a)}multiplyToRef(v,C){return C.r=this.r*v.r,C.g=this.g*v.g,C.b=this.b*v.b,C.a=this.a*v.a,C}toString(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+" A:"+this.a+"}"}getClassName(){return"Color4"}getHashCode(){let v=this.r||0;return v=397*v^(this.g||0),v=397*v^(this.b||0),v=397*v^(this.a||0),v}clone(){return new ge(this.r,this.g,this.b,this.a)}copyFrom(v){return this.r=v.r,this.g=v.g,this.b=v.b,this.a=v.a,this}copyFromFloats(v,C,T,E){return this.r=v,this.g=C,this.b=T,this.a=E,this}set(v,C,T,E){return this.copyFromFloats(v,C,T,E)}toHexString(){const v=255*this.r|0,C=255*this.g|0,T=255*this.b|0,E=255*this.a|0;return"#"+_t.Scalar.ToHex(v)+_t.Scalar.ToHex(C)+_t.Scalar.ToHex(T)+_t.Scalar.ToHex(E)}toLinearSpace(){const v=new ge;return this.toLinearSpaceToRef(v),v}toLinearSpaceToRef(v){return v.r=Math.pow(this.r,xt.ToLinearSpace),v.g=Math.pow(this.g,xt.ToLinearSpace),v.b=Math.pow(this.b,xt.ToLinearSpace),v.a=this.a,this}toGammaSpace(){const v=new ge;return this.toGammaSpaceToRef(v),v}toGammaSpaceToRef(v){return v.r=Math.pow(this.r,xt.ToGammaSpace),v.g=Math.pow(this.g,xt.ToGammaSpace),v.b=Math.pow(this.b,xt.ToGammaSpace),v.a=this.a,this}}Tt.Color4=ge,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Color3=void 0;const Rt=Oe,At=Tt,St=Be;class xe{constructor(v=0,C=0,T=0){this.r=v,this.g=C,this.b=T}static FromHexString(v){if("#"!==v.substring(0,1)||7!==v.length)return new xe(0,0,0);const C=parseInt(v.substring(1,3),16),T=parseInt(v.substring(3,5),16),E=parseInt(v.substring(5,7),16);return xe.FromInts(C,T,E)}static FromArray(v,C=0){return new xe(v[C],v[C+1],v[C+2])}static FromInts(v,C,T){return new xe(v/255,C/255,T/255)}static Lerp(v,C,T){const E=new xe(0,0,0);return xe.LerpToRef(v,C,T,E),E}static LerpToRef(v,C,T,E){E.r=v.r+(C.r-v.r)*T,E.g=v.g+(C.g-v.g)*T,E.b=v.b+(C.b-v.b)*T}static Red(){return new xe(1,0,0)}static Green(){return new xe(0,1,0)}static Blue(){return new xe(0,0,1)}static Black(){return new xe(0,0,0)}static White(){return new xe(1,1,1)}static Purple(){return new xe(.5,0,.5)}static Magenta(){return new xe(1,0,1)}static Yellow(){return new xe(1,1,0)}static Gray(){return new xe(.5,.5,.5)}static Teal(){return new xe(0,1,1)}static Random(){return new xe(Math.random(),Math.random(),Math.random())}toString(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+"}"}getClassName(){return"Color3"}getHashCode(){let v=this.r||0;return v=397*v^(this.g||0),v=397*v^(this.b||0),v}toArray(v,C=0){return v[C]=this.r,v[C+1]=this.g,v[C+2]=this.b,this}toColor4(v=1){return new At.Color4(this.r,this.g,this.b,v)}asArray(){const v=new Array;return this.toArray(v,0),v}toLuminance(){return.3*this.r+.59*this.g+.11*this.b}multiply(v){return new xe(this.r*v.r,this.g*v.g,this.b*v.b)}multiplyToRef(v,C){return C.r=this.r*v.r,C.g=this.g*v.g,C.b=this.b*v.b,this}equals(v){return v&&this.r===v.r&&this.g===v.g&&this.b===v.b}equalsFloats(v,C,T){return this.r===v&&this.g===C&&this.b===T}scale(v){return new xe(this.r*v,this.g*v,this.b*v)}scaleToRef(v,C){return C.r=this.r*v,C.g=this.g*v,C.b=this.b*v,this}scaleAndAddToRef(v,C){return C.r+=this.r*v,C.g+=this.g*v,C.b+=this.b*v,this}clampToRef(v=0,C=1,T){return T.r=St.Scalar.Clamp(this.r,v,C),T.g=St.Scalar.Clamp(this.g,v,C),T.b=St.Scalar.Clamp(this.b,v,C),this}add(v){return new xe(this.r+v.r,this.g+v.g,this.b+v.b)}addToRef(v,C){return C.r=this.r+v.r,C.g=this.g+v.g,C.b=this.b+v.b,this}subtract(v){return new xe(this.r-v.r,this.g-v.g,this.b-v.b)}subtractToRef(v,C){return C.r=this.r-v.r,C.g=this.g-v.g,C.b=this.b-v.b,this}clone(){return new xe(this.r,this.g,this.b)}copyFrom(v){return this.r=v.r,this.g=v.g,this.b=v.b,this}copyFromFloats(v,C,T){return this.r=v,this.g=C,this.b=T,this}set(v,C,T){return this.copyFromFloats(v,C,T)}toHexString(){const v=255*this.r|0,C=255*this.g|0,T=255*this.b|0;return"#"+St.Scalar.ToHex(v)+St.Scalar.ToHex(C)+St.Scalar.ToHex(T)}toLinearSpace(){const v=new xe;return this.toLinearSpaceToRef(v),v}toLinearSpaceToRef(v){return v.r=Math.pow(this.r,Rt.ToLinearSpace),v.g=Math.pow(this.g,Rt.ToLinearSpace),v.b=Math.pow(this.b,Rt.ToLinearSpace),this}toGammaSpace(){const v=new xe;return this.toGammaSpaceToRef(v),v}toGammaSpaceToRef(v){return v.r=Math.pow(this.r,Rt.ToGammaSpace),v.g=Math.pow(this.g,Rt.ToGammaSpace),v.b=Math.pow(this.b,Rt.ToGammaSpace),this}toJSON(){return{r:this.r,g:this.g,b:this.b}}}Ct.Color3=xe;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.Curve3=void 0;const Pt=Ve;class Ae{constructor(v){this._length=0,this._points=v,this._length=this._computeLength(v)}static CreateQuadraticBezier(v,C,T,E){E=E>2?E:3;const R=new Array,r=(v,C,T,E)=>(1-v)*(1-v)*C+2*v*(1-v)*T+v*v*E;for(let A=0;A<=E;A++)R.push(new Pt.Vector3(r(A/E,v.x,C.x,T.x),r(A/E,v.y,C.y,T.y),r(A/E,v.z,C.z,T.z)));return new Ae(R)}static CreateCubicBezier(v,C,T,E,R){R=R>3?R:4;const A=new Array,s=(v,C,T,E,R)=>(1-v)*(1-v)*(1-v)*C+3*v*(1-v)*(1-v)*T+3*v*v*(1-v)*E+v*v*v*R;for(let S=0;S<=R;S++)A.push(new Pt.Vector3(s(S/R,v.x,C.x,T.x,E.x),s(S/R,v.y,C.y,T.y,E.y),s(S/R,v.z,C.z,T.z,E.z)));return new Ae(A)}static CreateHermiteSpline(v,C,T,E,R){const A=new Array,S=1/R;for(let O=0;O<=R;O++)A.push(Pt.Vector3.Hermite(v,C,T,E,O*S));return new Ae(A)}static CreateCatmullRomSpline(v,C,T){const E=new Array,R=1/C;let A=0;if(T){const T=v.length;for(let S=0;S<T;S++){A=0;for(let O=0;O<C;O++)E.push(Pt.Vector3.CatmullRom(v[S%T],v[(S+1)%T],v[(S+2)%T],v[(S+3)%T],A)),A+=R}E.push(E[0])}else{const T=new Array;T.push(v[0].clone()),Array.prototype.push.apply(T,v),T.push(v[v.length-1].clone());let S=0;for(S=0;S<T.length-3;S++){A=0;for(let v=0;v<C;v++)E.push(Pt.Vector3.CatmullRom(T[S],T[S+1],T[S+2],T[S+3],A)),A+=R}S--,E.push(Pt.Vector3.CatmullRom(T[S],T[S+1],T[S+2],T[S+3],A))}return new Ae(E)}getPoints(){return this._points}length(){return this._length}continue(v){const C=this._points[this._points.length-1],T=this._points.slice(),E=v.getPoints();for(let v=1;v<E.length;v++)T.push(E[v].subtract(E[0]).add(C));return new Ae(T)}_computeLength(v){let C=0;for(let T=1;T<v.length;T++)C+=v[T].subtract(v[T-1]).length();return C}}Ot.Curve3=Ae;var It={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.Plane=void 0;const Ft=Ve,zt=Le,Lt=Pe;class ze{constructor(v,C,T,E){this.normal=new Ft.Vector3(v,C,T),this.d=E}static FromArray(v){return new ze(v[0],v[1],v[2],v[3])}static FromPoints(v,C,T){const E=new ze(0,0,0,0);return E.copyFromPoints(v,C,T),E}static FromPositionAndNormal(v,C){const T=new ze(0,0,0,0);return C.normalize(),T.normal=C,T.d=-(C.x*v.x+C.y*v.y+C.z*v.z),T}static SignedDistanceToPlaneFromPositionAndNormal(v,C,T){const E=-(C.x*v.x+C.y*v.y+C.z*v.z);return Ft.Vector3.Dot(T,C)+E}asArray(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new ze(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let v=this.normal.getHashCode();return v=397*v^(this.d||0),v}normalize(){const v=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let C=0;return 0!==v&&(C=1/v),this.normal.x*=C,this.normal.y*=C,this.normal.z*=C,this.d*=C,this}transform(v){const C=Lt.MathTmp.Matrix[0];zt.Matrix.TransposeToRef(v,C);const T=C.m,E=this.normal.x,R=this.normal.y,A=this.normal.z,S=this.d,O=E*T[0]+R*T[1]+A*T[2]+S*T[3],I=E*T[4]+R*T[5]+A*T[6]+S*T[7],M=E*T[8]+R*T[9]+A*T[10]+S*T[11],V=E*T[12]+R*T[13]+A*T[14]+S*T[15];return new ze(O,I,M,V)}dotCoordinate(v){return this.normal.x*v.x+this.normal.y*v.y+this.normal.z*v.z+this.d}copyFromPoints(v,C,T){const E=C.x-v.x,R=C.y-v.y,A=C.z-v.z,S=T.x-v.x,O=T.y-v.y,I=T.z-v.z,M=R*I-A*O,V=A*S-E*I,z=E*O-R*S,B=Math.sqrt(M*M+V*V+z*z);let k;return k=0!==B?1/B:0,this.normal.x=M*k,this.normal.y=V*k,this.normal.z=z*k,this.d=-(this.normal.x*v.x+this.normal.y*v.y+this.normal.z*v.z),this}isFrontFacingTo(v,C){return Ft.Vector3.Dot(this.normal,v)<=C}signedDistanceTo(v){return Ft.Vector3.Dot(v,this.normal)+this.d}}Vt.Plane=ze,Object.defineProperty(It,"__esModule",{value:!0}),It.Frustum=void 0;const Nt=Vt;class Me{static GetPlanes(v){const C=[];for(let v=0;v<6;v++)C.push(new Nt.Plane(0,0,0,0));return Me.GetPlanesToRef(v,C),C}static GetNearPlaneToRef(v,C){const T=v.m;C.normal.x=T[3]+T[2],C.normal.y=T[7]+T[6],C.normal.z=T[11]+T[10],C.d=T[15]+T[14],C.normalize()}static GetFarPlaneToRef(v,C){const T=v.m;C.normal.x=T[3]-T[2],C.normal.y=T[7]-T[6],C.normal.z=T[11]-T[10],C.d=T[15]-T[14],C.normalize()}static GetLeftPlaneToRef(v,C){const T=v.m;C.normal.x=T[3]+T[0],C.normal.y=T[7]+T[4],C.normal.z=T[11]+T[8],C.d=T[15]+T[12],C.normalize()}static GetRightPlaneToRef(v,C){const T=v.m;C.normal.x=T[3]-T[0],C.normal.y=T[7]-T[4],C.normal.z=T[11]-T[8],C.d=T[15]-T[12],C.normalize()}static GetTopPlaneToRef(v,C){const T=v.m;C.normal.x=T[3]-T[1],C.normal.y=T[7]-T[5],C.normal.z=T[11]-T[9],C.d=T[15]-T[13],C.normalize()}static GetBottomPlaneToRef(v,C){const T=v.m;C.normal.x=T[3]+T[1],C.normal.y=T[7]+T[5],C.normal.z=T[11]+T[9],C.d=T[15]+T[13],C.normalize()}static GetPlanesToRef(v,C){Me.GetNearPlaneToRef(v,C[0]),Me.GetFarPlaneToRef(v,C[1]),Me.GetLeftPlaneToRef(v,C[2]),Me.GetRightPlaneToRef(v,C[3]),Me.GetTopPlaneToRef(v,C[4]),Me.GetBottomPlaneToRef(v,C[5])}}It.Frustum=Me;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.Path2=void 0;const kt=pt,Ut=lt,Ht=Oe;class De{constructor(v,C){this.closed=!1,this._points=new Array,this._length=0,this._points.push(new kt.Vector2(v,C))}static StartingAt(v,C){return new De(v,C)}addLineTo(v,C){if(this.closed)return this;const T=new kt.Vector2(v,C),E=this._points[this._points.length-1];return this._points.push(T),this._length+=T.subtract(E).length(),this}addArcTo(v,C,T,E,R=36){if(this.closed)return this;const A=this._points[this._points.length-1],S=new kt.Vector2(v,C),O=new kt.Vector2(T,E),I=new Ut.Arc2(A,S,O);let M=I.angle.radians()/R;I.orientation===Ht.Orientation.CW&&(M*=-1);let V=I.startAngle.radians()+M;for(let v=0;v<R;v++){const v=Math.cos(V)*I.radius+I.centerPoint.x,C=Math.sin(V)*I.radius+I.centerPoint.y;this.addLineTo(v,C),V+=M}return this}close(){return this.closed=!0,this}length(){let v=this._length;if(!this.closed){const C=this._points[this._points.length-1];v+=this._points[0].subtract(C).length()}return v}getPoints(){return this._points}getPointAtLengthPosition(v){if(v<0||v>1)return kt.Vector2.Zero();const C=v*this.length();let T=0;for(let v=0;v<this._points.length;v++){const E=(v+1)%this._points.length,R=this._points[v],A=this._points[E].subtract(R),S=A.length()+T;if(C>=T&&C<=S){const v=A.normalize(),E=C-T;return new kt.Vector2(R.x+v.x*E,R.y+v.y*E)}T=S}return kt.Vector2.Zero()}}Bt.Path2=De;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.Path3D=void 0;const Qt=Ve,qt=Oe,Wt=Be;Gt.Path3D=class{constructor(v,C=null,T){this.path=v,this._curve=new Array,this._distances=new Array,this._tangents=new Array,this._normals=new Array,this._binormals=new Array;for(let C=0;C<v.length;C++)this._curve[C]=v[C].clone();this._raw=T||!1,this._compute(C)}getCurve(){return this._curve}getTangents(){return this._tangents}getNormals(){return this._normals}getBinormals(){return this._binormals}getDistances(){return this._distances}update(v,C=null){for(let C=0;C<v.length;C++)this._curve[C].x=v[C].x,this._curve[C].y=v[C].y,this._curve[C].z=v[C].z;return this._compute(C),this}_compute(v){const C=this._curve.length;this._tangents[0]=this._getFirstNonNullVector(0),this._raw||this._tangents[0].normalize(),this._tangents[C-1]=this._curve[C-1].subtract(this._curve[C-2]),this._raw||this._tangents[C-1].normalize();const T=this._tangents[0],E=this._normalVector(this._curve[0],T,v);let R,A,S,O;this._normals[0]=E,this._raw||this._normals[0].normalize(),this._binormals[0]=Qt.Vector3.Cross(T,this._normals[0]),this._raw||this._binormals[0].normalize(),this._distances[0]=0;for(let v=1;v<C;v++)R=this._getLastNonNullVector(v),v<C-1&&(A=this._getFirstNonNullVector(v),this._tangents[v]=R.add(A),this._tangents[v].normalize()),this._distances[v]=this._distances[v-1]+R.length(),S=this._tangents[v],O=this._binormals[v-1],this._normals[v]=Qt.Vector3.Cross(O,S),this._raw||this._normals[v].normalize(),this._binormals[v]=Qt.Vector3.Cross(S,this._normals[v]),this._raw||this._binormals[v].normalize()}_getFirstNonNullVector(v){let C=1,T=this._curve[v+C].subtract(this._curve[v]);for(;0===T.length()&&v+C+1<this._curve.length;)C++,T=this._curve[v+C].subtract(this._curve[v]);return T}_getLastNonNullVector(v){let C=1,T=this._curve[v].subtract(this._curve[v-C]);for(;0===T.length()&&v>C+1;)C++,T=this._curve[v].subtract(this._curve[v-C]);return T}_normalVector(v,C,T){let E,R=C.length();if(0===R&&(R=1),null==T){let v;v=Wt.Scalar.WithinEpsilon(Math.abs(C.y)/R,1,qt.Epsilon)?Wt.Scalar.WithinEpsilon(Math.abs(C.x)/R,1,qt.Epsilon)?Wt.Scalar.WithinEpsilon(Math.abs(C.z)/R,1,qt.Epsilon)?Qt.Vector3.Zero():new Qt.Vector3(0,0,1):new Qt.Vector3(1,0,0):new Qt.Vector3(0,-1,0),E=Qt.Vector3.Cross(C,v)}else E=Qt.Vector3.Cross(C,T),Qt.Vector3.CrossToRef(E,C,E);return E.normalize(),E}};var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.Size=void 0;class je{constructor(v,C){this.width=v,this.height=C}get surface(){return this.width*this.height}static Zero(){return new je(0,0)}static Lerp(v,C,T){const E=v.width+(C.width-v.width)*T,R=v.height+(C.height-v.height)*T;return new je(E,R)}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let v=this.width||0;return v=397*v^(this.height||0),v}copyFrom(v){this.width=v.width,this.height=v.height}copyFromFloats(v,C){return this.width=v,this.height=C,this}set(v,C){return this.copyFromFloats(v,C)}multiplyByFloats(v,C){return new je(this.width*v,this.height*C)}clone(){return new je(this.width,this.height)}equals(v){return!!v&&this.width===v.width&&this.height===v.height}add(v){return new je(this.width+v.width,this.height+v.height)}subtract(v){return new je(this.width-v.width,this.height-v.height)}}Yt.Size=je,function(v){var C=Re&&Re.__createBinding||(Object.create?function(v,C,T,E){void 0===E&&(E=T),Object.defineProperty(v,E,{enumerable:!0,get:function(){return C[T]}})}:function(v,C,T,E){void 0===E&&(E=T),v[E]=C[T]}),T=Re&&Re.__exportStar||function(v,T){for(var E in v)"default"===E||Object.prototype.hasOwnProperty.call(T,E)||C(T,v,E)};Object.defineProperty(v,"__esModule",{value:!0}),T(Oe,v),T(Pe,v),T(dt,v),T(lt,v),T(wt,v),T(bt,v),T(Ct,v),T(Tt,v),T(Ot,v),T(It,v),T(Le,v),T(Bt,v),T(Gt,v),T(Vt,v),T(Fe,v),T(Be,v),T(Yt,v),T(pt,v),T(Ve,v),T(Ne,v),T(Se,v)}(Se);var Kt,Zt,Jt,$t,tn={looping:!0,speed:1,weight:1,layer:0},nn=function(v){function e(C,T){void 0===T&&(T=tn);var E=v.call(this)||this;return E.isAnimationClip=!0,E.looping=tn.looping,E.weight=tn.weight,E.playing=!1,E.shouldReset=!1,E.speed=tn.speed,E.name=f("AnimClip"),E.layer=tn.layer,E.clip=C,E.setParams(o({},T)),E}return i(e,v),e.prototype.setParams=function(v){return this.looping=void 0!==v.looping?v.looping:this.looping,this.speed=v.speed||this.speed,this.weight=v.weight||this.weight,this.layer=v.layer||this.layer,this},e.prototype.toJSON=function(){var C=JSON.parse(JSON.stringify(v.prototype.toJSON.call(this)));return this.shouldReset&&(this.shouldReset=!1),C},e.prototype.play=function(v){var C;void 0===v&&(v=!1),null===(C=this.owner)||void 0===C||C.play(this,v)},e.prototype.pause=function(){var v;null===(v=this.owner)||void 0===v||v.pause(this)},e.prototype.reset=function(){this.shouldReset=!0},e.prototype.stop=function(){var v;null===(v=this.owner)||void 0===v||v.stop(this)},r([Q.readonly,s("design:type",String)],e.prototype,"clip",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"looping",void 0),r([Q.field,s("design:type",Number)],e.prototype,"weight",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"playing",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"shouldReset",void 0),r([Q.field,s("design:type",Number)],e.prototype,"speed",void 0),r([Q.readonly,s("design:type",String)],e.prototype,"name",void 0),e}(Q);v.InputEventType=void 0,(Kt=v.InputEventType||(v.InputEventType={}))[Kt.DOWN=0]="DOWN",Kt[Kt.UP=1]="UP",v.CameraMode=void 0,(Zt=v.CameraMode||(v.CameraMode={}))[Zt.FirstPerson=0]="FirstPerson",Zt[Zt.ThirdPerson=1]="ThirdPerson",Zt[Zt.BuildingToolGodMode=2]="BuildingToolGodMode",v.LandRole=void 0,(Jt=v.LandRole||(v.LandRole={})).OWNER="owner",Jt.OPERATOR="operator",v.ActionButton=void 0,($t=v.ActionButton||(v.ActionButton={})).POINTER="POINTER",$t.PRIMARY="PRIMARY",$t.SECONDARY="SECONDARY",$t.ANY="ANY",$t.FORWARD="FORWARD",$t.BACKWARD="BACKWARD",$t.RIGHT="RIGHT",$t.LEFT="LEFT",$t.JUMP="JUMP",$t.WALK="WALK",$t.ACTION_3="ACTION_3",$t.ACTION_4="ACTION_4",$t.ACTION_5="ACTION_5",$t.ACTION_6="ACTION_6";var on,rn,Ke=function(v){if(this.callback=v,!v||!("apply"in v)||!("call"in v))throw new Error("Callback is not a function");cn.ensureInstance()},an=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return i(e,v),r([P("pointerDown")],e)}(Ke),sn=function(v){function e(){return null!==v&&v.apply(this,arguments)||this}return i(e,v),r([P("pointerUp")],e)}(Ke),en=function(v,C){this.fn=v,this.useRaycast=C},cn=function(){function e(){this.buttonIdMapping=[v.ActionButton.POINTER,v.ActionButton.PRIMARY,v.ActionButton.SECONDARY,v.ActionButton.ANY,v.ActionButton.FORWARD,v.ActionButton.BACKWARD,v.ActionButton.RIGHT,v.ActionButton.LEFT,v.ActionButton.JUMP,v.ActionButton.WALK,v.ActionButton.ACTION_3,v.ActionButton.ACTION_4,v.ActionButton.ACTION_5,v.ActionButton.ACTION_6],this.subscriptions=this.buttonIdMapping.reduce((function(v,C){var T;return o(o({},v),((T={})[C]={BUTTON_DOWN:[],BUTTON_UP:[]},T))}),{}),this.internalState=this.buttonIdMapping.reduce((function(v,C){var T;return o(o({},v),((T={})[C]={BUTTON_DOWN:!1},T))}),{})}return Object.defineProperty(e,"instance",{get:function(){return e.ensureInstance(),e._instance},enumerable:!1,configurable:!0}),e.ensureInstance=function(){e._instance||(e._instance=new e)},e.prototype.isButtonPressed=function(v){return this.internalState[v]},e.prototype.subscribe=function(v,C,T,E){var R=this;return this.subscriptions[C][v].push(new en(E,T)),function(){R.unsubscribe(v,C,E)}},e.prototype.unsubscribe=function(v,C,T){var E=this.getSubscriptionId(v,C,T);return E>-1&&this.subscriptions[C][v].splice(E,1)},e.prototype.handlePointerEvent=function(C){var T=this.getPointerById(C.buttonId);if(T){var E=o(o({},C),{button:T,direction:(new Se.Vector3).copyFrom(C.direction),origin:(new Se.Vector3).copyFrom(C.origin),hit:void 0}),R=C.hit?o(o({},C.hit),{hitPoint:(new Se.Vector3).copyFrom(C.hit.hitPoint),normal:(new Se.Vector3).copyFrom(C.hit.normal),worldNormal:(new Se.Vector3).copyFrom(C.hit.worldNormal)}):void 0;if(C.type===v.InputEventType.DOWN){this.internalState[T].BUTTON_DOWN=!0;for(var A=0;A<this.subscriptions[T].BUTTON_DOWN.length;A++)(S=this.subscriptions[T].BUTTON_DOWN[A]).useRaycast?E.hit=R:E.hit=void 0,S.fn(E);R&&R.entityId&&N.engine&&(I=(O=N.engine.entities[R.entityId])&&O.getComponentOrNull(an))&&(E.hit=R,I.callback(E))}else{for(this.internalState[T].BUTTON_DOWN=!1,A=0;A<this.subscriptions[T].BUTTON_UP.length;A++){var S;(S=this.subscriptions[T].BUTTON_UP[A]).useRaycast?E.hit=R:E.hit=void 0,S.fn(E)}var O,I;R&&R.entityId&&N.engine&&(I=(O=N.engine.entities[R.entityId])&&O.getComponentOrNull(sn))&&(E.hit=R,I.callback(E))}}},e.prototype.getSubscriptionId=function(v,C,T){for(var E=0;E<this.subscriptions[C][v].length;E++)if(this.subscriptions[C][v][E].fn===T)return E;return-1},e.prototype.getPointerById=function(C){if(C<0||C>=this.buttonIdMapping.length)return null;var T=this.buttonIdMapping[C];return T===v.ActionButton.ANY?null:T},e}();v.CLASS_ID=void 0,(on=v.CLASS_ID||(v.CLASS_ID={}))[on.TRANSFORM=1]="TRANSFORM",on[on.UUID_CALLBACK=8]="UUID_CALLBACK",on[on.BOX_SHAPE=16]="BOX_SHAPE",on[on.SPHERE_SHAPE=17]="SPHERE_SHAPE",on[on.PLANE_SHAPE=18]="PLANE_SHAPE",on[on.CONE_SHAPE=19]="CONE_SHAPE",on[on.CYLINDER_SHAPE=20]="CYLINDER_SHAPE",on[on.TEXT_SHAPE=21]="TEXT_SHAPE",on[on.NFT_SHAPE=22]="NFT_SHAPE",on[on.UI_WORLD_SPACE_SHAPE=23]="UI_WORLD_SPACE_SHAPE",on[on.UI_SCREEN_SPACE_SHAPE=24]="UI_SCREEN_SPACE_SHAPE",on[on.UI_CONTAINER_RECT=25]="UI_CONTAINER_RECT",on[on.UI_CONTAINER_STACK=26]="UI_CONTAINER_STACK",on[on.UI_TEXT_SHAPE=27]="UI_TEXT_SHAPE",on[on.UI_INPUT_TEXT_SHAPE=28]="UI_INPUT_TEXT_SHAPE",on[on.UI_IMAGE_SHAPE=29]="UI_IMAGE_SHAPE",on[on.UI_SLIDER_SHAPE=30]="UI_SLIDER_SHAPE",on[on.CIRCLE_SHAPE=31]="CIRCLE_SHAPE",on[on.BILLBOARD=32]="BILLBOARD",on[on.ANIMATION=33]="ANIMATION",on[on.FONT=34]="FONT",on[on.UI_FULLSCREEN_SHAPE=40]="UI_FULLSCREEN_SHAPE",on[on.UI_BUTTON_SHAPE=41]="UI_BUTTON_SHAPE",on[on.GLTF_SHAPE=54]="GLTF_SHAPE",on[on.OBJ_SHAPE=55]="OBJ_SHAPE",on[on.AVATAR_SHAPE=56]="AVATAR_SHAPE",on[on.BASIC_MATERIAL=64]="BASIC_MATERIAL",on[on.PBR_MATERIAL=65]="PBR_MATERIAL",on[on.HIGHLIGHT_ENTITY=66]="HIGHLIGHT_ENTITY",on[on.SOUND=67]="SOUND",on[on.TEXTURE=68]="TEXTURE",on[on.VIDEO_CLIP=70]="VIDEO_CLIP",on[on.VIDEO_TEXTURE=71]="VIDEO_TEXTURE",on[on.AVATAR_TEXTURE=72]="AVATAR_TEXTURE",on[on.AUDIO_CLIP=200]="AUDIO_CLIP",on[on.AUDIO_SOURCE=201]="AUDIO_SOURCE",on[on.AUDIO_STREAM=202]="AUDIO_STREAM",on[on.GIZMOS=203]="GIZMOS",on[on.SMART_ITEM=204]="SMART_ITEM",on[on.AVATAR_MODIFIER_AREA=205]="AVATAR_MODIFIER_AREA",on[on.AVATAR_ATTACH=206]="AVATAR_ATTACH",on[on.CAMERA_MODE_AREA=207]="CAMERA_MODE_AREA",on[on.NAME=300]="NAME",on[on.LOCKED_ON_EDIT=301]="LOCKED_ON_EDIT",on[on.VISIBLE_ON_EDIT=302]="VISIBLE_ON_EDIT",v.AvatarModifiers=void 0,(rn=v.AvatarModifiers||(v.AvatarModifiers={})).HIDE_AVATARS="HIDE_AVATARS",rn.DISABLE_PASSPORTS="DISABLE_PASSPORTS";var dn,ln=function(C){function n(v){var T=C.call(this)||this;return T.area=v.area,T.modifiers=v.modifiers,T.excludeIds=v.excludeIds,T}return i(n,C),r([Q.field,s("design:type",Object)],n.prototype,"area",void 0),r([Q.field,s("design:type",Array)],n.prototype,"modifiers",void 0),r([Q.field,s("design:type",Array)],n.prototype,"excludeIds",void 0),r([P("engine.avatarModifierArea",v.CLASS_ID.AVATAR_MODIFIER_AREA),s("design:paramtypes",[Object])],n)}(Q),pn=function(C){function n(v){void 0===v&&(v={});var T=C.call(this)||this;return T.position=v.position||Se.Vector3.Zero(),T.rotation=v.rotation||Se.Quaternion.Identity,T.scale=v.scale||new Se.Vector3(1,1,1),T}return i(n,C),Object.defineProperty(n.prototype,"eulerAngles",{get:function(){return this.rotation.eulerAngles},enumerable:!1,configurable:!0}),n.prototype.lookAt=function(v,C){void 0===C&&(C=Se.MathTmp.staticUp);var T=new Se.Matrix;return Se.Matrix.LookAtLHToRef(this.position,v,C,T),T.invert(),Se.Quaternion.FromRotationMatrixToRef(T,this.rotation),this},n.prototype.rotate=function(v,C){return this.rotation.multiplyInPlace(this.rotation.angleAxis(C,v)),this},n.prototype.translate=function(v){return this.position.addInPlace(v),this},r([Q.field,s("design:type",Se.Vector3)],n.prototype,"position",void 0),r([Q.field,s("design:type",Se.Quaternion)],n.prototype,"rotation",void 0),r([Q.field,s("design:type",Se.Vector3)],n.prototype,"scale",void 0),r([P("engine.transform",v.CLASS_ID.TRANSFORM),s("design:paramtypes",[Object])],n)}(Q);v.AttachToAvatarAnchorPointId=void 0,(dn=v.AttachToAvatarAnchorPointId||(v.AttachToAvatarAnchorPointId={}))[dn.Position=0]="Position",dn[dn.NameTag=1]="NameTag",dn[dn.LeftHand=2]="LeftHand",dn[dn.RightHand=3]="RightHand";var un,hn=function(C){function n(T){void 0===T&&(T={});var E=C.call(this)||this;return E.avatarId=T.avatarId||"",E.anchorPointId=T.anchorPointId||v.AttachToAvatarAnchorPointId.Position,E}return i(n,C),r([Q.field,s("design:type",String)],n.prototype,"avatarId",void 0),r([Q.field,s("design:type",Number)],n.prototype,"anchorPointId",void 0),r([Q.field,s("design:type",String)],n.prototype,"avatarSceneId",void 0),r([P("engine.transform",v.CLASS_ID.AVATAR_ATTACH),s("design:paramtypes",[Object])],n)}(Q),yn=function(C){function n(v,T,E){void 0===v&&(v=!0),void 0===T&&(T=!0),void 0===E&&(E=!0);var R=C.call(this)||this;return R.x=!0,R.y=!0,R.z=!0,R.x=v,R.y=T,R.z=E,R}return i(n,C),r([Q.field,s("design:type",Boolean)],n.prototype,"x",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"y",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"z",void 0),r([P("engine.billboard",v.CLASS_ID.BILLBOARD),s("design:paramtypes",[Boolean,Boolean,Boolean])],n)}(Q),fn=function(v){function e(){var C=null!==v&&v.apply(this,arguments)||this;return C.withCollisions=!0,C.isPointerBlocker=!0,C.visible=!0,C}return i(e,v),r([Q.field,s("design:type",Boolean)],e.prototype,"withCollisions",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"isPointerBlocker",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"visible",void 0),e}(Q),mn=function(C){function n(){return null!==C&&C.apply(this,arguments)||this}return i(n,C),r([Q.field,s("design:type",Array)],n.prototype,"uvs",void 0),r([N("engine.shape",v.CLASS_ID.BOX_SHAPE)],n)}(fn),gn=function(C){function n(){return null!==C&&C.apply(this,arguments)||this}return i(n,C),r([N("engine.shape",v.CLASS_ID.SPHERE_SHAPE)],n)}(fn),wn=function(C){function n(){return null!==C&&C.apply(this,arguments)||this}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"segments",void 0),r([Q.field,s("design:type",Number)],n.prototype,"arc",void 0),r([N("engine.shape",v.CLASS_ID.CIRCLE_SHAPE)],n)}(fn),vn=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.width=1,v.height=1,v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"width",void 0),r([Q.field,s("design:type",Number)],n.prototype,"height",void 0),r([Q.field,s("design:type",Array)],n.prototype,"uvs",void 0),r([N("engine.shape",v.CLASS_ID.PLANE_SHAPE)],n)}(fn),bn=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.radiusTop=0,v.radiusBottom=1,v.segmentsHeight=1,v.segmentsRadial=36,v.openEnded=!1,v.radius=null,v.arc=360,v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"radiusTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"radiusBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"segmentsHeight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"segmentsRadial",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"openEnded",void 0),r([Q.field,s("design:type",Object)],n.prototype,"radius",void 0),r([Q.field,s("design:type",Number)],n.prototype,"arc",void 0),r([N("engine.shape",v.CLASS_ID.CONE_SHAPE)],n)}(fn),Cn=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.radiusTop=1,v.radiusBottom=1,v.segmentsHeight=1,v.segmentsRadial=36,v.openEnded=!1,v.radius=null,v.arc=360,v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"radiusTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"radiusBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"segmentsHeight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"segmentsRadial",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"openEnded",void 0),r([Q.field,s("design:type",Object)],n.prototype,"radius",void 0),r([Q.field,s("design:type",Number)],n.prototype,"arc",void 0),r([N("engine.shape",v.CLASS_ID.CYLINDER_SHAPE)],n)}(fn),Tn=function(C){function n(v){var T=C.call(this)||this;return T.src=v,T}return i(n,C),r([fn.readonly,s("design:type",String)],n.prototype,"src",void 0),r([N("engine.shape",v.CLASS_ID.GLTF_SHAPE),s("design:paramtypes",[String])],n)}(fn);v.PictureFrameStyle=void 0,(un=v.PictureFrameStyle||(v.PictureFrameStyle={}))[un.Classic=0]="Classic",un[un.Baroque_Ornament=1]="Baroque_Ornament",un[un.Diamond_Ornament=2]="Diamond_Ornament",un[un.Minimal_Wide=3]="Minimal_Wide",un[un.Minimal_Grey=4]="Minimal_Grey",un[un.Blocky=5]="Blocky",un[un.Gold_Edges=6]="Gold_Edges",un[un.Gold_Carved=7]="Gold_Carved",un[un.Gold_Wide=8]="Gold_Wide",un[un.Gold_Rounded=9]="Gold_Rounded",un[un.Metal_Medium=10]="Metal_Medium",un[un.Metal_Wide=11]="Metal_Wide",un[un.Metal_Slim=12]="Metal_Slim",un[un.Metal_Rounded=13]="Metal_Rounded",un[un.Pins=14]="Pins",un[un.Minimal_Black=15]="Minimal_Black",un[un.Minimal_White=16]="Minimal_White",un[un.Tape=17]="Tape",un[un.Wood_Slim=18]="Wood_Slim",un[un.Wood_Wide=19]="Wood_Wide",un[un.Wood_Twigs=20]="Wood_Twigs",un[un.Canvas=21]="Canvas",un[un.None=22]="None";var _n,xn=function(C){function n(T,E){void 0===E&&(E={});var R=C.call(this)||this;R.src=T;var A=new Se.Color3(.6404918,.611472,.8584906),S=v.PictureFrameStyle.Classic;return"r"in E?A=E:null!==E&&(E.color&&(A=E.color),E.style&&(S=E.style)),R.color=A,R.style=S,R}return i(n,C),r([fn.readonly,s("design:type",String)],n.prototype,"src",void 0),r([fn.readonly,s("design:type",Number)],n.prototype,"style",void 0),r([Q.field,s("design:type",Se.Color3)],n.prototype,"color",void 0),r([N("engine.shape",v.CLASS_ID.NFT_SHAPE),s("design:paramtypes",[String,Object])],n)}(fn),En=function(C){function n(v,T){var E=C.call(this)||this,R=new RegExp("data:[a-z-]+/[a-z-]+;base64");if((v.length>2048||R.test(v))&&c(" Base64 textures will be deprecated in version 7 of decentraland-ecs"),E.src=v,T)for(var A in T)E[A]=T[A];return E}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"src",void 0),r([Q.readonly,s("design:type",Number)],n.prototype,"samplingMode",void 0),r([Q.readonly,s("design:type",Number)],n.prototype,"wrap",void 0),r([Q.readonly,s("design:type",Boolean)],n.prototype,"hasAlpha",void 0),r([N("engine.texture",v.CLASS_ID.TEXTURE),s("design:paramtypes",[String,Object])],n)}(Q),Rn=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.states=[],v}return i(n,C),n.prototype.addClip=function(v){var C=this;return this.states.push(v),v.onChange((function(){C.dirty=!0})),v.owner=this,this},n.prototype.getClip=function(v){for(var C=0;C<this.states.length;C++){var T=this.states[C];if(T.clip===v)return T}var E=new nn(v);return this.addClip(E),E},n.prototype.stop=function(v){if(v)v.playing=!1,v.shouldReset=!0;else for(var C=0;C<this.states.length;C++){var T=this.states[C];this.stop(T)}},n.prototype.play=function(v,C){void 0===C&&(C=!1);for(var T=0;T<this.states.length;T++){var E=this.states[T];E.layer===v.layer&&v!==E&&this.pause(E)}C&&(v.shouldReset=!0),v.playing=!0,v.dirty=!0,v.data.nonce=Math.random()},n.prototype.pause=function(v){if(v)v.playing=!1;else for(var C=0;C<this.states.length;C++){var T=this.states[C];this.pause(T)}},r([Q.readonly,s("design:type",Array)],n.prototype,"states",void 0),r([P("engine.animator",v.CLASS_ID.ANIMATION)],n)}(fn),An=function(C){function n(v){var T=C.call(this)||this;return T.src=v,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"src",void 0),r([N("engine.shape",v.CLASS_ID.OBJ_SHAPE),s("design:paramtypes",[String])],n)}(fn),Sn=function(C){function n(v){void 0===v&&(v="");var T=C.call(this)||this;return T.src=v,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"src",void 0),r([N("engine.font",v.CLASS_ID.FONT),s("design:paramtypes",[String])],n)}(Q);v.Fonts=void 0,(_n=v.Fonts||(v.Fonts={})).SanFrancisco="builtin:SF-UI-Text-Regular SDF",_n.SanFrancisco_Heavy="builtin:SF-UI-Text-Heavy SDF",_n.SanFrancisco_Semibold="builtin:SF-UI-Text-Semibold SDF",_n.LiberationSans="builtin:LiberationSans SDF",_n.SansSerif="SansSerif",_n.SansSerif_Heavy="SansSerif_Heavy",_n.SansSerif_Bold="SansSerif_Bold",_n.SansSerif_SemiBold="SansSerif_SemiBold";var On,Pn=function(C){function n(v){var T=C.call(this)||this;return T.outlineWidth=0,T.outlineColor=new Se.Color3(1,1,1),T.color=new Se.Color3(1,1,1),T.fontSize=10,T.opacity=1,T.value="",T.lineSpacing="0px",T.lineCount=0,T.textWrapping=!1,T.shadowBlur=0,T.shadowOffsetX=0,T.shadowOffsetY=0,T.shadowColor=new Se.Color3(1,1,1),T.hTextAlign="center",T.vTextAlign="center",T.width=1,T.height=1,T.paddingTop=0,T.paddingRight=0,T.paddingBottom=0,T.paddingLeft=0,T.billboard=!1,T.visible=!0,v&&(T.value=v),T}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"outlineWidth",void 0),r([Q.field,s("design:type",Se.Color3)],n.prototype,"outlineColor",void 0),r([Q.field,s("design:type",Se.Color3)],n.prototype,"color",void 0),r([Q.field,s("design:type",Number)],n.prototype,"fontSize",void 0),r([Q.component,s("design:type",Sn)],n.prototype,"font",void 0),r([Q.field,s("design:type",Number)],n.prototype,"opacity",void 0),r([Q.field,s("design:type",String)],n.prototype,"value",void 0),r([Q.field,s("design:type",String)],n.prototype,"lineSpacing",void 0),r([Q.field,s("design:type",Number)],n.prototype,"lineCount",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"textWrapping",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowBlur",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetX",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetY",void 0),r([Q.field,s("design:type",Se.Color3)],n.prototype,"shadowColor",void 0),r([Q.field,s("design:type",String)],n.prototype,"hTextAlign",void 0),r([Q.field,s("design:type",String)],n.prototype,"vTextAlign",void 0),r([Q.field,s("design:type",Number)],n.prototype,"width",void 0),r([Q.field,s("design:type",Number)],n.prototype,"height",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingRight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingLeft",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"billboard",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"visible",void 0),r([P("engine.text",v.CLASS_ID.TEXT_SHAPE),s("design:paramtypes",[String])],n)}(Q);v.TransparencyMode=void 0,(On=v.TransparencyMode||(v.TransparencyMode={}))[On.OPAQUE=0]="OPAQUE",On[On.ALPHA_TEST=1]="ALPHA_TEST",On[On.ALPHA_BLEND=2]="ALPHA_BLEND",On[On.ALPHA_TEST_AND_BLEND=3]="ALPHA_TEST_AND_BLEND",On[On.AUTO=4]="AUTO";var In,Mn=function(C){function n(){var T=null!==C&&C.apply(this,arguments)||this;return T.alphaTest=.5,T.castShadows=!0,T.transparencyMode=v.TransparencyMode.AUTO,T}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"alphaTest",void 0),r([Q.field,s("design:type",Object)],n.prototype,"albedoColor",void 0),r([Q.field,s("design:type",Se.Color3)],n.prototype,"emissiveColor",void 0),r([Q.field,s("design:type",Number)],n.prototype,"metallic",void 0),r([Q.field,s("design:type",Number)],n.prototype,"roughness",void 0),r([Q.field,s("design:type",Se.Color3)],n.prototype,"reflectivityColor",void 0),r([Q.field,s("design:type",Number)],n.prototype,"directIntensity",void 0),r([Q.field,s("design:type",Number)],n.prototype,"microSurface",void 0),r([Q.field,s("design:type",Number)],n.prototype,"emissiveIntensity",void 0),r([Q.field,s("design:type",Number)],n.prototype,"specularIntensity",void 0),r([Q.component,s("design:type",Object)],n.prototype,"albedoTexture",void 0),r([Q.component,s("design:type",Object)],n.prototype,"alphaTexture",void 0),r([Q.component,s("design:type",Object)],n.prototype,"emissiveTexture",void 0),r([Q.component,s("design:type",Object)],n.prototype,"bumpTexture",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"castShadows",void 0),r([Q.field,s("design:type",Number)],n.prototype,"transparencyMode",void 0),r([N("engine.material",v.CLASS_ID.PBR_MATERIAL)],n)}(Q),Vn=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.alphaTest=.5,v.castShadows=!0,v}return i(n,C),r([Q.component,s("design:type",Object)],n.prototype,"texture",void 0),r([Q.field,s("design:type",Number)],n.prototype,"alphaTest",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"castShadows",void 0),r([N("engine.material",v.CLASS_ID.BASIC_MATERIAL)],n)}(Q),Fn=function(v){function e(C){var T=v.call(this)||this;if(T.uuid=f("UUID"),!C||!("apply"in C)||!("call"in C))throw new Error("Callback is not a function");return T.callback=C,T}return i(e,v),e.uuidEvent=function(v,C){if(delete v[C]){var T=C+"_"+Math.random();v[T]=void 0,Object.defineProperty(v,T,o(o({},Object.getOwnPropertyDescriptor(v,T)),{enumerable:!1})),Object.defineProperty(v,C.toString(),{get:function(){return this[T]},set:function(v){var E=this[T];if(v){if(!(v instanceof e))throw new Error("value is not an OnUUIDEvent");this.data[C]=v.uuid}else this.data[C]=null;if(this[T]=v,v!==E){this.dirty=!0;for(var R=0;R<this.subscriptions.length;R++)this.subscriptions[R](C,v,E)}},enumerable:!0})}},e.prototype.toJSON=function(){return{uuid:this.uuid,type:this.type}},r([Q.field,s("design:type",Function)],e.prototype,"callback",void 0),e}(Q),zn=function(C){function n(){var T=null!==C&&C.apply(this,arguments)||this;return T.button=v.ActionButton.ANY,T.hoverText="Interact",T.distance=10,T.showFeedback=!0,T}return i(n,C),n.prototype.toJSON=function(){return{uuid:this.uuid,type:this.type,button:this.button,hoverText:this.hoverText,distance:this.distance,showFeedback:this.showFeedback}},r([Q.field,s("design:type",String)],n.prototype,"button",void 0),r([Q.field,s("design:type",String)],n.prototype,"hoverText",void 0),r([Q.field,s("design:type",Number)],n.prototype,"distance",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"showFeedback",void 0),n}(Fn),Ln=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.type="onPointerLock",v}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onPointerLock",v.CLASS_ID.UUID_CALLBACK)],n)}(Fn),Nn=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.type="onAnimationEnd",v}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onAnimationEnd",v.CLASS_ID.UUID_CALLBACK)],n)}(Fn),Dn=function(C){function n(){return null!==C&&C.apply(this,arguments)||this}return i(n,C),r([P("engine.smartItem",v.CLASS_ID.SMART_ITEM)],n)}(Q),Bn=function(C){function n(v){var T=C.call(this)||this;return T.url=v,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"url",void 0),r([N("engine.VideoClip",v.CLASS_ID.VIDEO_CLIP),s("design:paramtypes",[String])],n)}(Q);v.VideoStatus=void 0,(In=v.VideoStatus||(v.VideoStatus={}))[In.NONE=0]="NONE",In[In.ERROR=1]="ERROR",In[In.LOADING=2]="LOADING",In[In.READY=3]="READY",In[In.PLAYING=4]="PLAYING",In[In.BUFFERING=5]="BUFFERING";var kn,Un=function(C){function n(T,E){var R=C.call(this)||this;if(R.volume=1,R.playbackRate=1,R.loop=!1,R.seek=-1,R._position=-1,R._videoLength=-1,R._status=v.VideoStatus.NONE,R.playing=!1,!(T instanceof Bn))throw new Error("Trying to create VideoTexture(VideoClip) with an invalid VideoClip");if(R.videoClipId=D(T),E)for(var A in E)R[A]=E[A];return R}return i(n,C),n.prototype.play=function(){this.playing=!0},n.prototype.pause=function(){this.playing=!1},n.prototype.reset=function(){this.seekTime(0),this.pause()},n.prototype.seekTime=function(v){this.seek=v,this.dirty=!0,this.data.nonce=Math.random()},n.prototype.toJSON=function(){if(this.seek>=0){var v=JSON.parse(JSON.stringify(C.prototype.toJSON.call(this)));return this.seek=-1,v}return C.prototype.toJSON.call(this)},n.prototype.update=function(C){C.videoClipId===this.videoClipId&&(this._status=C.videoStatus||v.VideoStatus.NONE,this._videoLength=C.totalVideoLength,this._position=C.currentOffset)},Object.defineProperty(n.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"videoLength",{get:function(){return this._videoLength},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r([Q.readonly,s("design:type",String)],n.prototype,"videoClipId",void 0),r([Q.readonly,s("design:type",Number)],n.prototype,"samplingMode",void 0),r([Q.readonly,s("design:type",Number)],n.prototype,"wrap",void 0),r([Q.field,s("design:type",Number)],n.prototype,"volume",void 0),r([Q.field,s("design:type",Number)],n.prototype,"playbackRate",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"loop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"seek",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"playing",void 0),r([N("engine.VideoTexture",v.CLASS_ID.VIDEO_TEXTURE),s("design:paramtypes",[Bn,Object])],n)}(Q),jn=function(C){function n(v){var T=C.call(this)||this;return T.area=v.area,T.cameraMode=v.cameraMode,T}return i(n,C),r([Q.field,s("design:type",Object)],n.prototype,"area",void 0),r([Q.field,s("design:type",Number)],n.prototype,"cameraMode",void 0),r([P("engine.cameraModeArea",v.CLASS_ID.CAMERA_MODE_AREA),s("design:paramtypes",[Object])],n)}(Q),Hn=function(C){function n(v,T){var E=C.call(this)||this;if(E.userId=v,T)for(var R in T)E[R]=T[R];return E}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"userId",void 0),r([Q.readonly,s("design:type",Number)],n.prototype,"samplingMode",void 0),r([Q.readonly,s("design:type",Number)],n.prototype,"wrap",void 0),r([Q.readonly,s("design:type",Boolean)],n.prototype,"hasAlpha",void 0),r([N("engine.texture",v.CLASS_ID.AVATAR_TEXTURE),s("design:paramtypes",[String,Object])],n)}(Q),Gn=function(){function e(){var C=this;this.position=new Se.Vector3,this.rotation=new Se.Quaternion,this.feetPosition=new Se.Vector3,this.worldPosition=new Se.Vector3,this.lastEventPosition={x:0,y:0,z:0},this.lastEventWorldPosition={x:0,y:0,z:0},this.lastEventRotation={x:0,y:0,z:0,w:1},this._playerHeight=1.6,this._cameraMode=v.CameraMode.ThirdPerson,"undefined"!=typeof dcl&&(dcl.subscribe("positionChanged"),dcl.subscribe("rotationChanged"),dcl.subscribe("cameraModeChanged"),dcl.onEvent((function(v){switch(v.type){case"positionChanged":C.positionChanged(v.data);break;case"rotationChanged":C.rotationChanged(v.data);break;case"cameraModeChanged":C.cameraModeChanged(v.data)}}))),Object.defineProperty(this.position,"x",{get:function(){return C.lastEventPosition.x}}),Object.defineProperty(this.position,"y",{get:function(){return C.lastEventPosition.y}}),Object.defineProperty(this.position,"z",{get:function(){return C.lastEventPosition.z}}),Object.defineProperty(this.worldPosition,"x",{get:function(){return C.lastEventWorldPosition.x}}),Object.defineProperty(this.worldPosition,"y",{get:function(){return C.lastEventWorldPosition.y}}),Object.defineProperty(this.worldPosition,"z",{get:function(){return C.lastEventWorldPosition.z}}),Object.defineProperty(this.feetPosition,"x",{get:function(){return C.lastEventPosition.x}}),Object.defineProperty(this.feetPosition,"y",{get:function(){return C.lastEventPosition.y-C.playerHeight}}),Object.defineProperty(this.feetPosition,"z",{get:function(){return C.lastEventPosition.z}}),Object.defineProperty(this.rotation,"x",{get:function(){return C.lastEventRotation.x}}),Object.defineProperty(this.rotation,"y",{get:function(){return C.lastEventRotation.y}}),Object.defineProperty(this.rotation,"z",{get:function(){return C.lastEventRotation.z}}),Object.defineProperty(this.rotation,"w",{get:function(){return C.lastEventRotation.w}})}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerHeight",{get:function(){return this._playerHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cameraMode",{get:function(){return this._cameraMode},enumerable:!1,configurable:!0}),e.prototype.positionChanged=function(v){this.lastEventPosition=v.position,this.lastEventWorldPosition=v.cameraPosition,this._playerHeight=v.playerHeight},e.prototype.rotationChanged=function(v){this.lastEventRotation=v.quaternion},e.prototype.cameraModeChanged=function(v){this._cameraMode=v.cameraMode},e}();!function(v){v.HitFirst="rqhf",v.HitAll="rqha"}(kn||(kn={}));var Qn,qn=function(){function t(){this.queries={}}return Object.defineProperty(t,"instance",{get:function(){return t.ensureInstance(),t._instance},enumerable:!1,configurable:!0}),t.ensureInstance=function(){t._instance||(t._instance=new t)},t.prototype.getRayFromCamera=function(v){var C=Gn.instance.rotation,T=Se.Matrix.Identity();C.toRotationMatrix(T);var E=Se.Vector3.TransformCoordinates(Se.Vector3.Forward(),T);return{origin:Gn.instance.position,direction:E,distance:v}},t.prototype.getRayFromPositions=function(v,C){var T=C.subtract(v),E=T.length();return{origin:v,direction:T.normalize(),distance:E}},t.prototype.hitFirst=function(v,C,T){var E="number"==typeof T?kn.HitFirst+T:m();this.queries[E]=C,"undefined"!=typeof dcl&&dcl.query("raycast",{queryId:E,queryType:"HitFirst",ray:v})},t.prototype.hitAll=function(v,C,T){var E="number"==typeof T?kn.HitAll+T:m();this.queries[E]=C,"undefined"!=typeof dcl&&dcl.query("raycast",{queryId:E,queryType:"HitAll",ray:v})},t.prototype.hitFirstAvatar=function(v,C){c("not implemented yet")},t.prototype.hitAllAvatars=function(v,C){c("not implemented yet")},t.prototype.handleRaycastHitFirstResponse=function(v){this.queries[v.payload.queryId](v.payload.payload),delete this.queries[v.payload.queryId]},t.prototype.handleRaycastHitAllResponse=function(v){this.queries[v.payload.queryId](v.payload.payload),delete this.queries[v.payload.queryId]},t}(),Wn=function(){function t(){}return t.prototype.activate=function(v){v.eventManager.addListener(ie,this,(function(v){"HitFirst"===v.payload.queryType?qn.instance.handleRaycastHitFirstResponse(v):"HitAll"===v.payload.queryType&&qn.instance.handleRaycastHitAllResponse(v)})),"undefined"!=typeof dcl&&dcl.subscribe("raycastResponse")},t.prototype.deactivate=function(){"undefined"!=typeof dcl&&dcl.unsubscribe("raycastResponse")},t}(),Xn=function(){function t(){}return t.prototype.activate=function(v){v.eventManager.addListener(ae,this,(function(v){cn.instance.handlePointerEvent(v.payload)})),"undefined"!=typeof dcl&&(dcl.subscribe("pointerUp"),dcl.subscribe("pointerDown"),dcl.subscribe("actionButtonEvent"))},t.prototype.deactivate=function(){"undefined"!=typeof dcl&&(dcl.unsubscribe("pointerUp"),dcl.unsubscribe("pointerDown"),dcl.unsubscribe("actionButtonEvent"))},t}(),Yn=function(){function t(){this.handlerMap={}}return t.prototype.activate=function(v){v.eventManager.addListener(oe,this,this.handleEvent),v.eventManager.addListener(O,this,this.componentAdded),v.eventManager.addListener(S,this,this.componentRemoved),"undefined"!=typeof dcl&&dcl.subscribe("uuidEvent")},t.prototype.deactivate=function(){"undefined"!=typeof dcl&&dcl.unsubscribe("uuidEvent")},t.prototype.onAddEntity=function(v){for(var C in v.components){var T=v.components[C];T instanceof Fn&&(this.handlerMap[T.uuid]=T)}},t.prototype.onRemoveEntity=function(v){for(var C in v.components){var T=v.components[C];T instanceof Fn&&delete this.handlerMap[T.uuid]}},t.prototype.componentAdded=function(v){if(v.entity.isAddedToEngine()){var C=v.entity.components[v.componentName];C instanceof Fn&&(this.handlerMap[C.uuid]=C)}},t.prototype.componentRemoved=function(v){v.entity.isAddedToEngine()&&v.component instanceof Fn&&delete this.handlerMap[v.component.uuid]},t.prototype.handleEvent=function(v){if(v.uuid in this.handlerMap){var C=this.handlerMap[v.uuid];C&&C.callback&&"call"in C.callback&&C.callback(v.payload)}},t}(),Kn=new Wn,Zn=new Xn,Jn=new Yn,$n=function(C){function n(v){var T=C.call(this)||this;return T.loop=!1,T.volume=1,T.url=v,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"url",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"loop",void 0),r([Q.field,s("design:type",String)],n.prototype,"loadingCompleteEventId",void 0),r([Q.field,s("design:type",Number)],n.prototype,"volume",void 0),r([N("engine.AudioClip",v.CLASS_ID.AUDIO_CLIP),s("design:paramtypes",[String])],n)}(Q),eo=function(C){function n(v){var T=C.call(this)||this;if(T.audioClip=v,T.loop=!1,T.volume=1,T.playing=!1,T.pitch=1,T.playedAtTimestamp=Date.now(),!(v instanceof $n))throw new Error("Trying to create AudioSource(AudioClip) with an invalid AudioClip");return T.audioClipId=D(v),T}return i(n,C),n.prototype.playOnce=function(){return this.playing=!0,this.dirty=!0,this.playedAtTimestamp=Date.now(),this.data.nonce=Math.random(),this},r([Q.readonly,s("design:type",String)],n.prototype,"audioClipId",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"loop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"volume",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"playing",void 0),r([Q.field,s("design:type",Number)],n.prototype,"pitch",void 0),r([Q.field,s("design:type",Number)],n.prototype,"playedAtTimestamp",void 0),r([P("engine.AudioSource",v.CLASS_ID.AUDIO_SOURCE),s("design:paramtypes",[$n])],n)}(Q),to=function(C){function n(v){var T=C.call(this)||this;return T.playing=!1,T.volume=1,T.url=v,T.playing=!0,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"url",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"playing",void 0),r([Q.field,s("design:type",Number)],n.prototype,"volume",void 0),r([P("engine.AudioStream",v.CLASS_ID.AUDIO_STREAM),s("design:paramtypes",[String])],n)}(Q);v.Gizmo=void 0,(Qn=v.Gizmo||(v.Gizmo={})).MOVE="MOVE",Qn.ROTATE="ROTATE",Qn.SCALE="SCALE",Qn.NONE="NONE";var no,oo=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.type="gizmoEvent",v}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.gizmoEvent",v.CLASS_ID.UUID_CALLBACK)],n)}(Fn),ro=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.position=!0,v.rotation=!0,v.scale=!0,v.cycle=!0,v.localReference=!1,v}return i(n,C),r([Q.field,s("design:type",Boolean)],n.prototype,"position",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"rotation",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"scale",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"cycle",void 0),r([Q.field,s("design:type",String)],n.prototype,"selectedGizmo",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"localReference",void 0),r([P("engine.gizmos",v.CLASS_ID.GIZMOS)],n)}(Q),io=function(C){function n(v){var T=C.call(this,v)||this;return T.type="onFocus",Jn.handlerMap[T.uuid]=T,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onFocus",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function])],n)}(Fn),ao=function(C){function n(v){var T=C.call(this,v)||this;return T.type="onTextSubmit",Jn.handlerMap[T.uuid]=T,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onTextSubmit",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function])],n)}(Fn),so=function(C){function n(v){var T=C.call(this,v)||this;return T.type="onBlur",Jn.handlerMap[T.uuid]=T,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onBlur",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function])],n)}(Fn),co=function(C){function n(v){var T=C.call(this,v)||this;return T.type="onEnter",Jn.handlerMap[T.uuid]=T,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onEnter",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function])],n)}(Fn),lo=function(C){function n(v){var T=C.call(this,v)||this;return T.type="onChange",Jn.handlerMap[T.uuid]=T,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onChange",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function])],n)}(Fn),po=function(C){function n(v,T){var E=C.call(this,v)||this;return E.type="onClick",Jn.handlerMap[E.uuid]=E,T&&(E.showFeedback=!(!1===T.showFeedback),T.button&&(E.button=T.button),T.hoverText&&(E.hoverText=T.hoverText),T.distance&&(E.distance=T.distance)),E}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.onClick",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function,Object])],n)}(zn),uo=function(C){function n(v,T){var E=C.call(this,v)||this;return E.type="pointerDown",Jn.handlerMap[E.uuid]=E,T&&(E.showFeedback=!(!1===T.showFeedback),T.button&&(E.button=T.button),T.hoverText&&(E.hoverText=T.hoverText),T.distance&&(E.distance=T.distance)),E}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.pointerDown",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function,Object])],n)}(zn),ho=function(C){function n(v,T){var E=C.call(this,v)||this;return E.type="pointerUp",Jn.handlerMap[E.uuid]=E,T&&(E.showFeedback=!(!1===T.showFeedback),T.button&&(E.button=T.button),T.hoverText&&(E.hoverText=T.hoverText),T.distance&&(E.distance=T.distance)),E}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.pointerUp",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function,Object])],n)}(zn),yo=function(C){function n(v,T){var E=C.call(this,v)||this;return E.type="pointerHoverEnter",Jn.handlerMap[E.uuid]=E,T&&T.distance&&(E.distance=T.distance),E}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.pointerHoverEnter",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function,Object])],n)}(zn),fo=function(C){function n(v){var T=C.call(this,v)||this;return T.type="pointerHoverExit",Jn.handlerMap[T.uuid]=T,T.distance=160,T}return i(n,C),r([Q.readonly,s("design:type",String)],n.prototype,"type",void 0),r([P("engine.pointerHoverExit",v.CLASS_ID.UUID_CALLBACK),s("design:paramtypes",[Function])],n)}(zn),mo=function(v){function e(C){var T=v.call(this)||this;return T.name=null,T.visible=!0,T.opacity=1,T.hAlign="center",T.vAlign="center",T.width="100px",T.height="50px",T.positionX="0px",T.positionY="0px",T.isPointerBlocker=!0,C&&(T._parent=C,T.data.parentComponent=D(C)),T}return i(e,v),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentComponent",{get:function(){return this.data.parentComponent},enumerable:!1,configurable:!0}),r([Q.field,s("design:type",Object)],e.prototype,"name",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"visible",void 0),r([Q.field,s("design:type",Number)],e.prototype,"opacity",void 0),r([Q.field,s("design:type",String)],e.prototype,"hAlign",void 0),r([Q.field,s("design:type",String)],e.prototype,"vAlign",void 0),r([Q.uiValue,s("design:type",Object)],e.prototype,"width",void 0),r([Q.uiValue,s("design:type",Object)],e.prototype,"height",void 0),r([Q.uiValue,s("design:type",Object)],e.prototype,"positionX",void 0),r([Q.uiValue,s("design:type",Object)],e.prototype,"positionY",void 0),r([Q.field,s("design:type",Boolean)],e.prototype,"isPointerBlocker",void 0),e}(Q),go=function(C){function n(){return C.call(this,null)||this}return i(n,C),r([N("engine.shape",v.CLASS_ID.UI_FULLSCREEN_SHAPE),s("design:paramtypes",[])],n)}(mo),wo=function(C){function n(){return C.call(this,null)||this}return i(n,C),r([N("engine.shape",v.CLASS_ID.UI_WORLD_SPACE_SHAPE),s("design:paramtypes",[])],n)}(mo),vo=function(C){function n(){return C.call(this,null)||this}return i(n,C),r([N("engine.shape",v.CLASS_ID.UI_SCREEN_SPACE_SHAPE),s("design:paramtypes",[])],n)}(mo),bo=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.thickness=0,v.color=Se.Color4.Clear(),v.alignmentUsesSize=!0,v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"thickness",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"color",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"alignmentUsesSize",void 0),r([N("engine.shape",v.CLASS_ID.UI_CONTAINER_RECT)],n)}(mo);v.UIStackOrientation=void 0,(no=v.UIStackOrientation||(v.UIStackOrientation={}))[no.VERTICAL=0]="VERTICAL",no[no.HORIZONTAL=1]="HORIZONTAL";var Co=function(C){function n(){var T=null!==C&&C.apply(this,arguments)||this;return T.adaptWidth=!0,T.adaptHeight=!0,T.color=Se.Color4.Clear(),T.stackOrientation=v.UIStackOrientation.VERTICAL,T.spacing=0,T}return i(n,C),r([Q.field,s("design:type",Boolean)],n.prototype,"adaptWidth",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"adaptHeight",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"color",void 0),r([Q.field,s("design:type",Number)],n.prototype,"stackOrientation",void 0),r([Q.field,s("design:type",Number)],n.prototype,"spacing",void 0),r([N("engine.shape",v.CLASS_ID.UI_CONTAINER_STACK)],n)}(mo),To=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.fontSize=10,v.fontWeight="normal",v.thickness=0,v.cornerRadius=0,v.color=Se.Color4.White(),v.background=Se.Color4.White(),v.paddingTop=0,v.paddingRight=0,v.paddingBottom=0,v.paddingLeft=0,v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0,v.shadowColor=Se.Color4.Black(),v.text="button",v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"fontSize",void 0),r([Q.field,s("design:type",String)],n.prototype,"fontWeight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"thickness",void 0),r([Q.field,s("design:type",Number)],n.prototype,"cornerRadius",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"color",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"background",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingRight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingLeft",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowBlur",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetX",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetY",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"shadowColor",void 0),r([Q.field,s("design:type",String)],n.prototype,"text",void 0),r([N("engine.shape",v.CLASS_ID.UI_BUTTON_SHAPE)],n)}(mo),_o=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.outlineWidth=0,v.outlineColor=Se.Color4.White(),v.color=Se.Color4.White(),v.fontSize=10,v.fontAutoSize=!1,v.value="",v.lineSpacing=0,v.lineCount=0,v.adaptWidth=!1,v.adaptHeight=!1,v.textWrapping=!1,v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0,v.shadowColor=Se.Color4.Black(),v.hTextAlign="left",v.vTextAlign="bottom",v.paddingTop=0,v.paddingRight=0,v.paddingBottom=0,v.paddingLeft=0,v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"outlineWidth",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"outlineColor",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"color",void 0),r([Q.field,s("design:type",Number)],n.prototype,"fontSize",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"fontAutoSize",void 0),r([Q.component,s("design:type",Sn)],n.prototype,"font",void 0),r([Q.field,s("design:type",String)],n.prototype,"value",void 0),r([Q.field,s("design:type",Number)],n.prototype,"lineSpacing",void 0),r([Q.field,s("design:type",Number)],n.prototype,"lineCount",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"adaptWidth",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"adaptHeight",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"textWrapping",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowBlur",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetX",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetY",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"shadowColor",void 0),r([Q.field,s("design:type",String)],n.prototype,"hTextAlign",void 0),r([Q.field,s("design:type",String)],n.prototype,"vTextAlign",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingRight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingLeft",void 0),r([N("engine.shape",v.CLASS_ID.UI_TEXT_SHAPE)],n)}(mo),xo=function(C){function n(v){var T=C.call(this,v)||this;return T.outlineWidth=0,T.outlineColor=Se.Color4.Black(),T.color=Se.Color4.Clear(),T.fontSize=10,T.value="",T.placeholder="",T.margin=10,T.hTextAlign="left",T.vTextAlign="bottom",T.focusedBackground=Se.Color4.Black(),T.textWrapping=!1,T.shadowBlur=0,T.shadowOffsetX=0,T.shadowOffsetY=0,T.shadowColor=Se.Color4.White(),T.paddingTop=0,T.paddingRight=0,T.paddingBottom=0,T.paddingLeft=0,T.onTextSubmit=null,T.onChanged=null,T.onFocus=null,T.onBlur=null,T.onTextChanged=new lo((function(v){var C=v.value,E=C.value,R=C.isSubmit,A=T.dirty;if(T.value=E,T.dirty=A,R&&T.onTextSubmit){var S={text:E};T.onTextSubmit.callback(S)}else if(!R&&T.onChanged){var O={value:E,pointerId:v.pointerId};T.onChanged.callback(O)}})),T}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"outlineWidth",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"outlineColor",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"color",void 0),r([Q.field,s("design:type",Number)],n.prototype,"fontSize",void 0),r([Q.component,s("design:type",Sn)],n.prototype,"font",void 0),r([Q.field,s("design:type",String)],n.prototype,"value",void 0),r([Q.field,s("design:type",String)],n.prototype,"placeholder",void 0),r([Q.field,s("design:type",Number)],n.prototype,"margin",void 0),r([Q.field,s("design:type",String)],n.prototype,"hTextAlign",void 0),r([Q.field,s("design:type",String)],n.prototype,"vTextAlign",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"focusedBackground",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"textWrapping",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowBlur",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetX",void 0),r([Q.field,s("design:type",Number)],n.prototype,"shadowOffsetY",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"shadowColor",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingRight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingLeft",void 0),r([Fn.uuidEvent,s("design:type",lo)],n.prototype,"onTextChanged",void 0),r([Fn.uuidEvent,s("design:type",Object)],n.prototype,"onFocus",void 0),r([Fn.uuidEvent,s("design:type",Object)],n.prototype,"onBlur",void 0),r([N("engine.shape",v.CLASS_ID.UI_INPUT_TEXT_SHAPE),s("design:paramtypes",[Object])],n)}(mo),Eo=function(C){function n(v,T){var E=C.call(this,v)||this;return E.sourceLeft=0,E.sourceTop=0,E.sourceWidth=1,E.sourceHeight=1,E.paddingTop=0,E.paddingRight=0,E.paddingBottom=0,E.paddingLeft=0,E.sizeInPixels=!0,E.onClick=null,E.source=T,E}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"sourceLeft",void 0),r([Q.field,s("design:type",Number)],n.prototype,"sourceTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"sourceWidth",void 0),r([Q.field,s("design:type",Number)],n.prototype,"sourceHeight",void 0),r([Q.component,s("design:type",Object)],n.prototype,"source",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingRight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingLeft",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"sizeInPixels",void 0),r([Fn.uuidEvent,s("design:type",Object)],n.prototype,"onClick",void 0),r([N("engine.shape",v.CLASS_ID.UI_IMAGE_SHAPE),s("design:paramtypes",[mo,Object])],n)}(mo),Ro=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.valueX=0,v.valueY=0,v.backgroundColor=Se.Color4.Clear(),v.isHorizontal=!1,v.isVertical=!1,v.paddingTop=0,v.paddingRight=0,v.paddingBottom=0,v.paddingLeft=0,v.onChanged=null,v}return i(n,C),r([Q.field,s("design:type",Number)],n.prototype,"valueX",void 0),r([Q.field,s("design:type",Number)],n.prototype,"valueY",void 0),r([Q.field,s("design:type",Se.Color4)],n.prototype,"backgroundColor",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"isHorizontal",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"isVertical",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingTop",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingRight",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingBottom",void 0),r([Q.field,s("design:type",Number)],n.prototype,"paddingLeft",void 0),r([Fn.uuidEvent,s("design:type",Object)],n.prototype,"onChanged",void 0),r([N("engine.shape",v.CLASS_ID.UI_SLIDER_SHAPE)],n)}(mo),Ao=function(C){function n(){var v=null!==C&&C.apply(this,arguments)||this;return v.useDummyModel=!1,v.talking=!1,v}var T;return i(n,C),T=n,n.Dummy=function(){var v=new T;return v.useDummyModel=!0,v},r([Q.field,s("design:type",String)],n.prototype,"id",void 0),r([Q.field,s("design:type",String)],n.prototype,"name",void 0),r([Q.field,s("design:type",String)],n.prototype,"expressionTriggerId",void 0),r([Q.field,s("design:type",Number)],n.prototype,"expressionTriggerTimestamp",void 0),r([Q.field,s("design:type",String)],n.prototype,"bodyShape",void 0),r([Q.field,s("design:type",Array)],n.prototype,"wearables",void 0),r([Q.field,s("design:type",Object)],n.prototype,"skinColor",void 0),r([Q.field,s("design:type",Object)],n.prototype,"hairColor",void 0),r([Q.field,s("design:type",Object)],n.prototype,"eyeColor",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"useDummyModel",void 0),r([Q.field,s("design:type",Boolean)],n.prototype,"talking",void 0),T=r([P("engine.avatarShape",v.CLASS_ID.AVATAR_SHAPE)],n)}(Q),So=null,Oo=null,Po=null;function Ri(){return Po||(Po=new ne),Po}var Io=function(){function t(){var v=this;this.messageQueue=[],this.connected=!1,this.flushing=!1,function(){if(!Oo){(Oo=dcl.loadModule("@decentraland/CommunicationsController",{})).then((function(v){So=v}));var v=Ri();dcl.subscribe("comms"),dcl.onEvent((function(C){"comms"===C.type&&v.notifyObservers(C.data)}))}return Oo}().then((function(){v.connected=!0,v.flush()}))}return t.prototype.on=function(v,C){return Ri().add((function(T){try{var E=JSON.parse(T.message);E.message===v&&C(E.payload,T.sender)}catch(T){dcl.error("Error parsing comms message "+(T.message||""),T)}}))},t.prototype.sendRaw=function(v){this.messageQueue.push(v),this.connected&&this.flush()},t.prototype.emit=function(v,C){var T=JSON.stringify({message:v,payload:C});this.sendRaw(T),Ri().notifyObservers({message:T,sender:"self"})},t.prototype.flush=function(){var v=this;if(0!==this.messageQueue.length&&this.connected&&So&&!this.flushing){var C=this.messageQueue.shift();this.flushing=!0,dcl.callRpc(So.rpcHandle,"send",[C]).then((function(C){v.flushing=!1,v.flush()}),(function(C){v.flushing=!1,y("Error flushing MessageBus",C)}))}},t}(),Mo=new W("scene");Mo.uuid="0";var Vo=new X(Mo);N.engine=Vo,"undefined"!=typeof dcl&&(Vo.addSystem(new Ee(dcl),1/0),mt(dcl)),Vo.addSystem(Jn),Vo.addSystem(Zn),Vo.addSystem(Kn),v.AVATAR_OBSERVABLE="AVATAR_OBSERVABLE",v.Angle=Se.Angle,v.AnimationState=nn,v.Animator=Rn,v.Arc2=Se.Arc2,v.AttachToAvatar=hn,v.Attachable=C,v.AudioClip=$n,v.AudioSource=eo,v.AudioStream=to,v.AvatarModifierArea=ln,v.AvatarShape=Ao,v.AvatarTexture=Hn,v.Axis=Se.Axis,v.BasicMaterial=Vn,v.BezierCurve=Se.BezierCurve,v.Billboard=yn,v.BoxShape=mn,v.Camera=Gn,v.CameraModeArea=jn,v.CircleShape=wn,v.Color3=Se.Color3,v.Color4=Se.Color4,v.Component=P,v.ComponentAdded=O,v.ComponentGroup=q,v.ComponentRemoved=S,v.ConeShape=bn,v.Curve3=Se.Curve3,v.CylinderShape=Cn,v.DEG2RAD=Se.DEG2RAD,v.DisposableComponent=N,v.DisposableComponentCreated=k,v.DisposableComponentRemoved=j,v.DisposableComponentUpdated=H,v.Engine=X,v.Entity=W,v.Epsilon=Se.Epsilon,v.EventConstructor=x,v.EventManager=R,v.Font=Sn,v.Frustum=Se.Frustum,v.GLTFShape=Tn,v.Gizmos=ro,v.GlobalPointerDown=an,v.GlobalPointerUp=sn,v.Input=cn,v.Material=Mn,v.Matrix=Se.Matrix,v.MessageBus=Io,v.MultiObserver=ee,v.NFTShape=xn,v.OBJShape=An,v.Observable=ne,v.ObservableComponent=Q,v.Observer=Y,v.ObserverEventState=$,v.OnAnimationEnd=Nn,v.OnBlur=so,v.OnChanged=lo,v.OnClick=po,v.OnEnter=co,v.OnFocus=io,v.OnGizmoEvent=oo,v.OnPointerDown=uo,v.OnPointerHoverEnter=yo,v.OnPointerHoverExit=fo,v.OnPointerLock=Ln,v.OnPointerUUIDEvent=zn,v.OnPointerUp=ho,v.OnTextSubmit=ao,v.OnUUIDEvent=Fn,v.Orientation=Se.Orientation,v.ParentChanged=I,v.Path2=Se.Path2,v.Path3D=Se.Path3D,v.PhysicsCast=qn,v.Plane=Se.Plane,v.PlaneShape=vn,v.PointerEvent=ae,v.PointerEventComponent=Ke,v.PointerEventSystem=Xn,v.Quaternion=Se.Quaternion,v.RAD2DEG=Se.RAD2DEG,v.RaycastEventSystem=Wn,v.RaycastResponse=ie,v.Scalar=Se.Scalar,v.Shape=fn,v.Size=Se.Size,v.SmartItem=Dn,v.Space=Se.Space,v.SphereShape=gn,v.Subscription=en,v.TextShape=Pn,v.Texture=En,v.ToGammaSpace=Se.ToGammaSpace,v.ToLinearSpace=Se.ToLinearSpace,v.Transform=pn,v.UIButton=To,v.UICanvas=vo,v.UIContainerRect=bo,v.UIContainerStack=Co,v.UIFullScreen=go,v.UIImage=Eo,v.UIInputText=xo,v.UIScrollRect=Ro,v.UIShape=mo,v.UIText=_o,v.UIValue=M,v.UIWorldSpace=wo,v.UUIDEvent=oe,v.UUIDEventSystem=Yn,v.Vector2=Se.Vector2,v.Vector3=Se.Vector3,v.Vector4=Se.Vector4,v.VideoClip=Bn,v.VideoTexture=Un,v._initEventObservables=mt,v.buildArray=function(v,C){for(var T=[],E=0;E<v;++E)T.push(C());return T},v.engine=Vo,v.error=y,v.executeTask=G,v.getComponentClassId=L,v.getComponentId=D,v.getComponentName=F,v.getMessageObserver=Ri,v.isDisposableComponent=U,v.log=c,v.newId=f,v.onCameraModeChangedObservable=se,v.onEnterScene=le,v.onEnterSceneObservable=de,v.onIdleStateChangedObservable=ce,v.onLeaveScene=he,v.onLeaveSceneObservable=ue,v.onPlayerClickedObservable=_e,v.onPlayerConnectedObservable=be,v.onPlayerDisconnectedObservable=Ce,v.onPlayerExpressionObservable=fe,v.onPointerLockedStateChange=me,v.onProfileChanged=ve,v.onRealmChangedObservable=Te,v.onSceneReadyObservable=ye,v.onVideoEvent=we,v.openExternalURL=function(v){"undefined"!=typeof dcl?dcl.openExternalUrl(v):y("ERROR: openExternalURL dcl is undefined")},v.openNFTDialog=function(v,C){if(void 0===C&&(C=null),"undefined"!=typeof dcl){var T=v.match(/ethereum:\/\/(.+)\/(.+)/);if(!T||T.length<3)return;dcl.openNFTDialog(T[1],T[2],C)}else y("ERROR: openNFTDialog dcl is undefined")},v.pointerEventSystem=Zn,v.raycastEventSystem=Kn,v.teleportTo=function(v){var C;C=[v],void 0===Z&&"undefined"!=typeof dcl&&(Z=dcl.loadModule("@decentraland/UserActionModule",{})),void 0!==Z&&"undefined"!=typeof dcl&&Z.then((function(v){dcl.callRpc(v.rpcHandle,"requestTeleport",C)}))},v.uuid=m,v.uuidEventSystem=Jn,Object.defineProperty(v,"__esModule",{value:!0})}(this.self=this.self||{});var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(v){for(var C,T=1,E=arguments.length;T<E;T++)for(var R in C=arguments[T])Object.prototype.hasOwnProperty.call(C,R)&&(v[R]=C[R]);return v},__assign.apply(this,arguments)},__values=this&&this.__values||function(v){var C="function"==typeof Symbol&&Symbol.iterator,T=C&&v[C],E=0;if(T)return T.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},__awaiter=this&&this.__awaiter||function(v,C,T,E){return new(T||(T=Promise))((function(R,A){function fulfilled(v){try{step(E.next(v))}catch(v){A(v)}}function rejected(v){try{step(E.throw(v))}catch(v){A(v)}}function step(v){var C;v.done?R(v.value):(C=v.value,C instanceof T?C:new T((function(v){v(C)}))).then(fulfilled,rejected)}step((E=E.apply(v,C||[])).next())}))},__generator=this&&this.__generator||function(v,C){var T,E,R,A,S={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return A={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function verb(A){return function(O){return function(A){if(T)throw new TypeError("Generator is already executing.");for(;S;)try{if(T=1,E&&(R=2&A[0]?E.return:A[0]?E.throw||((R=E.return)&&R.call(E),0):E.next)&&!(R=R.call(E,A[1])).done)return R;switch(E=0,R&&(A=[2&A[0],R.value]),A[0]){case 0:case 1:R=A;break;case 4:return S.label++,{value:A[1],done:!1};case 5:S.label++,E=A[1],A=[0];continue;case 7:A=S.ops.pop(),S.trys.pop();continue;default:if(!((R=(R=S.trys).length>0&&R[R.length-1])||6!==A[0]&&2!==A[0])){S=0;continue}if(3===A[0]&&(!R||A[1]>R[0]&&A[1]<R[3])){S.label=A[1];break}if(6===A[0]&&S.label<R[1]){S.label=R[1],R=A;break}if(R&&S.label<R[2]){S.label=R[2],S.ops.push(A);break}R[2]&&S.ops.pop(),S.trys.pop();continue}A=C.call(v,S)}catch(v){A=[6,v],E=0}finally{T=R=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,O])}}},__decorate=this&&this.__decorate||function(v,C,T,E){var R,A=arguments.length,S=A<3?C:null===E?E=Object.getOwnPropertyDescriptor(C,T):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(v,C,T,E);else for(var O=v.length-1;O>=0;O--)(R=v[O])&&(S=(A<3?R(S):A>3?R(C,T,S):R(C,T))||S);return A>3&&S&&Object.defineProperty(C,T,S),S};define("node_modules/decentraland-builder-scripts/channel",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.createChannel=void 0;var T="__request_value__",E="__reply_value__";C.createChannel=function(v,C,R){var A={},S={},O={};return R.on(C.name,(function(v){var C=A[v.actionId];C&&C(v),S={}})),R.on(T,(function(T){if(T.sender!==v&&T.entityName===C.name){var A=T.key,I=O[A];if(I){var M=I(),V={entityName:C.name,key:A,sender:v,value:M};R.emit(E,V)}delete S[A]}})),R.on(E,(function(T){if(T.sender!==v&&T.entityName===C.name){var E=T.key,R=T.value,A=S[E];A&&A(R),delete S[E]}})),{id:v,bus:R,createAction:function(v,T){return{entityName:C.name,actionId:v,values:T}},sendActions:function(C){var T,E;void 0===C&&(C=[]);try{for(var A=__values(C),S=A.next();!S.done;S=A.next()){var O=S.value,I=__assign(__assign({},O),{sender:v});R.emit(I.entityName,I)}}catch(v){T={error:v}}finally{try{S&&!S.done&&(E=A.return)&&E.call(A)}finally{if(T)throw T.error}}},handleAction:function(v,C){A[v]=C},request:function(E,A){S[E]=A;var O={entityName:C.name,key:E,sender:v},I=setInterval((function(){E in S?R.emit(T,O):clearInterval(I)}),5e3)},reply:function(v,C){O[v]=C}}}})),define("node_modules/decentraland-builder-scripts/inventory",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.createInventory=void 0,C.createInventory=function(v,C,T){var E=null,R=null,A={};return{add:function(S,O){var I=A[S]||new T((E||(E=new v),R||((R=new C(E)).isPointerBlocker=!1,R.vAlign="bottom",R.hAlign="right",R.stackOrientation=0,R.spacing=0,R.positionY=75,R.positionX=-25),R),O);I.width=128,I.height=128,I.sourceTop=0,I.sourceLeft=0,I.sourceHeight=256,I.sourceWidth=256,I.isPointerBlocker=!1,I.visible=!0,A[S]=I},remove:function(v){var C=A[v];C&&(C.visible=!1,C.height=0,C.width=0)},has:function(v){return v in A&&A[v].visible}}}})),define("ab84996d-dcdc-429c-818e-a7640239c803/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function PlainText(){}return PlainText.prototype.init=function(){},PlainText.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v);var R=new TextShape(C.text);switch(R.fontSize=1,R.color=Color3.FromHexString(C.color),R.hTextAlign="bottom",C.font){case"SF":R.font=new Font(Fonts.SanFrancisco);break;case"SF_Heavy":R.font=new Font(Fonts.SanFrancisco_Heavy)}R.width=5,R.height=1,E.addComponent(R),E.addComponent(new Transform({position:new Vector3(0,.09,0),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(2,2,2)}))},PlainText}();C.default=T})),define("1746d432-ba19-4b2e-819f-d16cf5a64236/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function Button(){this.channel="",this.data={}}return Button.prototype.init=function(){},Button.prototype.toggle=function(v,C){if(C){if(this.activeScreen&&this.activeScreen==v)return;this.activeScreen&&this.toggle(this.activeScreen,!1),this.activeScreen=v,(T=this.data[v]).screen1.addComponentOrReplace(T.material),T.active=!0,T.texture.volume=T.volume,T.texture.playing=!0}else{if(!this.activeScreen||this.activeScreen!=v)return;var T;this.activeScreen=null,(T=this.data[v]).active=!1,T.texture.playing=!1}},Button.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-screen");R.setParent(v);R.addComponent(new PlaneShape),R.addComponent(new Transform({scale:new Vector3(7.008,3.942,36.5),position:new Vector3(-.001,.945*3.65,-.001),rotation:Quaternion.Euler(0,180,180)}));var A=new Entity;A.setParent(v),A.addComponent(new Transform({position:new Vector3(0,0,0)})),A.addComponent(new GLTFShape("1746d432-ba19-4b2e-819f-d16cf5a64236/models/Screen_Independent.glb")),C.customStation?this.channel=C.customStation:C.station?this.channel=C.station:this.channel="https://theuniverse.club/live/genesisplaza/index.m3u8";var S=new VideoTexture(new VideoClip(this.channel)),O=new Material;O.albedoTexture=S,O.specularIntensity=0,O.roughness=1,O.metallic=0,O.emissiveTexture=S,O.emissiveIntensity=.8,O.emissiveColor=new Color3(1,1,1);var I=new Material;I.albedoTexture=new Texture(C.image?C.image:"1746d432-ba19-4b2e-819f-d16cf5a64236/images/stream.png"),I.specularIntensity=0,I.roughness=1,R.addComponent(I);var M=C.volume;C.onClick&&(R.addComponent(new OnPointerDown((function(){T.sendActions(C.onClick)}),{button:ActionButton.POINTER,hoverText:C.onClickText,distance:6})),A.addComponent(new OnPointerDown((function(){log("clicked"),T.sendActions(C.onClick)}),{button:ActionButton.POINTER,hoverText:C.onClickText,distance:6}))),this.data[v.name]={screen1:R,volume:M,texture:S,material:O,active:!!C.startOn},C.startOn?this.toggle(v.name,!0):this.toggle(v.name,!1),T.handleAction("activate",(function(R){var A=R.sender;E.toggle(v.name,!0),A===T.id&&T.sendActions(C.onActivate)})),T.handleAction("deactivate",(function(R){var A=R.sender;E.toggle(v.name,!1),A===T.id&&T.sendActions(C.onDeactivate)})),T.handleAction("toggle",(function(R){var A=R.sender,S=!E.data[v.name].active;E.toggle(v.name,S),A===T.id&&(S?T.sendActions(C.onActivate):T.sendActions(C.onDeactivate))})),T.request("isActive",(function(C){return E.toggle(v.name,C)})),T.reply("isActive",(function(){return E.data[v.name].active}))},Button}();C.default=T})),define("b88efbbf-2a9a-47b4-86e1-e38ecc2b433b/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.parseURL=void 0;var T=function(){function Teleport(){}return Teleport.prototype.init=function(){},Teleport.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v),E.addComponent(new GLTFShape("b88efbbf-2a9a-47b4-86e1-e38ecc2b433b/models/hiper.glb"));var R=parseURL(C.url),A=C.name?C.name:"Visit site";E.addComponent(new OnPointerDown((function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(v){return openExternalURL(R),[2]}))}))}),{button:ActionButton.PRIMARY,hoverText:A})),T.handleAction("changeLink",(function(v){parseURL(v.values.url);var C=v.values.name?v.values.name:"Visit site";E.getComponent(OnPointerDown).callback=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(v){return openExternalURL(R),[2]}))}))},E.getComponent(OnPointerDown).hoverText=C})),T.handleAction("activate",(function(v){v.sender===T.id&&openExternalURL(R)})),T.request("getCoords",(function(v){E.getComponent(OnPointerDown).callback=v.callback,E.getComponent(OnPointerDown).hoverText=v.hoverText})),T.reply("getCoords",(function(){return{callback:E.getComponent(OnPointerDown).callback,hoverText:E.getComponent(OnPointerDown).hoverText}}))},Teleport}();function parseURL(v){var C=v.trim();return"http://"==v.substr(0,7)?C="https://"+v.substring(7).trim():"https://"!=v.substr(0,8)&&(C="https://"+v.trim()),C}C.default=T,C.parseURL=parseURL})),define("89375bda-dab8-49b5-bb44-6d94bab2d1b4/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function SignPost(){}return SignPost.prototype.init=function(){},SignPost.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v),E.addComponent(new GLTFShape("89375bda-dab8-49b5-bb44-6d94bab2d1b4/models/signpost/SignPost_Neon_Double.glb"));var R=new Entity;R.setParent(v);var A=new TextShape(C.textTop);A.fontSize=C.fontSize,A.color=Color3.FromHexString("#29fbff"),A.outlineWidth=.2,A.outlineColor=Color3.FromHexString("#29fbff"),A.width=20,A.height=10,A.hTextAlign="center",R.addComponent(A),R.addComponent(new Transform({position:new Vector3(-.5,2.35,.02),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.05,.05,.05)}));var S=new Entity;S.setParent(v),S.addComponent(A),S.addComponent(new Transform({position:new Vector3(-.5,2.35,-.02),rotation:Quaternion.Euler(0,0,0),scale:new Vector3(.05,.05,.05)}));var O=new Entity;O.setParent(v);var I=new TextShape(C.textLower);I.fontSize=C.fontSize,I.width=20,I.height=10,I.hTextAlign="center",I.color=Color3.FromHexString("#ff78ed"),I.outlineWidth=.2,I.outlineColor=Color3.FromHexString("#ff78ed"),O.addComponent(I),O.addComponent(new Transform({position:new Vector3(-.02,2.02,.5),rotation:Quaternion.Euler(0,90,0),scale:new Vector3(.05,.05,.05)}));var M=new Entity;M.setParent(v),M.addComponent(I),M.addComponent(new Transform({position:new Vector3(.02,2.02,.5),rotation:Quaternion.Euler(0,270,0),scale:new Vector3(.05,.05,.05)})),T.handleAction("changeTopText",(function(v){A.value=v.values.newText})),T.handleAction("changeLowerText",(function(v){I.value=v.values.newText})),T.request("getText",(function(v){A.value=v[0],I.value=v[1]})),T.reply("getText",(function(){return[A.value,I.value]}))},SignPost}();C.default=T})),define("1dc0345a-f5dd-43b6-bf14-30e7752101b4/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function SignPost(){}return SignPost.prototype.init=function(){},SignPost.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v),E.addComponent(new GLTFShape("1dc0345a-f5dd-43b6-bf14-30e7752101b4/models/signpost/Signpost_Golden.glb"));var R=new Entity;R.setParent(v);var A=new TextShape(C.text);A.fontSize=C.fontSize,A.color=Color3.White(),A.width=20,A.height=10,A.hTextAlign="center",R.addComponent(A),R.addComponent(new Transform({position:new Vector3(0,2.08,.025),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.05,.05,.05)})),T.handleAction("changeText",(function(v){A.value=v.values.newText})),T.request("getText",(function(v){return A.value=v})),T.reply("getText",(function(){return A.value}))},SignPost}();C.default=T})),define("7cd4d0bc-54d4-4f64-8ab2-6f18f41f03a3/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function Button(){this.openClip=new AudioClip("7cd4d0bc-54d4-4f64-8ab2-6f18f41f03a3/sounds/open.mp3"),this.closeClip=new AudioClip("7cd4d0bc-54d4-4f64-8ab2-6f18f41f03a3/sounds/close.mp3"),this.active={}}return Button.prototype.init=function(){},Button.prototype.toggle=function(v,C,T){if(void 0===T&&(T=!0),this.active[v.name]!==C){if(T){var E=new AudioSource(C?this.openClip:this.closeClip);v.addComponentOrReplace(E),E.playing=!0}var R=v.getComponent(Animator),A=R.getClip("open"),S=R.getClip("close");A.stop(),S.stop(),(C?A:S).play(),this.active[v.name]=C}},Button.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-button");R.setParent(v);var A=new Animator,S=new AnimationState("close",{looping:!1}),O=new AnimationState("open",{looping:!1});A.addClip(S),A.addClip(O),R.addComponent(A),O.stop(),R.addComponent(new GLTFShape("7cd4d0bc-54d4-4f64-8ab2-6f18f41f03a3/models/Cyberpunk_Door_Anim.glb")),R.addComponent(new OnPointerDown((function(){T.sendActions(C.onClick)}),{button:ActionButton.POINTER,hoverText:C.onClickText,distance:6})),this.active[R.name]=!1,T.handleAction("open",(function(v){var A=v.sender;E.active[R.name]||E.toggle(R,!0),A===T.id&&T.sendActions(C.onOpen)})),T.handleAction("close",(function(v){var A=v.sender;E.active[R.name]&&E.toggle(R,!1),A===T.id&&T.sendActions(C.onClose)})),T.handleAction("toggle",(function(v){var A=v.sender,S=!E.active[R.name];E.toggle(R,S),A===T.id&&T.sendActions(S?C.onOpen:C.onClose)})),T.request("isOpen",(function(v){return E.toggle(R,v,!1)})),T.reply("isOpen",(function(){return E.active[R.name]}))},Button}();C.default=T})),define("b79a150e-5914-4fdf-a6b4-c7ff0c6833dd/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function Lamp(){this.clip=new AudioClip("b79a150e-5914-4fdf-a6b4-c7ff0c6833dd/sounds/Click.mp3"),this.active={},this.onModels={},this.offModels={},this.AudioSources={}}return Lamp.prototype.init=function(){},Lamp.prototype.toggle=function(v,C){this.active[v]!==C&&(this.AudioSources[v].playOnce(),C?(this.onModels[v].visible=!0,this.offModels[v].visible=!1):(this.onModels[v].visible=!1,this.offModels[v].visible=!0),this.active[v]=C)},Lamp.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-off");R.setParent(v),R.addComponent(new Transform);var A=new GLTFShape("b79a150e-5914-4fdf-a6b4-c7ff0c6833dd/models/FuturisticLight_Off.glb");R.addComponent(A);var S=new Entity(v.name+"-on");S.setParent(v),S.addComponent(new Transform);var O=new GLTFShape("b79a150e-5914-4fdf-a6b4-c7ff0c6833dd/models/FuturisticLight_On.glb");S.addComponent(O),C.startOn?A.visible=!1:O.visible=!1,C.clickable&&(R.addComponent(new OnPointerDown((function(){var C=!E.active[v.name],R=T.createAction(C?"activate":"deactivate",{});T.sendActions([R])}),{button:ActionButton.POINTER,hoverText:"Switch",distance:6})),S.addComponent(new OnPointerDown((function(){var C=!E.active[v.name],R=T.createAction(C?"activate":"deactivate",{});T.sendActions([R])}),{button:ActionButton.POINTER,hoverText:"Switch",distance:6})));var I=new AudioSource(this.clip);S.addComponent(I),this.active[v.name]=C.startOn,this.onModels[v.name]=O,this.offModels[v.name]=A,this.AudioSources[v.name]=I,T.handleAction("activate",(function(R){var A=R.sender;E.toggle(v.name,!0),A===T.id&&T.sendActions(C.onActivate)})),T.handleAction("deactivate",(function(R){var A=R.sender;E.toggle(v.name,!1),A===T.id&&T.sendActions(C.onDeactivate)})),T.request("isActive",(function(C){return E.toggle(v.name,C)})),T.reply("isActive",(function(){return E.active[v.name]}))},Lamp}();C.default=T})),define("c1e126e7-374e-4fe3-aaae-b4211c321cf3/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.splitTextIntoLines=void 0;var T=function(){function PlainText(){}return PlainText.prototype.init=function(){},PlainText.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v);var R=new TextShape(splitTextIntoLines(C.text,140/C.fontSize));switch(R.fontSize=C.fontSize,R.color=Color3.FromHexString(C.color),C.font){case"SF":R.font=new Font(Fonts.SanFrancisco);break;case"SF_Heavy":R.font=new Font(Fonts.SanFrancisco_Heavy)}R.height=10,R.width=10,R.lineSpacing="50px",R.paddingBottom=0,R.paddingTop=0,R.paddingLeft=0,R.paddingRight=0,R.zIndex=1,R.lineCount=10,R.hTextAlign="center",R.vTextAlign="center",R.textWrapping=!1,E.addComponent(R),E.addComponent(new Transform({position:new Vector3(-1,2,.05),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.2,.2,.2)}));var A=new Entity;A.setParent(v),A.addComponentOrReplace(new GLTFShape("c1e126e7-374e-4fe3-aaae-b4211c321cf3/models/BlackGalleryInfo.glb"))},PlainText}();function splitTextIntoLines(v,C,T){for(var E="",R=0;R<v.length;R++){var A=E.split("\n");if(A[A.length-1].length>=C&&R!==v.length){if(" "!==E[E.length-1]){if(T&&A.length>=T)return E.concat("...");E=E.concat("-")}if(E=E.concat("\n")," "===v[R])continue}E=E.concat(v[R])}return E}C.default=T,C.splitTextIntoLines=splitTextIntoLines})),define("1d45dc17-42d2-4d02-af19-f5528f395b13/src/scoreboard",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.ScoreBoardComponent=void 0;var T=function(){function ScoreBoardComponent(v,C,T,E,R,A,S,O,I){this.channel=v,this.currentValue=0,this.enabled=!0,this.currentValue=C,this.initialValue=C,this.enabled=R,this.threshold=T,this.onThreshold=E,this.digit1=A,this.digit2=S,this.digit3=O,this.digit4=I}return __decorate([Component("org.decentraland.ScoreBoard")],ScoreBoardComponent)}();C.ScoreBoardComponent=T})),define("1d45dc17-42d2-4d02-af19-f5528f395b13/src/item",["require","exports","1d45dc17-42d2-4d02-af19-f5528f395b13/src/scoreboard"],(function(v,C,T){Object.defineProperty(C,"__esModule",{value:!0});var E=function(){function ScoreBoard(){this.activateClip=new AudioClip("1d45dc17-42d2-4d02-af19-f5528f395b13/sounds/NumpadPress.mp3")}return ScoreBoard.prototype.init=function(){},ScoreBoard.prototype.updateBoard=function(v,C,E){void 0===E&&(E=!0);var R=v.getComponent(T.ScoreBoardComponent);if(R.currentValue=Math.max(0,C),E){var A=this.activateClip,S=new AudioSource(A);S.volume=.3,v.addComponentOrReplace(S),S.playOnce()}C==R.threshold&&R.channel.sendActions(R.onThreshold);var O=R.currentValue%10,I=Math.floor(R.currentValue%100/10),M=Math.floor(R.currentValue%1e3/100),V=Math.floor(R.currentValue%1e4/1e3);R.digit1.value=O.toString(),R.digit2.value=I.toString(),R.digit3.value=M.toString(),R.digit4.value=V.toString(),R.currentValue<1e3&&(R.digit4.value=""),R.currentValue<100&&(R.digit3.value=""),R.currentValue<10&&(R.digit2.value="")},ScoreBoard.prototype.spawn=function(v,C,E){var R=this,A=new Entity;A.setParent(v),A.addComponent(new Transform({position:new Vector3(0,0,0)})),A.addComponent(new GLTFShape("1d45dc17-42d2-4d02-af19-f5528f395b13/models/board/Scoreboard.glb"));var S=new Entity;S.setParent(v),S.addComponent(new Transform({rotation:Quaternion.Euler(0,180,0),position:new Vector3(-.6,.5,.06),scale:new Vector3(.8,.8,.8)}));var O=new TextShape("0");O.fontSize=9,O.color=Color3.Red(),S.addComponent(O);var I=new Entity;I.setParent(v),I.addComponent(new Transform({rotation:Quaternion.Euler(0,180,0),position:new Vector3(-.2,.5,.06),scale:new Vector3(.8,.8,.8)}));var M=new TextShape("0");M.fontSize=9,M.color=Color3.Red(),I.addComponent(M);var V=new Entity;V.setParent(v),V.addComponent(new Transform({rotation:Quaternion.Euler(0,180,0),position:new Vector3(.2,.5,.06),scale:new Vector3(.8,.8,.8)}));var z=new TextShape("0");z.fontSize=9,z.color=Color3.Red(),V.addComponent(z);var B=new Entity;B.setParent(v),B.addComponent(new Transform({rotation:Quaternion.Euler(0,180,0),position:new Vector3(.6,.5,.06),scale:new Vector3(.8,.8,.8)}));var k=new TextShape("0");k.fontSize=9,k.color=Color3.Red(),B.addComponent(k),A.addComponent(new T.ScoreBoardComponent(E,C.initialVal,C.threshold,C.onThreshold,C.enabled,S.getComponent(TextShape),I.getComponent(TextShape),V.getComponent(TextShape),B.getComponent(TextShape))),this.updateBoard(A,C.initialVal,!1);var j=A.getComponent(T.ScoreBoardComponent);E.handleAction("increase",(function(){j.enabled&&R.updateBoard(A,j.currentValue+1)})),E.handleAction("decrease",(function(){j.enabled&&R.updateBoard(A,j.currentValue-1)})),E.handleAction("reset",(function(){j.enabled&&R.updateBoard(A,j.initialValue)})),E.handleAction("enable",(function(){j.enabled=!0})),E.handleAction("disable",(function(){j.enabled=!1})),E.handleAction("toggleEnable",(function(){j.enabled,j.enabled})),E.request("value",(function(v){j.enabled=v.enabled,R.updateBoard(A,v.currentValue,!1)})),E.reply("value",(function(){var v=A.getComponent(T.ScoreBoardComponent);return{enabled:v.enabled,currentValue:v.currentValue}}))},ScoreBoard}();C.default=E})),define("1f1dfb04-879e-422f-a8da-44852a421199/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function Button(){this.channel="",this.data={}}return Button.prototype.init=function(){},Button.prototype.toggle=function(v,C){if(C){if(this.activeScreen&&this.activeScreen==v)return;this.activeScreen&&this.toggle(this.activeScreen,!1),this.activeScreen=v,(T=this.data[v]).screen1.addComponentOrReplace(T.material),T.active=!0,T.texture.volume=T.volume,T.texture.playing=!0}else{if(!this.activeScreen||this.activeScreen!=v)return;var T;this.activeScreen=null,(T=this.data[v]).active=!1,T.texture.playing=!1}},Button.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-screen");R.setParent(v);R.addComponent(new PlaneShape),R.addComponent(new Transform({scale:new Vector3(1.92*.35,.378,3.5),position:new Vector3(-.001,1.5*.35,-.001),rotation:Quaternion.Euler(0,180,180)}));var A=new Entity;A.setParent(v),A.addComponent(new Transform({position:new Vector3(0,0,0)})),A.addComponent(new GLTFShape("1f1dfb04-879e-422f-a8da-44852a421199/models/Display_Monitor.glb")),C.customStation?this.channel=C.customStation:C.station?this.channel=C.station:this.channel="https://theuniverse.club/live/genesisplaza/index.m3u8";var S=new VideoTexture(new VideoClip(this.channel)),O=new Material;O.albedoTexture=S,O.specularIntensity=0,O.roughness=1,O.metallic=0,O.emissiveTexture=S,O.emissiveIntensity=.8,O.emissiveColor=new Color3(1,1,1);var I=new Material;I.albedoTexture=new Texture(C.image?C.image:"1f1dfb04-879e-422f-a8da-44852a421199/images/stream.png"),I.specularIntensity=0,I.roughness=1,R.addComponent(I);var M=C.volume;C.onClick&&(R.addComponent(new OnPointerDown((function(){T.sendActions(C.onClick)}),{button:ActionButton.POINTER,hoverText:C.onClickText,distance:6})),A.addComponent(new OnPointerDown((function(){log("clicked"),T.sendActions(C.onClick)}),{button:ActionButton.POINTER,hoverText:C.onClickText,distance:6}))),this.data[v.name]={screen1:R,volume:M,texture:S,material:O,active:!!C.startOn},C.startOn?this.toggle(v.name,!0):this.toggle(v.name,!1),T.handleAction("activate",(function(R){var A=R.sender;E.toggle(v.name,!0),A===T.id&&T.sendActions(C.onActivate)})),T.handleAction("deactivate",(function(R){var A=R.sender;E.toggle(v.name,!1),A===T.id&&T.sendActions(C.onDeactivate)})),T.handleAction("toggle",(function(R){var A=R.sender,S=!E.data[v.name].active;E.toggle(v.name,S),A===T.id&&(S?T.sendActions(C.onActivate):T.sendActions(C.onDeactivate))})),T.request("isActive",(function(C){return E.toggle(v.name,C)})),T.reply("isActive",(function(){return E.data[v.name].active}))},Button}();C.default=T})),define("69695443-7b21-4caa-9bf9-4147bab4ab6c/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function Door(){this.Clip=new AudioClip("69695443-7b21-4caa-9bf9-4147bab4ab6c/sounds/Microwave.mp3"),this.active={}}return Door.prototype.init=function(){},Door.prototype.toggle=function(v){var C=new AudioSource(this.Clip);v.addComponentOrReplace(C),C.playing=!0},Door.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-button");R.setParent(v),R.addComponent(new GLTFShape("69695443-7b21-4caa-9bf9-4147bab4ab6c/models/Microwave_Closed.glb")),C.clickable&&R.addComponent(new OnPointerDown((function(){var v=T.createAction("activate",{});T.sendActions([v])}))),T.handleAction("activate",(function(v){var A=v.sender;E.toggle(R),A===T.id&&T.sendActions(C.onActivate)}))},Door}();C.default=T})),define("da30258e-3cc1-48a4-bc55-508e923ae977/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function Door(){this.Clip=new AudioClip("da30258e-3cc1-48a4-bc55-508e923ae977/sounds/EDMLoop.mp3"),this.active={}}return Door.prototype.init=function(){},Door.prototype.toggle=function(v){var C=new AudioSource(this.Clip);v.addComponentOrReplace(C),C.playing=!0},Door.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-button");R.setParent(v),R.addComponent(new GLTFShape("da30258e-3cc1-48a4-bc55-508e923ae977/models/Cyberpunk_Speakers.glb")),C.clickable&&R.addComponent(new OnPointerDown((function(){var v=T.createAction("activate",{});T.sendActions([v])}))),T.handleAction("activate",(function(v){var A=v.sender;E.toggle(R),A===T.id&&T.sendActions(C.onActivate)}))},Door}();C.default=T})),define("bcdcfbe4-bd95-4100-9174-b38785b45e2c/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.splitTextIntoLines=void 0;var T=function(){function PlainText(){}return PlainText.prototype.init=function(){},PlainText.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v);var R=new TextShape(splitTextIntoLines(C.text,140/C.fontSize));switch(R.fontSize=C.fontSize,R.color=Color3.FromHexString(C.color),C.font){case"SF":R.font=new Font(Fonts.SanFrancisco);break;case"SF_Heavy":R.font=new Font(Fonts.SanFrancisco_Heavy)}R.height=10,R.width=10,R.lineSpacing="50px",R.paddingBottom=0,R.paddingTop=0,R.paddingLeft=0,R.paddingRight=0,R.zIndex=1,R.lineCount=10,R.hTextAlign="center",R.vTextAlign="center",R.textWrapping=!1,E.addComponent(R),E.addComponent(new Transform({position:new Vector3(-1,2,.05),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.2,.2,.2)}));var A=new Entity;A.setParent(v),A.addComponentOrReplace(new GLTFShape("bcdcfbe4-bd95-4100-9174-b38785b45e2c/models/GlassGalleryInfo.glb"))},PlainText}();function splitTextIntoLines(v,C,T){for(var E="",R=0;R<v.length;R++){var A=E.split("\n");if(A[A.length-1].length>=C&&R!==v.length){if(" "!==E[E.length-1]){if(T&&A.length>=T)return E.concat("...");E=E.concat("-")}if(E=E.concat("\n")," "===v[R])continue}E=E.concat(v[R])}return E}C.default=T,C.splitTextIntoLines=splitTextIntoLines})),define("12b03cb6-2066-4f72-b8ef-27bb851de48e/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.parseURL=void 0;var T="facebook.com",E=["http://","https://","http:","https:","www.",T,"/"],R=function(){function SMedia_Link(){this.clip=new AudioClip("12b03cb6-2066-4f72-b8ef-27bb851de48e/sounds/click.mp3")}return SMedia_Link.prototype.init=function(){},SMedia_Link.prototype.push=function(v){var C=new AudioSource(this.clip);v.addComponentOrReplace(C),C.playing=!0;var T=v.getComponent(Animator).getClip("Action");T.looping=!1,T.stop(),T.play()},SMedia_Link.prototype.spawn=function(v,C,T){var E=this,R=new Entity;R.setParent(v),C.bnw?R.addComponent(new GLTFShape("12b03cb6-2066-4f72-b8ef-27bb851de48e/models/facebook_bnw.glb")):R.addComponent(new GLTFShape("12b03cb6-2066-4f72-b8ef-27bb851de48e/models/facebook.glb"));var A=parseURL(C.url),S=C.name?C.name:"Facebook Page";R.addComponent(new OnPointerDown((function(){var v=T.createAction("push",{});T.sendActions([v]),openExternalURL(A)}),{button:ActionButton.PRIMARY,hoverText:S})),R.addComponent(new Animator),T.handleAction("push",(function(v){v.sender,E.push(R)}))},SMedia_Link}();function parseURL(v){var C,R,A=v.trim();try{for(var S=__values(E),O=S.next();!O.done;O=S.next()){var I=O.value;A.substr(0,I.length)==I&&(A=A.substring(I.length).trim())}}catch(v){C={error:v}}finally{try{O&&!O.done&&(R=S.return)&&R.call(S)}finally{if(C)throw C.error}}return"https://www."+T+"/"+A}C.default=R,C.parseURL=parseURL})),define("f89ab04f-46ef-42ea-912b-b194eb8d2f02/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.parseURL=void 0;var T=["http://","https://","http:","https:","www.","twitter.com","/","@"],E=function(){function SMedia_Link(){this.clip=new AudioClip("f89ab04f-46ef-42ea-912b-b194eb8d2f02/sounds/click.mp3")}return SMedia_Link.prototype.init=function(){},SMedia_Link.prototype.push=function(v){var C=new AudioSource(this.clip);v.addComponentOrReplace(C),C.playing=!0;var T=v.getComponent(Animator).getClip("Action");T.looping=!1,T.stop(),T.play()},SMedia_Link.prototype.spawn=function(v,C,T){var E=this,R=new Entity;R.setParent(v),C.bnw?R.addComponent(new GLTFShape("f89ab04f-46ef-42ea-912b-b194eb8d2f02/models/twitter_bnw.glb")):R.addComponent(new GLTFShape("f89ab04f-46ef-42ea-912b-b194eb8d2f02/models/twitter.glb"));var A=parseURL(C.url),S=C.name?C.name:"Twitter Page";R.addComponent(new OnPointerDown((function(){var v=T.createAction("push",{});T.sendActions([v]),openExternalURL(A)}),{button:ActionButton.PRIMARY,hoverText:S})),R.addComponent(new Animator),T.handleAction("push",(function(v){v.sender,E.push(R)}))},SMedia_Link}();function parseURL(v){var C,E,R=v.trim();try{for(var A=__values(T),S=A.next();!S.done;S=A.next()){var O=S.value;R.substr(0,O.length)==O&&(R=R.substring(O.length).trim())}}catch(v){C={error:v}}finally{try{S&&!S.done&&(E=A.return)&&E.call(A)}finally{if(C)throw C.error}}return"https://www.twitter.com/"+R}C.default=E,C.parseURL=parseURL})),define("d5ee9a47-8484-4824-a609-996298830b51/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.parseURL=void 0;var T="instagram.com",E=["http://","https://","http:","https:","www.",T,"/"],R=function(){function SMedia_Link(){this.clip=new AudioClip("d5ee9a47-8484-4824-a609-996298830b51/sounds/click.mp3")}return SMedia_Link.prototype.init=function(){},SMedia_Link.prototype.push=function(v){var C=new AudioSource(this.clip);v.addComponentOrReplace(C),C.playing=!0;var T=v.getComponent(Animator).getClip("Action");T.looping=!1,T.stop(),T.play()},SMedia_Link.prototype.spawn=function(v,C,T){var E=this,R=new Entity;R.setParent(v),C.bnw?R.addComponent(new GLTFShape("d5ee9a47-8484-4824-a609-996298830b51/models/instagram_bnw.glb")):R.addComponent(new GLTFShape("d5ee9a47-8484-4824-a609-996298830b51/models/instagram.glb"));var A=parseURL(C.url),S=C.name?C.name:"Instagram Page";R.addComponent(new OnPointerDown((function(){var v=T.createAction("push",{});T.sendActions([v]),openExternalURL(A)}),{button:ActionButton.PRIMARY,hoverText:S})),R.addComponent(new Animator),T.handleAction("push",(function(v){v.sender,E.push(R)}))},SMedia_Link}();function parseURL(v){var C,R,A=v.trim();try{for(var S=__values(E),O=S.next();!O.done;O=S.next()){var I=O.value;A.substr(0,I.length)==I&&(A=A.substring(I.length).trim())}}catch(v){C={error:v}}finally{try{O&&!O.done&&(R=S.return)&&R.call(S)}finally{if(C)throw C.error}}return"https://www."+T+"/"+A}C.default=R,C.parseURL=parseURL})),define("28352c3a-cc20-4ab4-b4b8-a4562a6b0d4d/src/item",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0});var T=function(){function SignPost(){}return SignPost.prototype.init=function(){},SignPost.prototype.spawn=function(v,C,T){var E=new Entity;E.setParent(v),E.addComponent(new GLTFShape("28352c3a-cc20-4ab4-b4b8-a4562a6b0d4d/models/signpost/Sign_Arrow.glb"));var R=new Entity;R.setParent(v);var A=new TextShape(C.text);A.fontSize=C.fontSize,A.color=Color3.FromHexString("#8cfdff"),A.outlineWidth=.4,A.outlineColor=Color3.FromHexString("#8cfdff"),A.width=20,A.height=10,A.hTextAlign="center",R.addComponent(A),R.addComponent(new Transform({position:new Vector3(.25,.4,.025),rotation:Quaternion.Euler(0,180,0),scale:new Vector3(.05,.05,.05)})),T.handleAction("changeText",(function(v){A.value=v.values.newText})),T.request("getText",(function(v){return A.value=v})),T.reply("getText",(function(){return A.value}))},SignPost}();C.default=T})),define("c5cbd030-54d0-4f28-9158-d27401c691b1/src/item",["require","exports"],(function(v,C){var T;Object.defineProperty(C,"__esModule",{value:!0}),C.soundList=void 0,(T=C.soundList||(C.soundList={}))[T.Birds=0]="Birds",T[T.City=1]="City",T[T.Factory=2]="Factory",T[T.Field=3]="Field",T[T.Swamp=4]="Swamp",T[T.Town=5]="Town";var E=function(){function Ambient(){this.active={},this.songs={}}return Ambient.prototype.init=function(){this.songs.Birds=new AudioClip("c5cbd030-54d0-4f28-9158-d27401c691b1/sounds/Birds.mp3"),this.songs.City=new AudioClip("c5cbd030-54d0-4f28-9158-d27401c691b1/sounds/City.mp3"),this.songs.Factory=new AudioClip("c5cbd030-54d0-4f28-9158-d27401c691b1/sounds/Factory.mp3"),this.songs.Field=new AudioClip("c5cbd030-54d0-4f28-9158-d27401c691b1/sounds/Field.mp3"),this.songs.Swamp=new AudioClip("c5cbd030-54d0-4f28-9158-d27401c691b1/sounds/Swamp.mp3"),this.songs.Town=new AudioClip("c5cbd030-54d0-4f28-9158-d27401c691b1/sounds/Town.mp3")},Ambient.prototype.toggle=function(v,C){this.active[v.name]!==C&&(v.getComponent(AudioSource).playing=!!C,this.active[v.name]=C)},Ambient.prototype.spawn=function(v,C,T){var E=this,R=new Entity(v.name+"-button");R.setParent(v);var A=new AudioSource(this.songs[C.sound]);A.loop=C.loop,A.audioClip.loop=C.loop,R.addComponent(A),C.active&&(A.playing=!0),this.active[R.name]=!1,T.handleAction("activate",(function(v){v.sender,E.toggle(R,!0)})),T.handleAction("deactivate",(function(v){v.sender,E.toggle(R,!1)})),T.request("isActive",(function(v){return E.toggle(R,v)})),T.reply("isActive",(function(){return E.active[R.name]}))},Ambient}();C.default=E})),define("e7a6c753-ea84-4c8e-bb94-4523407a5d55/src/bubble",["require","exports"],(function(v,C){Object.defineProperty(C,"__esModule",{value:!0}),C.BubbleSystem=C.MessageBubbleComponent=void 0;var T=function(){function MessageBubbleComponent(v,C,T){this.channel=v,this.transition=-1,this.isOpen=!1,this.text=C,this.rotation=T}return __decorate([Component("org.decentraland.MessageBubble")],MessageBubbleComponent)}();C.MessageBubbleComponent=T;var E=new Vector3(2,2,2),R=new Vector3(.25,.25,.25),A=function(){function BubbleSystem(){this.group=engine.getComponentGroup(T)}return BubbleSystem.prototype.update=function(v){var C,A;try{for(var S=__values(this.group.entities),O=S.next();!O.done;O=S.next()){var I=O.value,M=I.getComponent(T),V=I.getComponent(Transform),z=M.isOpen?R:E,B=M.isOpen?E:R,k=M.isOpen?1:2;M.transition>=0&&M.transition<1?(M.transition+=v*k,V.scale.copyFrom(Vector3.Lerp(z,B,M.transition))):M.transition>1?(M.transition=-1,V.scale.copyFrom(B)):M.isOpen||V.rotate(new Vector3(0,1,0),1)}}catch(v){C={error:v}}finally{try{O&&!O.done&&(A=S.return)&&A.call(S)}finally{if(C)throw C.error}}},BubbleSystem}();C.BubbleSystem=A})),define("e7a6c753-ea84-4c8e-bb94-4523407a5d55/src/item",["require","exports","e7a6c753-ea84-4c8e-bb94-4523407a5d55/src/bubble"],(function(v,C,T){Object.defineProperty(C,"__esModule",{value:!0});var E=function(){function MessageBubble(){this.openClip=new AudioClip("e7a6c753-ea84-4c8e-bb94-4523407a5d55/sounds/MessageBubble.mp3")}return MessageBubble.prototype.init=function(){engine.addSystem(new T.BubbleSystem)},MessageBubble.prototype.toggle=function(v,C,E,R){void 0===R&&(R=!0);var A=v.getComponent(T.MessageBubbleComponent);if(A.isOpen!==E){if(R){var S=new AudioSource(this.openClip);v.addComponentOrReplace(S),S.playing=!0}v.getComponent(Transform).rotation=A.rotation.clone(),A.isOpen=E,A.transition=0,C.value=E?A.text.toString():""}},MessageBubble.prototype.spawn=function(v,C,E){var R=this,A=new Entity;A.setParent(v),A.addComponent(new GLTFShape("e7a6c753-ea84-4c8e-bb94-4523407a5d55/models/bubble/MessageBubble.glb")),A.addComponent(new Transform({position:new Vector3(0,0,0),scale:new Vector3(.25,.25,.25)}));var S=new T.MessageBubbleComponent(E,C.text,A.getComponent(Transform).rotation.clone());A.addComponent(S);var O=new Entity;O.setParent(A);var I=new TextShape(C.text);I.fontSize=C.fontSize,I.color=Color3.FromHexString("#242424"),I.width=20,I.height=10,I.hTextAlign="center",I.value="",O.addComponent(I),O.addComponent(new Transform({position:new Vector3(.25,.45,-.01),rotation:Quaternion.Euler(0,0,0),scale:new Vector3(.05,.05,.05)})),A.addComponent(new OnPointerDown((function(v){R.toggle(A,I,!S.isOpen,!0)}),{button:ActionButton.POINTER,hoverText:"Open/Close",distance:8})),E.handleAction("open",(function(v){v.sender,R.toggle(A,I,!0)})),E.handleAction("close",(function(v){v.sender,R.toggle(A,I,!1)})),E.handleAction("changeText",(function(v){I.value=v.values.newText,S.text=v.values.newText})),E.request("getText",(function(v){return S.text=v})),E.reply("getText",(function(){return S.text}))},MessageBubble}();C.default=E})),define("src/game",["require","exports","node_modules/decentraland-builder-scripts/channel","node_modules/decentraland-builder-scripts/inventory","ab84996d-dcdc-429c-818e-a7640239c803/src/item","1746d432-ba19-4b2e-819f-d16cf5a64236/src/item","b88efbbf-2a9a-47b4-86e1-e38ecc2b433b/src/item","89375bda-dab8-49b5-bb44-6d94bab2d1b4/src/item","1dc0345a-f5dd-43b6-bf14-30e7752101b4/src/item","7cd4d0bc-54d4-4f64-8ab2-6f18f41f03a3/src/item","b79a150e-5914-4fdf-a6b4-c7ff0c6833dd/src/item","c1e126e7-374e-4fe3-aaae-b4211c321cf3/src/item","1d45dc17-42d2-4d02-af19-f5528f395b13/src/item","1f1dfb04-879e-422f-a8da-44852a421199/src/item","69695443-7b21-4caa-9bf9-4147bab4ab6c/src/item","da30258e-3cc1-48a4-bc55-508e923ae977/src/item","bcdcfbe4-bd95-4100-9174-b38785b45e2c/src/item","12b03cb6-2066-4f72-b8ef-27bb851de48e/src/item","f89ab04f-46ef-42ea-912b-b194eb8d2f02/src/item","d5ee9a47-8484-4824-a609-996298830b51/src/item","28352c3a-cc20-4ab4-b4b8-a4562a6b0d4d/src/item","c5cbd030-54d0-4f28-9158-d27401c691b1/src/item","e7a6c753-ea84-4c8e-bb94-4523407a5d55/src/item"],(function(v,C,T,E,R,A,S,O,I,M,V,z,B,k,j,H,Q,q,W,X,K,Z,J){Object.defineProperty(C,"__esModule",{value:!0});var $=new Entity("_scene");engine.addEntity($);var ee=new Transform({position:new Vector3(0,0,0),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});$.addComponentOrReplace(ee);var ne=new Entity("entity");engine.addEntity(ne),ne.setParent($);var oe=new GLTFShape("3bd7d322-f897-444e-99f1-e4e82fb2c035/FloorBaseConcrete_01/FloorBaseConcrete_01.glb");oe.withCollisions=!0,oe.isPointerBlocker=!0,oe.visible=!0,ne.addComponentOrReplace(oe);var ie=new Transform({position:new Vector3(8,0,8),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});ne.addComponentOrReplace(ie);var ae=new Entity("entity2");engine.addEntity(ae),ae.setParent($),ae.addComponentOrReplace(oe);var se=new Transform({position:new Vector3(24,0,8),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});ae.addComponentOrReplace(se);var ce=new Entity("entity3");engine.addEntity(ce),ce.setParent($),ce.addComponentOrReplace(oe);var de=new Transform({position:new Vector3(40,0,8),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});ce.addComponentOrReplace(de);var le=new Entity("entity4");engine.addEntity(le),le.setParent($),le.addComponentOrReplace(oe);var ue=new Transform({position:new Vector3(8,0,24),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});le.addComponentOrReplace(ue);var he=new Entity("entity5");engine.addEntity(he),he.setParent($),he.addComponentOrReplace(oe);var ye=new Transform({position:new Vector3(24,0,24),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});he.addComponentOrReplace(ye);var fe=new Entity("entity6");engine.addEntity(fe),fe.setParent($),fe.addComponentOrReplace(oe);var me=new Transform({position:new Vector3(40,0,24),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});fe.addComponentOrReplace(me);var we=new Entity("entity7");engine.addEntity(we),we.setParent($),we.addComponentOrReplace(oe);var ve=new Transform({position:new Vector3(8,0,40),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});we.addComponentOrReplace(ve);var be=new Entity("entity8");engine.addEntity(be),be.setParent($),be.addComponentOrReplace(oe);var Ce=new Transform({position:new Vector3(24,0,40),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});be.addComponentOrReplace(Ce);var Te=new Entity("entity9");engine.addEntity(Te),Te.setParent($),Te.addComponentOrReplace(oe);var _e=new Transform({position:new Vector3(40,0,40),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Te.addComponentOrReplace(_e);var Ee=new Entity("wallPlainGlass2");engine.addEntity(Ee),Ee.setParent($);var Re=new GLTFShape("e28ea76e-fe21-4544-a001-a65867b11be0/PlainGlassWall.glb");Re.withCollisions=!0,Re.isPointerBlocker=!0,Re.visible=!0,Ee.addComponentOrReplace(Re);var Se=new Transform({position:new Vector3(2,0,3),rotation:new Quaternion(11970133026535028e-31,.7071067690849304,-8.429368847373553e-8,.7071068286895752),scale:new Vector3(22.499998092651367,3.5,.009999881498515606)});Ee.addComponentOrReplace(Se);var Oe=new Entity("wallPlainGlass3");engine.addEntity(Oe),Oe.setParent($);var Pe=new Transform({position:new Vector3(1.5,0,46),rotation:new Quaternion(0,0,0,1),scale:new Vector3(-21.71799087524414,3.5,.0009999970206990838)});Oe.addComponentOrReplace(Pe),Oe.addComponentOrReplace(Re);var Ie=new Entity("wallPlainGlass");engine.addEntity(Ie),Ie.setParent($),Ie.addComponentOrReplace(Re);var Ve=new Transform({position:new Vector3(45,0,3),rotation:new Quaternion(11970133026535028e-31,.7071067690849304,-8.429368847373553e-8,.7071068286895752),scale:new Vector3(22.499998092651367,3.5,.009999881498515606)});Ie.addComponentOrReplace(Ve);var Fe=new Entity("wallPlainGlass5");engine.addEntity(Fe),Fe.setParent($),Fe.addComponentOrReplace(Re);var Le=new Transform({position:new Vector3(45,0,3),rotation:new Quaternion(0,0,0,1),scale:new Vector3(5.999999046325684,2.5,.5000001788139343)});Fe.addComponentOrReplace(Le);var Ne=new Entity("wallPlainGlass4");engine.addEntity(Ne),Ne.setParent($),Ne.addComponentOrReplace(Re);var Be=new Transform({position:new Vector3(14,0,3),rotation:new Quaternion(0,0,0,1),scale:new Vector3(5.999999046325684,2.5,.5000001788139343)});Ne.addComponentOrReplace(Be);var ke=new Entity("wallPlainGlass6");engine.addEntity(ke),ke.setParent($);var Ue=new Transform({position:new Vector3(1.5,10,3),rotation:new Quaternion(0,0,0,1),scale:new Vector3(-21.920608520507812,1,.0009999998146668077)});ke.addComponentOrReplace(Ue),ke.addComponentOrReplace(Re);var He=new Entity("plainText");engine.addEntity(He),He.setParent($);var Ge=new Transform({position:new Vector3(23.5,12,3),rotation:new Quaternion(9573054561519065e-30,-1,1.1920928244535389e-7,-4.470348358154297e-8),scale:new Vector3(18.750001907348633,6,1.0000005960464478)});He.addComponentOrReplace(Ge);var Qe=new Entity("coffeeMachine");engine.addEntity(Qe),Qe.setParent($);var qe=new Transform({position:new Vector3(7.5,0,40.5),rotation:new Quaternion(2329557445383823e-29,3.3527612686157227e-7,-3375077994860476e-29,1),scale:new Vector3(2,3,5.000003337860107)});Qe.addComponentOrReplace(qe);var We=new GLTFShape("bf7da256-1314-40dc-a5b4-19c8dc5196e4/Coffee_Machine.glb");We.withCollisions=!0,We.isPointerBlocker=!0,We.visible=!0,Qe.addComponentOrReplace(We);var Xe=new Entity("videoScreenStanding");engine.addEntity(Xe),Xe.setParent($);var Ye=new Transform({position:new Vector3(40.5,0,27.5),rotation:new Quaternion(2984795663600148e-30,-.7071068286895752,8.42937097900176e-8,.7071068286895752),scale:new Vector3(1.0000011920928955,1,1.0000011920928955)});Xe.addComponentOrReplace(Ye);var Ze=new Entity("drawers");engine.addEntity(Ze),Ze.setParent($);var Je=new Transform({position:new Vector3(42,0,22),rotation:new Quaternion(-39361951401756766e-31,-.7071068286895752,8.42937097900176e-8,.7071068286895752),scale:new Vector3(1.0000001192092896,1,1.0000001192092896)});Ze.addComponentOrReplace(Je);var $e=new GLTFShape("a7afb9c7-eb2a-4d05-807f-e284b128e434/Furnit 2.glb");$e.withCollisions=!0,$e.isPointerBlocker=!0,$e.visible=!0,Ze.addComponentOrReplace($e);var et=new Entity("streetEntry");engine.addEntity(et),et.setParent($);var nt=new Transform({position:new Vector3(23.5,1.5,1.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(3.374999523162842,1.6875,.0010000000474974513)});et.addComponentOrReplace(nt);var ot=new GLTFShape("8076e7cf-d4e5-4377-881c-4306c73ec28d/Street Entry.glb");ot.withCollisions=!0,ot.isPointerBlocker=!0,ot.visible=!0,et.addComponentOrReplace(ot);var rt=new Entity("externalLink");engine.addEntity(rt),rt.setParent($);var it=new Transform({position:new Vector3(38,0,28),rotation:new Quaternion(-15394153601527394e-31,-.7071068286895752,8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.5000039339065552,1.5,1.0000019073486328)});rt.addComponentOrReplace(it);var at=new Entity("grassTile");engine.addEntity(at),at.setParent($);var st=new Transform({position:new Vector3(23,0,5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});at.addComponentOrReplace(st);var ct=new GLTFShape("7f2dbcb5-40f5-4e2f-9409-1886d26ce068/FloorBlock_05/FloorBlock_05.glb");ct.withCollisions=!0,ct.isPointerBlocker=!0,ct.visible=!0,at.addComponentOrReplace(ct);var dt=new Entity("grassTile2");engine.addEntity(dt),dt.setParent($);var lt=new Transform({position:new Vector3(23,0,41.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});dt.addComponentOrReplace(lt),dt.addComponentOrReplace(ct);var pt=new Entity("grassTile3");engine.addEntity(pt),pt.setParent($);var ut=new Transform({position:new Vector3(23,0,24),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,-16.875)});pt.addComponentOrReplace(ut),pt.addComponentOrReplace(ct);var ht=new Entity("grassTile4");engine.addEntity(ht),ht.setParent($),ht.addComponentOrReplace(ct);var yt=new Transform({position:new Vector3(23,0,3),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});ht.addComponentOrReplace(yt);var ft=new Entity("grassTile5");engine.addEntity(ft),ft.setParent($),ft.addComponentOrReplace(ct);var gt=new Transform({position:new Vector3(23,0,1),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});ft.addComponentOrReplace(gt);var wt=new Entity("grassTile6");engine.addEntity(wt),wt.setParent($),wt.addComponentOrReplace(ct);var vt=new Transform({position:new Vector3(23,0,6.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});wt.addComponentOrReplace(vt);var bt=new Entity("grassTile7");engine.addEntity(bt),bt.setParent($),bt.addComponentOrReplace(ct);var Ct=new Transform({position:new Vector3(23,0,43.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});bt.addComponentOrReplace(Ct);var Tt=new Entity("grassTile8");engine.addEntity(Tt),Tt.setParent($),Tt.addComponentOrReplace(ct);var _t=new Transform({position:new Vector3(23,0,45.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Tt.addComponentOrReplace(_t);var xt=new Entity("grassTile9");engine.addEntity(xt),xt.setParent($),xt.addComponentOrReplace(ct);var Rt=new Transform({position:new Vector3(23,0,46.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});xt.addComponentOrReplace(Rt);var At=new Entity("grassTile10");engine.addEntity(At),At.setParent($),At.addComponentOrReplace(ct);var St=new Transform({position:new Vector3(25,0,17),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,-16.875)});At.addComponentOrReplace(St);var Ot=new Entity("grassTile11");engine.addEntity(Ot),Ot.setParent($),Ot.addComponentOrReplace(ct);var Pt=new Transform({position:new Vector3(25,0,34.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Ot.addComponentOrReplace(Pt);var It=new Entity("grassTile12");engine.addEntity(It),It.setParent($),It.addComponentOrReplace(ct);var Vt=new Transform({position:new Vector3(25,0,36.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});It.addComponentOrReplace(Vt);var Ft=new Entity("grassTile13");engine.addEntity(Ft),Ft.setParent($),Ft.addComponentOrReplace(ct);var zt=new Transform({position:new Vector3(25,0,38.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Ft.addComponentOrReplace(zt);var Lt=new Entity("grassTile14");engine.addEntity(Lt),Lt.setParent($),Lt.addComponentOrReplace(ct);var Nt=new Transform({position:new Vector3(25,0,40.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Lt.addComponentOrReplace(Nt);var Bt=new Entity("grassTile15");engine.addEntity(Bt),Bt.setParent($),Bt.addComponentOrReplace(ct);var kt=new Transform({position:new Vector3(25,0,42.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Bt.addComponentOrReplace(kt);var Ut=new Entity("grassTile16");engine.addEntity(Ut),Ut.setParent($),Ut.addComponentOrReplace(ct);var Ht=new Transform({position:new Vector3(25,0,44.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Ut.addComponentOrReplace(Ht);var Gt=new Entity("grassTile17");engine.addEntity(Gt),Gt.setParent($),Gt.addComponentOrReplace(ct);var Qt=new Transform({position:new Vector3(25,0,46),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Gt.addComponentOrReplace(Qt);var qt=new Entity("grassTile18");engine.addEntity(qt),qt.setParent($),qt.addComponentOrReplace(ct);var Wt=new Transform({position:new Vector3(24,0,47),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});qt.addComponentOrReplace(Wt);var Yt=new Entity("signpostDirections2");engine.addEntity(Yt),Yt.setParent($);var Kt=new Transform({position:new Vector3(21,0,2.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Yt.addComponentOrReplace(Kt);var Zt=new Entity("signpostGolden");engine.addEntity(Zt),Zt.setParent($);var Jt=new Transform({position:new Vector3(26.5,0,24.5),rotation:new Quaternion(9476975852540026e-32,-1,1.1920926823449918e-7,-2.9802318834981634e-8),scale:new Vector3(1.000001072883606,1,1.000001072883606)});Zt.addComponentOrReplace(Jt);var $t=new Entity("grassTile19");engine.addEntity($t),$t.setParent($),$t.addComponentOrReplace(ct);var tn=new Transform({position:new Vector3(27,0,27),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});$t.addComponentOrReplace(tn);var nn=new Entity("grassTile20");engine.addEntity(nn),nn.setParent($),nn.addComponentOrReplace(ct);var on=new Transform({position:new Vector3(27,0,29),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});nn.addComponentOrReplace(on);var rn=new Entity("grassTile21");engine.addEntity(rn),rn.setParent($),rn.addComponentOrReplace(ct);var an=new Transform({position:new Vector3(29,0,27),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});rn.addComponentOrReplace(an);var sn=new Entity("grassTile22");engine.addEntity(sn),sn.setParent($),sn.addComponentOrReplace(ct);var cn=new Transform({position:new Vector3(29,0,29),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});sn.addComponentOrReplace(cn);var dn=new Entity("grassTile23");engine.addEntity(dn),dn.setParent($),dn.addComponentOrReplace(ct);var ln=new Transform({position:new Vector3(31,0,29),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});dn.addComponentOrReplace(ln);var pn=new Entity("grassTile24");engine.addEntity(pn),pn.setParent($),pn.addComponentOrReplace(ct);var un=new Transform({position:new Vector3(31,0,27),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});pn.addComponentOrReplace(un);var hn=new Entity("grassTile25");engine.addEntity(hn),hn.setParent($),hn.addComponentOrReplace(ct);var yn=new Transform({position:new Vector3(33,0,29),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});hn.addComponentOrReplace(yn);var fn=new Entity("grassTile26");engine.addEntity(fn),fn.setParent($),fn.addComponentOrReplace(ct);var mn=new Transform({position:new Vector3(33,0,27),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});fn.addComponentOrReplace(mn);var gn=new Entity("grassTile27");engine.addEntity(gn),gn.setParent($),gn.addComponentOrReplace(ct);var wn=new Transform({position:new Vector3(35,0,29),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});gn.addComponentOrReplace(wn);var vn=new Entity("grassTile28");engine.addEntity(vn),vn.setParent($),vn.addComponentOrReplace(ct);var bn=new Transform({position:new Vector3(35,0,27),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});vn.addComponentOrReplace(bn);var Cn=new Entity("grassTile29");engine.addEntity(Cn),Cn.setParent($),Cn.addComponentOrReplace(ct);var Tn=new Transform({position:new Vector3(37,0,29),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Cn.addComponentOrReplace(Tn);var _n=new Entity("grassTile30");engine.addEntity(_n),_n.setParent($),_n.addComponentOrReplace(ct);var xn=new Transform({position:new Vector3(37,0,27),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});_n.addComponentOrReplace(xn);var En=new Entity("armchairC");engine.addEntity(En),En.setParent($);var Rn=new Transform({position:new Vector3(35.5,0,30),rotation:new Quaternion(1129297571322613e-30,1,-1.1920925402364446e-7,-9.685754776000977e-8),scale:new Vector3(1,1,1)});En.addComponentOrReplace(Rn);var An=new GLTFShape("bf297f86-f4f6-4179-84a5-95690bf0f2c3/Armchair_C.glb");An.withCollisions=!0,An.isPointerBlocker=!0,An.visible=!0,En.addComponentOrReplace(An);var Sn=new Entity("wallPlainGlass9");engine.addEntity(Sn),Sn.setParent($);var On=new Transform({position:new Vector3(30,0,34),rotation:new Quaternion(0,0,0,1),scale:new Vector3(-7.492499828338623,2.5,.9999982714653015)});Sn.addComponentOrReplace(On),Sn.addComponentOrReplace(Re);var Pn=new Entity("wallPlainGlass11");engine.addEntity(Pn),Pn.setParent($);var In=new Transform({position:new Vector3(31,9.5,34),rotation:new Quaternion(-.7071068286895752,-9000775385431536e-31,-8.429368847373553e-8,.7071067690849304),scale:new Vector3(-6.9900007247924805,1.749997854232788,2.004999876022339)});Pn.addComponentOrReplace(In),Pn.addComponentOrReplace(Re);var Mn=new Entity("wallPlainGlass12");engine.addEntity(Mn),Mn.setParent($),Mn.addComponentOrReplace(Re);var Vn=new Transform({position:new Vector3(31,9.5,27),rotation:new Quaternion(-.7071068286895752,-9000775385431536e-31,-8.429368847373553e-8,.7071067690849304),scale:new Vector3(-6.9900007247924805,1.749997854232788,2.004999876022339)});Mn.addComponentOrReplace(Vn);var Fn=new Entity("wallPlainGlass10");engine.addEntity(Fn),Fn.setParent($),Fn.addComponentOrReplace(Re);var zn=new Transform({position:new Vector3(29.5,0,20),rotation:new Quaternion(0,0,0,1),scale:new Vector3(-7.492499828338623,2.5,.9999982714653015)});Fn.addComponentOrReplace(zn);var Ln=new Entity("cyberpunkDoor");engine.addEntity(Ln),Ln.setParent($);var Nn=new Transform({position:new Vector3(30,0,29),rotation:new Quaternion(8860399791456633e-31,-.7071068286895752,8.429368847373553e-8,.7071067690849304),scale:new Vector3(1,1,1)});Ln.addComponentOrReplace(Nn);var Dn=new Entity("wallPlainGlass14");engine.addEntity(Dn),Dn.setParent($),Dn.addComponentOrReplace(Re);var Bn=new Transform({position:new Vector3(30,0,20),rotation:new Quaternion(-2748709793508482e-31,.7071068286895752,8.429369557916289e-8,.7071067690849304),scale:new Vector3(3.5156257152557373,1.5,-1.000000238418579)});Dn.addComponentOrReplace(Bn);var kn=new Entity("wallPlainGlass13");engine.addEntity(kn),kn.setParent($),kn.addComponentOrReplace(Re);var Un=new Transform({position:new Vector3(30,0,34),rotation:new Quaternion(2748709793508482e-31,-.7071068286895752,8.429369557916289e-8,.7071067690849304),scale:new Vector3(2.343750476837158,1.5,1.000000238418579)});kn.addComponentOrReplace(Un);var jn=new Entity("wallPlainGlass15");engine.addEntity(jn),jn.setParent($),jn.addComponentOrReplace(Re);var Hn=new Transform({position:new Vector3(31,6,34.5),rotation:new Quaternion(2748709793508482e-31,-.7071068286895752,8.429369557916289e-8,.7071067690849304),scale:new Vector3(7.031251430511475,.75,1.000000238418579)});jn.addComponentOrReplace(Hn);var Gn=new Entity("armchairC2");engine.addEntity(Gn),Gn.setParent($),Gn.addComponentOrReplace(An);var Qn=new Transform({position:new Vector3(36,0,26),rotation:new Quaternion(14210853868169056e-30,-9.685754776000977e-8,7108369950059763e-30,-1),scale:new Vector3(1,1,1)});Gn.addComponentOrReplace(Qn);var qn=new Entity("armchairC3");engine.addEntity(qn),qn.setParent($),qn.addComponentOrReplace(An);var Wn=new Transform({position:new Vector3(32.5,0,26),rotation:new Quaternion(14210853868169056e-30,-9.685754776000977e-8,7108369950059763e-30,-1),scale:new Vector3(1,1,1)});qn.addComponentOrReplace(Wn);var Xn=new Entity("armchairC4");engine.addEntity(Xn),Xn.setParent($),Xn.addComponentOrReplace(An);var Yn=new Transform({position:new Vector3(32,0,30),rotation:new Quaternion(1129297571322613e-30,1,-1.1920925402364446e-7,-9.685754776000977e-8),scale:new Vector3(1,1,1)});Xn.addComponentOrReplace(Yn);var Kn=new Entity("blockFloorLight");engine.addEntity(Kn),Kn.setParent($);var Zn=new Transform({position:new Vector3(15.5,0,2),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Kn.addComponentOrReplace(Zn);var Jn=new Entity("blockFloorLight2");engine.addEntity(Jn),Jn.setParent($);var $n=new Transform({position:new Vector3(32.5,0,2),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Jn.addComponentOrReplace($n);var eo=new Entity("roundedStarlightRug");engine.addEntity(eo),eo.setParent($);var to=new Transform({position:new Vector3(34,0,28),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});eo.addComponentOrReplace(to);var no=new GLTFShape("0b906173-5b55-4c95-9a53-9d9c6ba21fe0/Carpet_02/Carpet_02.glb");no.withCollisions=!0,no.isPointerBlocker=!0,no.visible=!0,eo.addComponentOrReplace(no);var oo=new Entity("galleryInfoBlack");engine.addEntity(oo),oo.setParent($);var ro=new Transform({position:new Vector3(27.5,0,33.5),rotation:new Quaternion(-10682437329460545e-30,.9807853102684021,-1.1691872003893877e-7,-.19509029388427734),scale:new Vector3(1.0000015497207642,1,1.0000015497207642)});oo.addComponentOrReplace(ro);var io=new Entity("blueLightBlock");engine.addEntity(io),io.setParent($);var ao=new Transform({position:new Vector3(22,0,19),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,30)});io.addComponentOrReplace(ao);var so=new GLTFShape("dba7c6c8-4b41-409e-88b3-84178ec417ce/LightBlock_02/LightBlock_02.glb");so.withCollisions=!0,so.isPointerBlocker=!0,so.visible=!0,io.addComponentOrReplace(so);var co=new Entity("blueLightBlock2");engine.addEntity(co),co.setParent($),co.addComponentOrReplace(so);var lo=new Transform({position:new Vector3(26,0,19),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,30)});co.addComponentOrReplace(lo);var po=new Entity("grassTile31");engine.addEntity(po),po.setParent($),po.addComponentOrReplace(ct);var uo=new Transform({position:new Vector3(17.5,0,41.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(8,1,1.000000238418579)});po.addComponentOrReplace(uo);var ho=new Entity("blueLightBlock3");engine.addEntity(ho),ho.setParent($);var yo=new Transform({position:new Vector3(17,0,38.5),rotation:new Quaternion(-16754864385688144e-31,.7071067690849304,-8.429367426288081e-8,-.7071068286895752),scale:new Vector3(.9999999403953552,1,8.25)});ho.addComponentOrReplace(yo),ho.addComponentOrReplace(so);var fo=new Entity("blueLightBlock4");engine.addEntity(fo),fo.setParent($),fo.addComponentOrReplace(so);var mo=new Transform({position:new Vector3(17,0,42.5),rotation:new Quaternion(-16754864385688144e-31,.7071067690849304,-8.429367426288081e-8,-.7071068286895752),scale:new Vector3(.9999999403953552,1,8.25)});fo.addComponentOrReplace(mo);var go=new Entity("coffeeTable");engine.addEntity(go),go.setParent($);var wo=new Transform({position:new Vector3(9,0,37.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});go.addComponentOrReplace(wo);var vo=new GLTFShape("61265486-0bbb-462e-80c0-30754daf97ed/Coffee_Table.glb");vo.withCollisions=!0,vo.isPointerBlocker=!0,vo.visible=!0,go.addComponentOrReplace(vo);var bo=new Entity("coffeeTable2");engine.addEntity(bo),bo.setParent($);var Co=new Transform({position:new Vector3(9,0,44),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});bo.addComponentOrReplace(Co);var To=new GLTFShape("b01154d9-db05-4713-ace7-692b67220bb0/Table_06/Table_06.glb");To.withCollisions=!0,To.isPointerBlocker=!0,To.visible=!0,bo.addComponentOrReplace(To);var _o=new Entity("externalLink2");engine.addEntity(_o),_o.setParent($);var xo=new Transform({position:new Vector3(9,0,40.5),rotation:new Quaternion(4565442470042859e-31,-.7071068286895752,8.429368136830817e-8,.7071068286895752),scale:new Vector3(1.5000028610229492,1.5,1.0000011920928955)});_o.addComponentOrReplace(xo);var Eo=new Entity("signpostGolden2");engine.addEntity(Eo),Eo.setParent($);var Ro=new Transform({position:new Vector3(21,0,37),rotation:new Quaternion(9476975852540026e-32,-1,1.1920926823449918e-7,-2.9802318834981634e-8),scale:new Vector3(1.000001072883606,1,1.000001072883606)});Eo.addComponentOrReplace(Ro);var Ao=new Entity("grassTile32");engine.addEntity(Ao),Ao.setParent($),Ao.addComponentOrReplace(ct);var So=new Transform({position:new Vector3(17.5,0,39.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(8,1,1.000000238418579)});Ao.addComponentOrReplace(So);var Oo=new Entity("wallPlainGlass17");engine.addEntity(Oo),Oo.setParent($),Oo.addComponentOrReplace(Re);var Po=new Transform({position:new Vector3(15,0,46),rotation:new Quaternion(0,0,0,1),scale:new Vector3(7.499999046325684,1.125,.9999998807907104)});Oo.addComponentOrReplace(Po);var Io=new Entity("wallPlainGlass18");engine.addEntity(Io),Io.setParent($),Io.addComponentOrReplace(Re);var Mo=new Transform({position:new Vector3(15.5,4.5,35.5),rotation:new Quaternion(-.7071067690849304,-3.161013850672134e-8,-1.7912408623033116e-7,-.7071068286895752),scale:new Vector3(7.499999046325684,2.625,-1)});Io.addComponentOrReplace(Mo);var Vo=new Entity("armchairC5");engine.addEntity(Vo),Vo.setParent($),Vo.addComponentOrReplace(An);var Fo=new Transform({position:new Vector3(14,0,43.5),rotation:new Quaternion(1129297571322613e-30,1,-1.1920925402364446e-7,-9.685754776000977e-8),scale:new Vector3(1,1,1)});Vo.addComponentOrReplace(Fo);var zo=new Entity("armchairC6");engine.addEntity(zo),zo.setParent($),zo.addComponentOrReplace(An);var Lo=new Transform({position:new Vector3(18,0,43.5),rotation:new Quaternion(1129297571322613e-30,1,-1.1920925402364446e-7,-9.685754776000977e-8),scale:new Vector3(1,1,1)});zo.addComponentOrReplace(Lo);var No=new Entity("armchairC7");engine.addEntity(No),No.setParent($),No.addComponentOrReplace(An);var Do=new Transform({position:new Vector3(16,0,37.5),rotation:new Quaternion(14210853868169056e-30,-9.685754776000977e-8,7108369950059763e-30,-1),scale:new Vector3(1,1,1)});No.addComponentOrReplace(Do);var Bo=new Entity("armchairC8");engine.addEntity(Bo),Bo.setParent($),Bo.addComponentOrReplace(An);var ko=new Transform({position:new Vector3(19.5,0,37.5),rotation:new Quaternion(14210853868169056e-30,-9.685754776000977e-8,7108369950059763e-30,-1),scale:new Vector3(1,1,1)});Bo.addComponentOrReplace(ko);var Uo=new Entity("plainText3");engine.addEntity(Uo),Uo.setParent($);var jo=new Transform({position:new Vector3(29,7.5,26.5),rotation:new Quaternion(2.107343100021808e-8,-.7071067690849304,1.0536712125031045e-7,.70710688829422),scale:new Vector3(3.7500267028808594,5,1.0000065565109253)});Uo.addComponentOrReplace(jo);var Ho=new Entity("scoreboard");engine.addEntity(Ho),Ho.setParent($);var Go=new Transform({position:new Vector3(42,1,22),rotation:new Quaternion(-4919850054899122e-31,.7071068286895752,-8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.0000073909759521,1,1.0000073909759521)});Ho.addComponentOrReplace(Go);var Qo=new Entity("spaceRoomWithStairs");engine.addEntity(Qo),Qo.setParent($);var qo=new Transform({position:new Vector3(31,0,41.5),rotation:new Quaternion(-18995778986108857e-31,-.7071067690849304,8.429368136830817e-8,.7071068286895752),scale:new Vector3(1,1,1)});Qo.addComponentOrReplace(qo);var Wo=new GLTFShape("21c23d1a-5c26-48e1-a09b-f7d7454ebc77/SpaceRoom_01/SpaceRoom_01.glb");Wo.withCollisions=!0,Wo.isPointerBlocker=!0,Wo.visible=!0,Qo.addComponentOrReplace(Wo);var Xo=new Entity("signpostGolden3");engine.addEntity(Xo),Xo.setParent($);var Yo=new Transform({position:new Vector3(26.5,0,39),rotation:new Quaternion(9476975852540026e-32,-1,1.1920926823449918e-7,-2.9802318834981634e-8),scale:new Vector3(1.000001072883606,1,1.000001072883606)});Xo.addComponentOrReplace(Yo);var Ko=new Entity("steampunkDesk");engine.addEntity(Ko),Ko.setParent($);var Zo=new Transform({position:new Vector3(4.5,0,23),rotation:new Quaternion(2973809349812728e-29,-1,8.940695295223122e-8,-8.940696716308594e-8),scale:new Vector3(.9999999403953552,1,.9999999403953552)});Ko.addComponentOrReplace(Zo);var Jo=new GLTFShape("9d00a781-62b8-42f5-a77b-ba510865e4cb/Steampunk Desk.glb");Jo.withCollisions=!0,Jo.isPointerBlocker=!0,Jo.visible=!0,Ko.addComponentOrReplace(Jo);var $o=new Entity("tableWithChairs");engine.addEntity($o),$o.setParent($);var er=new Transform({position:new Vector3(14,0,29.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});$o.addComponentOrReplace(er);var tr=new GLTFShape("f7de372b-3ac8-4f56-a822-640326132014/Table_with_Chairs.glb");tr.withCollisions=!0,tr.isPointerBlocker=!0,tr.visible=!0,$o.addComponentOrReplace(tr);var nr=new Entity("chairHighBack");engine.addEntity(nr),nr.setParent($);var or=new Transform({position:new Vector3(5,0,21.5),rotation:new Quaternion(9279464471671252e-30,0,60168951526891334e-31,-1),scale:new Vector3(1.0000004768371582,1,1.0000004768371582)});nr.addComponentOrReplace(or);var rr=new GLTFShape("9cc4b4a2-46b6-4b49-aef9-da3959de0ac8/HighBackChair.glb");rr.withCollisions=!0,rr.isPointerBlocker=!0,rr.visible=!0,nr.addComponentOrReplace(rr);var ir=new Entity("steampunkDesk2");engine.addEntity(ir),ir.setParent($),ir.addComponentOrReplace(Jo);var ar=new Transform({position:new Vector3(10,0,23),rotation:new Quaternion(2973809349812728e-29,-1,8.940695295223122e-8,-8.940696716308594e-8),scale:new Vector3(.9999999403953552,1,.9999999403953552)});ir.addComponentOrReplace(ar);var sr=new Entity("chairHighBack2");engine.addEntity(sr),sr.setParent($),sr.addComponentOrReplace(rr);var cr=new Transform({position:new Vector3(10.5,0,21.5),rotation:new Quaternion(9279464471671252e-30,0,60168951526891334e-31,-1),scale:new Vector3(1.0000004768371582,1,1.0000004768371582)});sr.addComponentOrReplace(cr);var dr=new Entity("steampunkDesk3");engine.addEntity(dr),dr.setParent($),dr.addComponentOrReplace(Jo);var lr=new Transform({position:new Vector3(15,0,23),rotation:new Quaternion(2973809349812728e-29,-1,8.940695295223122e-8,-8.940696716308594e-8),scale:new Vector3(.9999999403953552,1,.9999999403953552)});dr.addComponentOrReplace(lr);var pr=new Entity("chairHighBack3");engine.addEntity(pr),pr.setParent($),pr.addComponentOrReplace(rr);var ur=new Transform({position:new Vector3(15.5,0,21.5),rotation:new Quaternion(9279464471671252e-30,0,60168951526891334e-31,-1),scale:new Vector3(1.0000004768371582,1,1.0000004768371582)});pr.addComponentOrReplace(ur);var hr=new Entity("videoComputerScreen");engine.addEntity(hr),hr.setParent($);var yr=new Transform({position:new Vector3(15,1,23),rotation:new Quaternion(8175212182291291e-30,-1,1.1920928244535389e-7,-2.9802322387695312e-8),scale:new Vector3(1.0000056028366089,1,1.0000056028366089)});hr.addComponentOrReplace(yr);var fr=new Entity("videoComputerScreen2");engine.addEntity(fr),fr.setParent($);var mr=new Transform({position:new Vector3(10,1,23),rotation:new Quaternion(8175212182291291e-30,-1,1.1920928244535389e-7,-2.9802322387695312e-8),scale:new Vector3(1.0000056028366089,1,1.0000056028366089)});fr.addComponentOrReplace(mr);var gr=new Entity("videoComputerScreen3");engine.addEntity(gr),gr.setParent($);var wr=new Transform({position:new Vector3(4.5,1,23),rotation:new Quaternion(8175212182291291e-30,-1,1.1920928244535389e-7,-2.9802322387695312e-8),scale:new Vector3(1.0000056028366089,1,1.0000056028366089)});gr.addComponentOrReplace(wr);var vr=new Entity("videoScreenStanding2");engine.addEntity(vr),vr.setParent($);var br=new Transform({position:new Vector3(3.5,0,29.5),rotation:new Quaternion(-4.6036748813094164e-7,.7071068286895752,-1.758665177931107e-7,.7071068286895752),scale:new Vector3(1.0000039339065552,1.0099999904632568,1.0000039339065552)});vr.addComponentOrReplace(br);var Cr=new Entity("microwave");engine.addEntity(Cr),Cr.setParent($);var Tr=new Transform({position:new Vector3(5.5,1,7.5),rotation:new Quaternion(2748709793508482e-31,.7071067690849304,-8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.0000004768371582,1,1.0000004768371582)});Cr.addComponentOrReplace(Tr);var _r=new Entity("speakers");engine.addEntity(_r),_r.setParent($);var xr=new Transform({position:new Vector3(5.5,1,6),rotation:new Quaternion(-4919850054899122e-31,.7071068286895752,-8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.0000039339065552,1,1.0000039339065552)});_r.addComponentOrReplace(xr);var Er=new Entity("table");engine.addEntity(Er),Er.setParent($);var Rr=new Transform({position:new Vector3(5,0,7),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Er.addComponentOrReplace(Rr);var Ar=new GLTFShape("619c08da-51a4-49db-9ad5-49e5e88b344b/Table 2.glb");Ar.withCollisions=!0,Ar.isPointerBlocker=!0,Ar.visible=!0,Er.addComponentOrReplace(Ar);var Sr=new Entity("grassTile33");engine.addEntity(Sr),Sr.setParent($);var Or=new Transform({position:new Vector3(37,0,15),rotation:new Quaternion(0,0,0,1),scale:new Vector3(7.5,1,4.875)});Sr.addComponentOrReplace(Or),Sr.addComponentOrReplace(ct);var Pr=new Entity("grassTile34");engine.addEntity(Pr),Pr.setParent($),Pr.addComponentOrReplace(ct);var Ir=new Transform({position:new Vector3(37,0,8),rotation:new Quaternion(0,0,0,1),scale:new Vector3(7.5,1,4.875)});Pr.addComponentOrReplace(Ir);var Mr=new Entity("neonRectangleSign");engine.addEntity(Mr),Mr.setParent($);var Vr=new Transform({position:new Vector3(32,3.5,20.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(2,4,1)});Mr.addComponentOrReplace(Vr);var Fr=new GLTFShape("5e74295e-315c-4581-be84-61a8069f1f4d/Neon_Rectangle_Sign.glb");Fr.withCollisions=!0,Fr.isPointerBlocker=!0,Fr.visible=!0,Mr.addComponentOrReplace(Fr);var zr=new Entity("galleryInfoGlass");engine.addEntity(zr),zr.setParent($);var Lr=new Transform({position:new Vector3(37,0,13),rotation:new Quaternion(-22311382520226225e-32,-.7071068286895752,8.429368847373553e-8,.7071067690849304),scale:new Vector3(1.961939811706543,1.5,1.038060188293457)});zr.addComponentOrReplace(Lr);var Nr=new Entity("facebookButtonLink");engine.addEntity(Nr),Nr.setParent($);var Dr=new Transform({position:new Vector3(36.5,0,9.5),rotation:new Quaternion(-15394153601527394e-31,-.7071068286895752,8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.0000064373016357,1,1.0000064373016357)});Nr.addComponentOrReplace(Dr);var Br=new Entity("twitterButtonLink");engine.addEntity(Br),Br.setParent($);var kr=new Transform({position:new Vector3(36.5,0,12.5),rotation:new Quaternion(-6661133271656822e-31,-.7071068286895752,8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.0000107288360596,1,1.0000107288360596)});Br.addComponentOrReplace(kr);var Ur=new Entity("instagramButtonLink");engine.addEntity(Ur),Ur.setParent($);var jr=new Transform({position:new Vector3(36.5,0,10.5),rotation:new Quaternion(-15394153601527394e-31,-.7071068286895752,8.429369557916289e-8,.7071068286895752),scale:new Vector3(1.0000121593475342,1,1.0000121593475342)});Ur.addComponentOrReplace(jr);var Hr=new Entity("streetClock");engine.addEntity(Hr),Hr.setParent($);var Gr=new Transform({position:new Vector3(38,0,17.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Hr.addComponentOrReplace(Gr);var Qr=new GLTFShape("3e718ab8-14e9-4352-a972-620da3ae778c/StreetClock_01/StreetClock_01.glb");Qr.withCollisions=!0,Qr.isPointerBlocker=!0,Qr.visible=!0,Hr.addComponentOrReplace(Qr);var qr=new Entity("signpostTree");engine.addEntity(qr),qr.setParent($);var Wr=new Transform({position:new Vector3(27,0,12),rotation:new Quaternion(-34335878121316034e-31,.9951847195625305,-1.1863524207456067e-7,.09801717102527618),scale:new Vector3(.9999999403953552,1,.9999999403953552)});qr.addComponentOrReplace(Wr);var Xr=new Entity("wallPlainGlass16");engine.addEntity(Xr),Xr.setParent($),Xr.addComponentOrReplace(Re);var Yr=new Transform({position:new Vector3(15.5,0,35.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(7.499999046325684,1.125,.9999998807907104)});Xr.addComponentOrReplace(Yr);var Kr=new Entity("streetClock2");engine.addEntity(Kr),Kr.setParent($),Kr.addComponentOrReplace(Qr);var Zr=new Transform({position:new Vector3(10,0,36.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Kr.addComponentOrReplace(Zr);var Jr=new Entity("plainText4");engine.addEntity(Jr),Jr.setParent($);var $r=new Transform({position:new Vector3(15.5,3.5,40),rotation:new Quaternion(-1718938699367368e-30,.70710688829422,-8.429370268459024e-8,.7071067690849304),scale:new Vector3(3.7500104904174805,5,1.0000025033950806)});Jr.addComponentOrReplace($r);var ei=new Entity("plainText5");engine.addEntity(ei),ei.setParent($);var ti=new Transform({position:new Vector3(24,6,44.5),rotation:new Quaternion(-17780280354051832e-31,1,-1.1920928244535389e-7,-2.9802322387695312e-8),scale:new Vector3(12,13.5,3.5000009536743164)});ei.addComponentOrReplace(ti);var ni=new Entity("plainText6");engine.addEntity(ni),ni.setParent($);var oi=new Transform({position:new Vector3(11.5,3,34),rotation:new Quaternion(48115236465494805e-31,-1,1.1920927533992653e-7,0),scale:new Vector3(3.75,4.5,1)});ni.addComponentOrReplace(oi);var ri=new Entity("informationTerminal");engine.addEntity(ri),ri.setParent($);var ii=new Transform({position:new Vector3(37,0,8),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});ri.addComponentOrReplace(ii);var ai=new GLTFShape("5e4a922e-50f1-40aa-a1a3-bee660371499/Terminal_01/Terminal_01.glb");ai.withCollisions=!0,ai.isPointerBlocker=!0,ai.visible=!0,ri.addComponentOrReplace(ai);var si=new Entity("streetMailbox");engine.addEntity(si),si.setParent($);var ci=new Transform({position:new Vector3(37.5,0,6),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});si.addComponentOrReplace(ci);var di=new GLTFShape("38832f4a-2a1b-4139-8d73-3146f1261e95/MailPost_01/MailPost_01.glb");di.withCollisions=!0,di.isPointerBlocker=!0,di.visible=!0,si.addComponentOrReplace(di);var li=new Entity("urbanTrashCan");engine.addEntity(li),li.setParent($);var pi=new Transform({position:new Vector3(11,0,44),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});li.addComponentOrReplace(pi);var ui=new GLTFShape("c5daf807-1dde-41e8-a1db-c30f58917457/TrashCan_01/TrashCan_01.glb");ui.withCollisions=!0,ui.isPointerBlocker=!0,ui.visible=!0,li.addComponentOrReplace(ui);var hi=new Entity("externalLink3");engine.addEntity(hi),hi.setParent($);var yi=new Transform({position:new Vector3(36.5,0,11.5),rotation:new Quaternion(4127578846475997e-30,-.7071068286895752,8.429368847373553e-8,-.7071068286895752),scale:new Vector3(1.0000154972076416,1,.5000077486038208)});hi.addComponentOrReplace(yi);var fi=new Entity("ambientSound");engine.addEntity(fi),fi.setParent($);var mi=new Transform({position:new Vector3(12.5,0,3.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});fi.addComponentOrReplace(mi);var gi=new Entity("wallPlainGlass19");engine.addEntity(gi),gi.setParent($),gi.addComponentOrReplace(Re);var wi=new Transform({position:new Vector3(10,0,10),rotation:new Quaternion(0,0,0,1),scale:new Vector3(3.7499990463256836,1.125,.9999998211860657)});gi.addComponentOrReplace(wi);var vi=new Entity("wallPlainGlass20");engine.addEntity(vi),vi.setParent($),vi.addComponentOrReplace(Re);var bi=new Transform({position:new Vector3(10.5,0,17),rotation:new Quaternion(0,0,0,1),scale:new Vector3(3.7499990463256836,1.125,.9999998211860657)});vi.addComponentOrReplace(bi);var Ci=new Entity("wallPlainGlass21");engine.addEntity(Ci),Ci.setParent($),Ci.addComponentOrReplace(Re);var Ti=new Transform({position:new Vector3(13,0,15),rotation:new Quaternion(-.7071067690849304,-1.053671283557378e-8,7.375696498002071e-8,.7071068286895752),scale:new Vector3(3.7499990463256836,1.125,.9999998211860657)});Ci.addComponentOrReplace(Ti);var _i=new Entity("wallPlainGlass22");engine.addEntity(_i),_i.setParent($),_i.addComponentOrReplace(Re);var xi=new Transform({position:new Vector3(10,4.5,10),rotation:new Quaternion(.7071068286895752,41028494548831114e-32,-8.429369557916289e-8,.7071068286895752),scale:new Vector3(3.7499990463256836,1.6875122785568237,1.0000035762786865)});_i.addComponentOrReplace(xi);var Ei=new Entity("grassTile35");engine.addEntity(Ei),Ei.setParent($),Ei.addComponentOrReplace(ct);var Ai=new Transform({position:new Vector3(17,0,13.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(6,1,1)});Ei.addComponentOrReplace(Ai);var Si=new Entity("galleryInfoBlack2");engine.addEntity(Si),Si.setParent($);var Oi=new Transform({position:new Vector3(17,0,8.5),rotation:new Quaternion(11664156138624805e-30,.2902850806713104,-3.460467823401814e-8,.9569402933120728),scale:new Vector3(1.000004768371582,1,1.000004768371582)});Si.addComponentOrReplace(Oi);var Pi=new Entity("grassTile36");engine.addEntity(Pi),Pi.setParent($),Pi.addComponentOrReplace(ct);var Ii=new Transform({position:new Vector3(17,0,11.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(6,1,1)});Pi.addComponentOrReplace(Ii);var Mi=new Entity("grassTile37");engine.addEntity(Mi),Mi.setParent($),Mi.addComponentOrReplace(ct);var Vi=new Transform({position:new Vector3(17,0,15.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(6,1,1)});Mi.addComponentOrReplace(Vi);var Fi=new Entity("grassTile38");engine.addEntity(Fi),Fi.setParent($),Fi.addComponentOrReplace(ct);var zi=new Transform({position:new Vector3(17,0,10.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(6,1,1)});Fi.addComponentOrReplace(zi);var Li=new Entity("signpostGolden4");engine.addEntity(Li),Li.setParent($);var Ni=new Transform({position:new Vector3(21,0,9),rotation:new Quaternion(9476975852540026e-32,-1,1.1920926823449918e-7,-2.9802318834981634e-8),scale:new Vector3(1.000001072883606,1,1.000001072883606)});Li.addComponentOrReplace(Ni);var Di=new Entity("plainText2");engine.addEntity(Di),Di.setParent($);var Bi=new Transform({position:new Vector3(10.5,4,13.5),rotation:new Quaternion(-15394153601527394e-31,.7071068286895752,-8.429369557916289e-8,.7071068286895752),scale:new Vector3(3.000002384185791,1,1.0000007152557373)});Di.addComponentOrReplace(Bi);var ki=new Entity("externalLink4");engine.addEntity(ki),ki.setParent($);var Ui=new Transform({position:new Vector3(12,.5,11.5),rotation:new Quaternion(14590337334033192e-30,-.70710688829422,8.429368847373553e-8,-.7071067690849304),scale:new Vector3(1.0000038146972656,1,1.0000038146972656)});ki.addComponentOrReplace(Ui);var ji=new Entity("externalLink5");engine.addEntity(ji),ji.setParent($);var Hi=new Transform({position:new Vector3(12,.5,12.5),rotation:new Quaternion(14590337334033192e-30,-.70710688829422,8.429368847373553e-8,-.7071067690849304),scale:new Vector3(1.0000040531158447,1,1.0000040531158447)});ji.addComponentOrReplace(Hi);var Gi=new Entity("externalLink6");engine.addEntity(Gi),Gi.setParent($);var Qi=new Transform({position:new Vector3(12,.5,13.5),rotation:new Quaternion(14590337334033192e-30,-.70710688829422,8.429368847373553e-8,-.7071067690849304),scale:new Vector3(1.0000042915344238,1,1.0000042915344238)});Gi.addComponentOrReplace(Qi);var qi=new Entity("tableWithChairs2");engine.addEntity(qi),qi.setParent($),qi.addComponentOrReplace(tr);var Wi=new Transform({position:new Vector3(7,0,13),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});qi.addComponentOrReplace(Wi);var Xi=new Entity("plainText7");engine.addEntity(Xi),Xi.setParent($);var Yi=new Transform({position:new Vector3(10.5,3.5,13.5),rotation:new Quaternion(-15394153601527394e-31,.7071068286895752,-8.429369557916289e-8,.7071068286895752),scale:new Vector3(3.000035047531128,1,1.0000073909759521)});Xi.addComponentOrReplace(Yi);var Ki=new Entity("blockFloorLight3");engine.addEntity(Ki),Ki.setParent($);var Zi=new Transform({position:new Vector3(12,0,10),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Ki.addComponentOrReplace(Zi);var Ji=new Entity("blockFloorLight4");engine.addEntity(Ji),Ji.setParent($);var $i=new Transform({position:new Vector3(12,0,16),rotation:new Quaternion(0,0,0,1),scale:new Vector3(1,1,1)});Ji.addComponentOrReplace($i);var ea=new Entity("couchTwoSeater");engine.addEntity(ea),ea.setParent($);var ta=new Transform({position:new Vector3(16.5,0,15),rotation:new Quaternion(37915032780598025e-31,-1,1.1920928244535389e-7,-3.725290298461914e-8),scale:new Vector3(1,1,1)});ea.addComponentOrReplace(ta);var na=new GLTFShape("c28761f2-759f-4b9a-b497-9dfcabf3aa3f/TwoSeater_Couch.glb");na.withCollisions=!0,na.isPointerBlocker=!0,na.visible=!0,ea.addComponentOrReplace(na);var oa=new Entity("messageBubble");engine.addEntity(oa),oa.setParent($);var ra=new Transform({position:new Vector3(18,0,14.5),rotation:new Quaternion(0,0,0,1),scale:new Vector3(5.625,3,1)});oa.addComponentOrReplace(ra);var ia=Math.random().toString(16).slice(2),aa=new MessageBus,sa={inventory:(0,E.createInventory)(UICanvas,UIContainerStack,UIImage)},ca=new R.default,da=new A.default,la=new S.default,pa=new O.default,ua=new I.default,ha=new M.default,ya=new V.default,fa=new z.default,ma=new B.default,ga=new k.default,wa=new j.default,va=new H.default,ba=new Q.default,Ca=new q.default,Ta=new W.default,_a=new X.default,xa=new K.default,Ea=new Z.default,Ra=new J.default;ca.init(sa),da.init(sa),la.init(sa),pa.init(sa),ua.init(sa),ha.init(sa),ya.init(sa),fa.init(sa),ma.init(sa),ga.init(sa),wa.init(sa),va.init(sa),ba.init(sa),Ca.init(sa),Ta.init(sa),_a.init(sa),xa.init(sa),Ea.init(sa),Ra.init(sa),ca.spawn(He,{text:"FIDELITY INVESTMENTS",font:"SF",color:"#FFFFFF"},(0,T.createChannel)(ia,He,aa)),da.spawn(Xe,{startOn:!0,onClickText:"PLEASE CHECK BELOW URL",volume:1,onClick:[{entityName:"externalLink",actionId:"activate",values:{}}],station:"https://theuniverse.club/live/genesisplaza/index.m3u8",image:""},(0,T.createChannel)(ia,Xe,aa)),la.spawn(rt,{url:"https://www.youtube.com/watch?v=w_Ma8oQLmSM",name:"FOR LIVE ABC NEWS. CLICK!"},(0,T.createChannel)(ia,rt,aa)),pa.spawn(Yt,{textTop:"Welcome to FMR",textLower:"Way to Free Coffee",fontSize:20},(0,T.createChannel)(ia,Yt,aa)),ua.spawn(Zt,{text:"CONFERENCE ROOM",fontSize:20},(0,T.createChannel)(ia,Zt,aa)),ha.spawn(Ln,{onClickText:"Tap to Open",onClick:[{entityName:"cyberpunkDoor",actionId:"toggle",values:{}}]},(0,T.createChannel)(ia,Ln,aa)),ya.spawn(Kn,{startOn:!0,clickable:!0},(0,T.createChannel)(ia,Kn,aa)),ya.spawn(Jn,{startOn:!0,clickable:!0},(0,T.createChannel)(ia,Jn,aa)),fa.spawn(oo,{text:"FBT INNOVATION",fontSize:6,font:"SF_Heavy",color:"#000000"},(0,T.createChannel)(ia,oo,aa)),la.spawn(_o,{url:"https://www.swiggy.com/restaurants",name:"WANNA GRAB FREE COFFEE"},(0,T.createChannel)(ia,_o,aa)),ua.spawn(Eo,{text:"WAY TO FREE COFFEE",fontSize:15.5},(0,T.createChannel)(ia,Eo,aa)),ca.spawn(Uo,{text:"CONFERENCE ROOM",font:"SF",color:"#FFFFFF"},(0,T.createChannel)(ia,Uo,aa)),ma.spawn(Ho,{initialVal:0,threshold:100,enabled:!0},(0,T.createChannel)(ia,Ho,aa)),ua.spawn(Xo,{text:"PLAY ARENA",fontSize:17.5},(0,T.createChannel)(ia,Xo,aa)),ga.spawn(hr,{startOn:!1,onClickText:"Play video",volume:1,onClick:[{entityName:"videoComputerScreen",actionId:"toggle",values:{}}]},(0,T.createChannel)(ia,hr,aa)),ga.spawn(fr,{startOn:!1,onClickText:"Play video",volume:1,onClick:[{entityName:"videoComputerScreen2",actionId:"toggle",values:{}}]},(0,T.createChannel)(ia,fr,aa)),ga.spawn(gr,{startOn:!1,onClickText:"Play video",volume:1,onClick:[{entityName:"videoComputerScreen3",actionId:"toggle",values:{}}]},(0,T.createChannel)(ia,gr,aa)),da.spawn(vr,{startOn:!0,onClickText:"Play video",volume:1,onClick:[{entityName:"videoScreenStanding2",actionId:"toggle",values:{}}],image:"https://dummyimage.com/3840x2160/000/fff.png&text=Welcome+To+FBT+INNOVATION"},(0,T.createChannel)(ia,vr,aa)),wa.spawn(Cr,{clickable:!0},(0,T.createChannel)(ia,Cr,aa)),va.spawn(_r,{clickable:!0},(0,T.createChannel)(ia,_r,aa)),ba.spawn(zr,{text:"WELCOME FBT INNOVATION \n\nPLEASE CHECK BELOW LINKS",fontSize:5,font:"SF_Heavy",color:"#000000"},(0,T.createChannel)(ia,zr,aa)),Ca.spawn(Nr,{url:"fidelityinvestments",bnw:!1},(0,T.createChannel)(ia,Nr,aa)),Ta.spawn(Br,{url:"Fidelity",bnw:!1},(0,T.createChannel)(ia,Br,aa)),_a.spawn(Ur,{url:"fidelity",bnw:!1},(0,T.createChannel)(ia,Ur,aa)),xa.spawn(qr,{text:"FMR WORLD ",fontSize:22},(0,T.createChannel)(ia,qr,aa)),ca.spawn(Jr,{text:"COFFEE BREAKOUT",font:"SF",color:"#FFFFFF"},(0,T.createChannel)(ia,Jr,aa)),ca.spawn(ei,{text:"FBT INNOVATION LAB",font:"SF_Heavy",color:"#FFFFFF"},(0,T.createChannel)(ia,ei,aa)),ca.spawn(ni,{text:"FBT INNOVATIONS",font:"SF_Heavy",color:"#FFFFFF"},(0,T.createChannel)(ia,ni,aa)),la.spawn(hi,{url:"https://www.youtube.com/watch?v=KkHqNv_r9cQ",name:"FIDELITY LAND"},(0,T.createChannel)(ia,hi,aa)),Ea.spawn(fi,{sound:"Birds",active:!0,loop:!0},(0,T.createChannel)(ia,fi,aa)),fa.spawn(Si,{text:"FBT INNOVATION:POC HIGHLIGHTS\nFEEL THE EXPERIENCE\n\nPLEASE CHECK THE LINKS",fontSize:3.5,font:"SF_Heavy",color:"#000000"},(0,T.createChannel)(ia,Si,aa)),ua.spawn(Li,{text:"FBT POC",fontSize:25},(0,T.createChannel)(ia,Li,aa)),ca.spawn(Di,{text:"FBT INNOVATION",font:"SF_Heavy",color:"#FFFFFF"},(0,T.createChannel)(ia,Di,aa)),la.spawn(ki,{url:"https://projects.invisionapp.com/share/MD10MM70C4GA#/screens/449134727",name:"Trendster"},(0,T.createChannel)(ia,ki,aa)),la.spawn(ji,{url:"https://projects.invisionapp.com/prototype/WealthscapeUX-2-0-ckgj9gt540040q401x9f9btv9/play/63307527",name:"Wealthscape onboarding "},(0,T.createChannel)(ia,ji,aa)),la.spawn(Gi,{url:"https://vinay125876.invisionapp.com/prototype/FID-MEET-W-ckc23ojit00876a01fg3z9k45/play/6419e68e",name:"Fidmeet solution"},(0,T.createChannel)(ia,Gi,aa)),ca.spawn(Xi,{text:"FEEL THE EXPERIENCE",font:"SF_Heavy",color:"#FFFFFF"},(0,T.createChannel)(ia,Xi,aa)),ya.spawn(Ki,{startOn:!0,clickable:!0},(0,T.createChannel)(ia,Ki,aa)),ya.spawn(Ji,{startOn:!0,clickable:!0},(0,T.createChannel)(ia,Ji,aa)),Ra.spawn(oa,{text:"LET'S TALK CRYPTO!!!!",fontSize:14.5},(0,T.createChannel)(ia,oa,aa))}));